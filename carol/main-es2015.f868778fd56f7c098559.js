(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("wj3C"),o=n("q/0M"),s=n("zVF4"),a=n("x7I3"),u=n("S+S0"),l=i&&"object"==typeof i&&"default"in i?i:{default:i},c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),f=new o.Logger("@firebase/firestore");function d(){return f.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.DEBUG){var i=e.map(v);f.debug.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.ERROR){var i=e.map(v);f.error.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.WARN){var i=e.map(v);f.warn.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function v(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function y(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function b(t,e){t||y()}function w(t,e){return t}function _(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function E(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var I=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y(),void 0===n?n=t.length-e:n>t.length-e&&y(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new h(c.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.P=function(){return new e([])},e}(I),x=/^[_a-zA-Z][_a-zA-Z0-9]*$/,S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return x.test(t)},e.prototype.R=function(){return this.A().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new h(c.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new h(c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new h(c.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(I),k=function(){function t(t){this.path=t}return t.D=function(e){return new t(T.g(e))},t.C=function(e){return new t(T.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===T.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return T.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new T(e.slice()))},t}();function A(t,e){if(0!==e.length)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+W(e.length,"argument")+".")}function O(t,e,n){if(e.length!==n)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function N(t,e,n){if(e.length<n)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires at least "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function P(t,e,n,r){if(e.length<n||e.length>r)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+W(e.length,"argument")+".")}function R(t,e,n,r){j(t,e,$(n)+" argument",r)}function D(t,e,n,r){void 0!==r&&R(t,e,n,r)}function M(t,e,n,r){j(t,e,n+" option",r)}function L(t,e,n,r){void 0!==r&&M(t,e,n,r)}function U(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(q(u))}var l=q(r);throw new h(c.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function V(t,e,n,r){if(!e.some(function(t){return t===r}))throw new h(c.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+t+"() for its "+$(n)+" argument. Acceptable values: "+e.join(", "));return r}function j(t,e,n,r){if(!("object"===e?F(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=q(r);throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function F(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y()}function B(t,e,n){if(void 0===n)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+$(e)+" argument, but it was undefined.")}function z(t,e,n){E(e,function(e,r){if(n.indexOf(e)<0)throw new h(c.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function G(t,e,n,r){var i=q(r);return new h(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+$(n)+" argument to be a "+e+", but it was: "+i)}function H(t,e,n){if(n<=0)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+$(e)+" argument to be a positive number, but it was: "+n+".")}function $(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function W(t,e){return t+" "+e+(1===t?"":"s")}function K(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var X=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=K(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Q(t,e){return t<e?-1:t>e?1:0}function Y(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function J(t){return t+"\0"}var Z=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return Q(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Z.B=new Z("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Z.fromBase64String(e))}catch(e){throw new h(c.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Z.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(c.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(c.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){O("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,t),nt();try{return new e(Z.fromBase64String(t))}catch(t){throw new h(c.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(O("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw G("Blob.fromUint8Array","Uint8Array",1,t);return new e(Z.fromUint8Array(t))},e.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return O("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},ot=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return Q(this.projectId,t.projectId)||Q(this.database,t.database)},t}(),st=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.G(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){E(this.H,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.m=function(){return C(this.H)},t}(),at=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new at(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();function lt(t){return null==t}function ct(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!ct(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ft=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function dt(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ft(t,e,n,r,i,o,s)}function pt(t){var e=w(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return(e=t).field.R()+e.dir;var e}).join(","),lt(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=sr(e.startAt)),e.endAt&&(n+="|ub:",n+=sr(e.endAt)),e.tt=n}return e.tt}function gt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!te(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ur(t.startAt,e.startAt)&&ur(t.endAt,e.endAt)}function mt(t){return k.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var vt,yt,bt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ut.min()),void 0===o&&(o=ut.min()),void 0===s&&(s=Z.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),wt=function(t){this.count=t};function _t(t){switch(t){case c.OK:return y();case c.CANCELLED:case c.UNKNOWN:case c.DEADLINE_EXCEEDED:case c.RESOURCE_EXHAUSTED:case c.INTERNAL:case c.UNAVAILABLE:case c.UNAUTHENTICATED:return!1;case c.INVALID_ARGUMENT:case c.NOT_FOUND:case c.ALREADY_EXISTS:case c.PERMISSION_DENIED:case c.FAILED_PRECONDITION:case c.ABORTED:case c.OUT_OF_RANGE:case c.UNIMPLEMENTED:case c.DATA_LOSS:return!0;default:return y()}}function Et(t){if(void 0===t)return g("GRPC error has no .code"),c.UNKNOWN;switch(t){case vt.OK:return c.OK;case vt.CANCELLED:return c.CANCELLED;case vt.UNKNOWN:return c.UNKNOWN;case vt.DEADLINE_EXCEEDED:return c.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return c.RESOURCE_EXHAUSTED;case vt.INTERNAL:return c.INTERNAL;case vt.UNAVAILABLE:return c.UNAVAILABLE;case vt.UNAUTHENTICATED:return c.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return c.INVALID_ARGUMENT;case vt.NOT_FOUND:return c.NOT_FOUND;case vt.ALREADY_EXISTS:return c.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return c.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return c.FAILED_PRECONDITION;case vt.ABORTED:return c.ABORTED;case vt.OUT_OF_RANGE:return c.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return c.UNIMPLEMENTED;case vt.DATA_LOSS:return c.DATA_LOSS;default:return y()}}(yt=vt||(vt={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";var Ct=function(){function t(t,e){this.i=t,this.root=e||Tt.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,Tt.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,Tt.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.ht(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new It(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new It(this.root,t,this.i,!1)},t.prototype.dt=function(){return new It(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new It(this.root,t,this.i,!0)},t}(),It=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),Tt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw y();if(this.right.yt())throw y();var t=this.left.Nt();if(t!==this.right.Nt())throw y();return t+(this.yt()?0:1)},t}();Tt.EMPTY=null,Tt.RED=!0,Tt.at=!1,Tt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new Tt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var xt=function(){function t(t){this.i=t,this.data=new Ct(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht(function(e,n){return t(e),!1})},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new St(this.data._t())},t.prototype.ft=function(t){return new St(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),St=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),kt=new Ct(k.i);function At(){return kt}function Ot(){return At()}var Nt=new Ct(k.i);function Pt(){return Nt}var Rt=new Ct(k.i),Dt=new xt(k.i);function Mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Dt,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var Lt=new xt(Q);function Ut(){return Lt}var Vt=function(){function t(t){this.i=t?function(e,n){return t(e,n)||k.i(e.key,n.key)}:function(t,e){return k.i(t.key,e.key)},this.Ot=Pt(),this.Lt=new Ct(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),jt=function(){function t(){this.qt=new Ct(k.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):y():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht(function(e,n){t.push(n)}),t},t}(),Ft=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=s,this.Kt=a}return t.Gt=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Vt.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&Hn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),qt=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,Bt.Zt(e,n)),new t(ut.min(),r,Ut(),At(),Mt())},t}(),Bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Z.B,n,Mt(),Mt(),Mt())},t}(),zt=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Gt=function(t,e){this.targetId=t,this.oe=e},Ht=function(t,e,n,r){void 0===n&&(n=Z.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},$t=function(){function t(){this.ae=0,this.ce=Xt(),this.ue=Z.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Mt(),e=Mt(),n=Mt();return this.ce.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:y()}}),new Bt(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Xt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Wt=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=At(),this.Ve=Kt(),this.pe=new xt(Q)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof An?this.ve(r,t.re):t.re instanceof On&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:y()}})},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach(function(t,r){n.Fe(r)&&e(r)})},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(mt(i))if(0===n){var o=new k(i.path);this.Se(e,o,new On(o,ut.min()))}else b(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach(function(r,i){var o=e.ke(i);if(o){if(r.te&&mt(o.target)){var s=new k(o.target.path);null!==e.ye.get(s)||e.Le(i,s)||e.Se(i,s,new On(s,t))}r.fe&&(n.set(i,r.we()),r.me())}});var r=Mt();this.Ve.forEach(function(t,n){var i=!0;n.xt(function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)}),i&&(r=r.add(t))});var i=new qt(t,n,this.pe,this.ye,r);return this.ye=At(),this.Ve=Kt(),this.pe=new xt(Q),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new $t,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new xt(Q),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new $t),this.ge.qe(t).forEach(function(n){e.Se(t,n,null)})},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();function Kt(){return new Ct(k.i)}function Xt(){return new Ct(k.i)}function Qt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yt(t){var e=oe(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var Jt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qt(t)?4:10:y()}function te(t,e){var n=Zt(t);if(n!==Zt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yt(t).isEqual(Yt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oe(t.timestampValue),r=oe(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ae(t.bytesValue).isEqual(ae(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return se(t.geoPointValue.latitude)===se(e.geoPointValue.latitude)&&se(t.geoPointValue.longitude)===se(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return se(t.integerValue)===se(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=se(t.doubleValue),r=se(e.doubleValue);return n===r?ct(n)===ct(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Y(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(_(n)!==_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return y()}}function ee(t,e){return void 0!==(t.values||[]).find(function(t){return te(t,e)})}function ne(t,e){var n=Zt(t),r=Zt(e);if(n!==r)return Q(n,r);switch(n){case 0:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=se(t.integerValue||t.doubleValue),r=se(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Yt(t),Yt(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ae(t),r=ae(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Q(n[i],r[i]);if(0!==o)return o}return Q(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Q(se(t.latitude),se(e.latitude));return 0!==n?n:Q(se(t.longitude),se(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ne(n[i],r[i]);if(o)return o}return Q(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Q(r[s],o[s]);if(0!==a)return a;var u=ne(n[r[s]],i[o[s]]);if(0!==u)return u}return Q(r.length,o.length)}(t.mapValue,e.mapValue);default:throw y()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Q(t,e);var n=oe(t),r=oe(e),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=oe(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ae(e.bytesValue).toBase64():"referenceValue"in e?k.C(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):y();var n}(t)}function oe(t){if(b(!!t),"string"==typeof t){var e=0,n=Jt.exec(t);if(b(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:se(t.seconds),nanos:se(t.nanos)}}function se(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ae(t){return"string"==typeof t?Z.fromBase64String(t):Z.fromUint8Array(t)}function ue(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function le(t){return!!t&&"integerValue"in t}function ce(t){return!!t&&"arrayValue"in t}function he(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}var pe={asc:"ASCENDING",desc:"DESCENDING"},ge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},me=function(t,e){this.U=t,this.Qe=e};function ve(t){return{integerValue:""+t}}function ye(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ct(e)?"-0":e}}function be(t,e){return ht(e)?ve(e):ye(t,e)}function we(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function _e(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function Ee(t,e){return we(t,e.Z())}function Ce(t){return b(!!t),ut.J(function(t){var e=oe(t);return new at(e.seconds,e.nanos)}(t))}function Ie(t,e){return function(t){return new T(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Te(t){var e=T.g(t);return b($e(e)),e}function xe(t,e){return Ie(t.U,e.path)}function Se(t,e){var n=Te(e);return b(n.get(1)===t.U.projectId),b(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new k(Ne(n))}function ke(t,e){return Ie(t.U,e)}function Ae(t){var e=Te(t);return 4===e.length?T.P():Ne(e)}function Oe(t){return new T(["projects",t.U.projectId,"databases",t.U.database]).R()}function Ne(t){return b(t.length>4&&"documents"===t.get(4)),t.u(5)}function Pe(t,e,n){return{name:xe(t,e),fields:n.proto.mapValue.fields}}function Re(t,e){var n;if(e instanceof vn)n={update:Pe(t,e.key,e.value)};else if(e instanceof Cn)n={delete:xe(t,e.key)};else if(e instanceof yn)n={update:Pe(t,e.key,e.data),updateMask:He(e.We)};else if(e instanceof wn)n={transform:{document:xe(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ye)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Je)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.je};throw y()}(0,t)})}};else{if(!(e instanceof In))return y();n={verify:xe(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ee(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y()}(t,e.Ge)),n}function De(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ln.updateTime(Ce(t.updateTime)):void 0!==t.exists?ln.exists(t.exists):ln.ze()}(e.currentDocument):ln.ze();if(e.update){var r=Se(t,e.update.name),i=new Tn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=new sn((e.updateMask.fieldPaths||[]).map(function(t){return S.S(t)}));return new yn(r,i,o,n)}return new vn(r,i,n)}if(e.delete){var s=Se(t,e.delete);return new Cn(s,n)}if(e.transform){var a=Se(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(b("REQUEST_TIME"===e.setToServerValue),n=new Ye):"appendMissingElements"in e?n=new Je(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tn(e.removeAllFromArray.values||[]):"increment"in e?n=new nn(t,e.increment):y();var r=S.S(e.fieldPath);return new an(r,n)}(t,e)});return b(!0===n.exists),new wn(a,u)}if(e.verify){var l=Se(t,e.verify);return new In(l,n)}return y()}function Me(t,e){return{documents:[ke(t,e.path)]}}function Le(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ke(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ke(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qe(t.field),op:Fe(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:qe(t.field),direction:je(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Qe||lt(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ue(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ue(e.endAt)),n}function Ue(t){return{before:t.before,values:t.position}}function Ve(t){return new or(t.values||[],!!t.before)}function je(t){return pe[t]}function Fe(t){return ge[t]}function qe(t){return{fieldPath:t.R()}}function Be(t){return S.S(t.fieldPath)}function ze(t){return Qn.create(Be(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ge(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Be(t.unaryFilter.field);return Qn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Be(t.unaryFilter.field);return Qn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Be(t.unaryFilter.field);return Qn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Be(t.unaryFilter.field);return Qn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function He(t){var e=[];return t.fields.forEach(function(t){return e.push(t.R())}),{fieldPaths:e}}function $e(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var We=function(){this.He=void 0};function Ke(t,e,n){return t instanceof Ye?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):function(t,e){var n=Qe(t,e),r=rn(n)+rn(t.je);return le(n)&&le(t.je)?ve(r):ye(t.serializer,r)}(t,e)}function Xe(t,e,n){return t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):n}function Qe(t,e){return t instanceof nn?le(n=e)||n&&"doubleValue"in n?e:{integerValue:0}:null;var n}var Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(We),Je=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(We);function Ze(t,e){for(var n=on(e),r=function(t){n.some(function(e){return te(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(We);function en(t,e){for(var n=on(e),r=function(t){n=n.filter(function(e){return!te(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return r.__extends(e,t),e}(We);function rn(t){return se(t.integerValue||t.doubleValue)}function on(t){return ce(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var sn=function(){function t(t){this.fields=t,t.sort(S.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return Y(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),an=function(t,e){this.field=t,this.transform=e},un=function(t,e){this.version=t,this.transformResults=e},ln=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function cn(t,e){return void 0!==t.updateTime?e instanceof An&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof An}var hn=function(){};function fn(t,e,n){return t instanceof vn?function(t,e,n){return new An(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof yn?function(t,e,n){if(!cn(t.Ge,e))return new Nn(t.key,n.version);var r=bn(t,e);return new An(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof wn?function(t,e,n){if(b(null!=n.transformResults),!cn(t.Ge,e))return new Nn(t.key,n.version);var r=_n(0,e),i=function(t,e,n){var r=[];b(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof An&&(a=e.field(o.field)),r.push(Xe(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=En(t,r.data(),i);return new An(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new On(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function dn(t,e,n,r){return t instanceof vn?function(t,e){if(!cn(t.Ge,e))return e;var n=mn(e);return new An(t.key,n,t.value,{Je:!0})}(t,e):t instanceof yn?function(t,e){if(!cn(t.Ge,e))return e;var n=mn(e),r=bn(t,e);return new An(t.key,n,r,{Je:!0})}(t,e):t instanceof wn?function(t,e,n,r){if(!cn(t.Ge,e))return e;var i=_n(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,l=null;n instanceof An&&(l=n.field(a.field)),null===l&&r instanceof An&&(l=r.field(a.field)),i.push(Ke(u,l,e))}return i}(t.fieldTransforms,n,e,r),s=En(t,i.data(),o);return new An(t.key,i.version,s,{Je:!0})}(t,e,r,n):function(t,e){return cn(t.Ge,e)?new On(t.key,ut.min()):e}(t,e)}function pn(t,e){return t instanceof wn?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof An?e.field(o.field):void 0,a=Qe(o.transform,s||null);null!=a&&(n=null==n?(new xn).set(o.field,a):n.set(o.field,a))}return n?n.Xe():null}(t,e):null}function gn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||Y(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Je&&e instanceof Je||t instanceof tn&&e instanceof tn?Y(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.je,e.je):t instanceof Ye&&e instanceof Ye}(t.transform,e.transform)}(t,e)}))}function mn(t){return t instanceof An?t.version:ut.min()}var vn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(e,t),e}(hn),yn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return r.__extends(e,t),e}(hn);function bn(t,e){return function(t,e){var n=new xn(e);return t.We.fields.forEach(function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Xe()}(t,e instanceof An?e.data():Tn.empty())}var wn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=ln.exists(!0),r}return r.__extends(e,t),e}(hn);function _n(t,e){return e}function En(t,e,n){for(var r=new xn(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var Cn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return r.__extends(e,t),e}(hn),In=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return r.__extends(e,t),e}(hn),Tn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),xn=function(){function t(t){void 0===t&&(t=Tn.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Zt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(S.P(),this.tn);return null!=t?new Tn(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=de(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.nn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Sn(t){var e=[];return E(t.fields||{},function(t,n){var r=new S([t]);if(de(n)){var i=Sn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new sn(e)}var kn=function(t,e){this.key=t,this.version=e},An=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(kn),On=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(kn),Nn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(kn),Pn=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.cn=null,this.un=null};function Rn(t,e,n,r,i,o,s,a){return new Pn(t,e,n,r,i,o,s,a)}function Dn(t){return new Pn(t)}function Mn(t){return!lt(t.limit)&&"F"===t.an}function Ln(t){return!lt(t.limit)&&"L"===t.an}function Un(t){return t.on.length>0?t.on[0].field:null}function Vn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function jn(t){return null!==t.collectionGroup}function Fn(t){var e=w(t);if(null===e.cn){e.cn=[];var n=Vn(e),r=Un(e);if(null!==n&&null===r)n.p()||e.cn.push(new lr(n)),e.cn.push(new lr(S.v(),"asc"));else{for(var i=!1,o=0,s=e.on;o<s.length;o++){var a=s[o];e.cn.push(a),a.field.p()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new lr(S.v(),u))}}}return e.cn}function qn(t){var e=w(t);if(!e.un)if("F"===e.an)e.un=dt(e.path,e.collectionGroup,Fn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Fn(e);r<i.length;r++){var o=i[r];n.push(new lr(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new or(e.endAt.position,!e.endAt.before):null,a=e.startAt?new or(e.startAt.position,!e.startAt.before):null;e.un=dt(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.un}function Bn(t,e,n){return new Pn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zn(t,e){return new Pn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Gn(t,e){return new Pn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Hn(t,e){return gt(qn(t),qn(e))&&t.an===e.an}function $n(t){return pt(qn(t))+"|lt:"+t.an}function Wn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e}).join(", ")+"]"),lt(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return(e=t).field.R()+" ("+e.dir+")";var e}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+sr(t.startAt)),t.endAt&&(e+=", endAt: "+sr(t.endAt)),"Target("+e+")"}(qn(t))+"; limitType="+t.an+")"}function Kn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):k.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ar(t.startAt,Fn(t),e)||t.endAt&&ar(t.endAt,Fn(t),e))}(t,e)}function Xn(t){return function(e,n){for(var r=!1,i=0,o=Fn(t);i<o.length;i++){var s=o[i],a=cr(s,e,n);if(0!==a)return a;r=r||s.field.p()}return 0}}var Qn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new Yn(t,n,r);if(he(r)){if("=="!==n&&"!="!==n)throw new h(c.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(fe(r)){if("=="!==n&&"!="!==n)throw new h(c.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new er(t,r):"in"===n?new nr(t,r):"not-in"===n?new rr(t,r):"array-contains-any"===n?new ir(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Jn(t,n):new Zn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ne(e,this.value)):null!==e&&Zt(this.value)===Zt(e)&&this._n(ne(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return y()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Yn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=k.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=k.i(t.key,this.key);return this._n(e)},e}(Qn),Jn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qn),Zn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qn);function tr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return k.C(t.referenceValue)})}var er=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ce(e)&&ee(e.arrayValue,this.value)},e}(Qn),nr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Qn),rr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Qn),ir=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ce(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ee(e.value.arrayValue,t)})},e}(Qn),or=function(t,e){this.position=t,this.before=e};function sr(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ie(t)}).join(",")}function ar(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.p()?k.i(k.C(s.referenceValue),n.key):ne(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ur(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var lr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function cr(t,e,n){var r=t.field.p()?k.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}function hr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},dr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,function(){return e.An=Date.now(),t()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),pr=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t(function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)},function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&y(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t(function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}})},t.prototype.Fn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn(function(){return e(n)}):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),gr=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(s.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return p("SimpleDb","Removing database:",t),_r(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=s.getUA(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n=this;return r.__generator(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new vr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new h(c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new vr(t,n))},i.onupgradeneeded=function(t){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}})})},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,function(){var o,s,a,u,l;return r.__generator(this,function(c){switch(c.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,l,c,h;return r.__generator(this,function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Wn(t)];case 2:return u.db=r.sent(),e=br.open(u.db,t,o?"readonly":"readwrite",n),a=i(e).catch(function(t){return e.abort(t),pr.reject(t)}).Fn(),l={},a.catch(function(){}),[4,e.Gn];case 3:return[2,(l.value=(r.sent(),a),l)];case 4:return p("SimpleDb","Transaction failed with error:",(c=r.sent()).message,"Retrying:",h="FirebaseError"!==c.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),mr=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return _r(this.zn.delete())},t}(),vr=function(t){function e(e,n){var r=this;return(r=t.call(this,c.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(e,t),e}(h);function yr(t){return"IndexedDbTransactionError"===t.name}var br=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new fr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new vr(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=Cr(e.target.error);n.Zn.reject(new vr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new vr(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wr(e)},t}(),wr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),_r(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),_r(this.store.add(t))},t.prototype.get=function(t){var e=this;return _r(this.store.get(t)).next(function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),_r(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),_r(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.ns=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,function(t,e,n){return n.delete()})},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new pr(function(n,r){e.onerror=function(t){var e=Cr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.es=function(t,e){var n=[];return new pr(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new mr(i),s=e(i.primaryKey,i.value,o);if(s instanceof pr){var a=s.catch(function(t){return o.done(),pr.reject(t)});n.push(a)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}}).next(function(){return pr.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function _r(t){return new pr(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Cr(t.target.error);n(e)}})}var Er=!1;function Cr(t){var e=gr.On(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Er||(Er=!0,setTimeout(function(){throw r},0)),r}}return t}function Ir(){return"undefined"!=typeof window?window:null}function Tr(){return"undefined"!=typeof document?document:null}var xr=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new fr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(t){})}return t._s=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.fs=setTimeout(function(){return e.ds()},t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(c.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws(function(){return null!==t.fs?(t.clearTimeout(),t.op().then(function(e){return t.ls.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Sr=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new dr(this,"async_queue_retry"),this.Vs=function(){var e=Tr();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Tr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Tr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise(function(t){}):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws(function(){return e.Es.push(t),e.Ns()})},t.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,function(){var t,e=this;return r.__generator(this,function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!yr(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return e.Ns()}),n.label=5;case 5:return[2]}})})},t.prototype.Ss=function(t){var e=this,n=this.Ts.then(function(){return e.gs=!0,t().catch(function(t){throw e.Rs=t,e.gs=!1,g("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gs=!1,t})});return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=xr._s(this,t,e,n,function(t){return r.Fs(t)});return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&y()},t.prototype.xs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then(function(){e.As.sort(function(t,e){return t.us-e.us});for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()})},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function kr(t,e){if(g("AsyncQueue",e+": "+t),yr(t))return new h(c.UNAVAILABLE,e+": "+t);throw t}var Ar=function(){this.Ls=void 0,this.listeners=[]},Or=function(){this.Bs=new st(function(t){return $n(t)},Hn),this.onlineState="Unknown",this.qs=new Set};function Nr(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a,u,l;return r.__generator(this,function(r){switch(r.label){case 0:if(n=w(t),o=!1,(s=n.Bs.get(i=e.query))||(o=!0,s=new Ar),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.Us(i)];case 2:return a.Ls=r.sent(),[3,4];case 3:return u=r.sent(),l=kr(u,"Initialization of query '"+Wn(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.Bs.set(i,s),s.listeners.push(e),e.Qs(n.onlineState),s.Ls&&e.Ws(s.Ls)&&Rr(n),[2]}})})}function Pr(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a;return r.__generator(this,function(r){return n=w(t),o=!1,(s=n.Bs.get(i=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.Bs.delete(i),n.js(i))]:[2]})})}function Rr(t){t.qs.forEach(function(t){t.next()})}var Dr=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ft(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.jt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=Ft.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),Mr=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Mr.UNAUTHENTICATED=new Mr(null),Mr.ei=new Mr("google-credentials-uid"),Mr.ni=new Mr("first-party-uid");var Lr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Ur(t,e){return"firestore_clients_"+t+"_"+e}function Vr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function jr(t,e){return"firestore_targets_"+t+"_"+e}Lr.ai=-1;var Fr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new h(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(g("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new t(e,r.state,o):(g("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Br=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ut(),s=0;i&&s<r.activeTargetIds.length;++s)i=ht(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(g("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(g("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gr=function(){function t(){this.activeTargetIds=Ut()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hr=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Ct(Q),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Ur(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Gr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,function(){var t,e,n,i,o,s,a,u,l,c,h=this;return r.__generator(this,function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(o=this.getItem(Ur(this.persistenceKey,i)))&&(s=Br.ci(i,o))&&(this.Ti=this.Ti.ot(s.clientId,s));for(this.bi(),(a=this.storage.getItem(this.Vi))&&(u=this.vi(a))&&this.Si(u),l=0,c=this.Ii;l<c.length;l++)this.mi(c[l]);return this.Ii=[],this.window.addEventListener("unload",function(){return h.Di()}),this.Ei=!0,[2]}})})},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(jr(this.persistenceKey,t));if(n){var r=qr.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(jr(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach(function(t){r.Mi(t)}),this.currentUser=t,n.forEach(function(t){r.xi(t)})},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return r.__awaiter(e,void 0,void 0,function(){var t,e,i,o,s,a;return r.__generator(this,function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.Vi){if(null!==n.newValue&&(s=this.vi(n.newValue)))return[2,this.Si(s)]}else n.key===this.Ri&&(a=function(t){var e=Lr.ai;if(null!=t)try{var n=JSON.parse(t);b("number"==typeof n),e=n}catch(t){g("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Lr.ai&&this.si(a)}else this.Ii.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new Fr(this.currentUser,t,e,n),i=Vr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=Vr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Wi=function(t,e,n){var r=jr(this.persistenceKey,t),i=new qr(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return Br.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]);return Fr.ci(new Mr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return qr.ci(r,e)},t.prototype.vi=function(t){return zr.ci(t)},t.prototype.Xi=function(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fi.sr(s,a).then(function(){n.Ti=r})},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=Ut();return t.forEach(function(t,n){e=e.kt(n.activeTargetIds)}),e},t}(),$r=function(){function t(){this.ir=new Gr,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Gr,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Wr=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=fn(o,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=dn(i,e,e,this.ar))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=dn(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Mt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations,function(t,e){return gn(t,e)})&&Y(this.baseMutations,t.baseMutations,function(t,e){return gn(t,e)})},t}(),Kr=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){b(e.mutations.length===r.length);for(var i=Rt,o=e.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Xr=function(){function t(){this.wr=new st(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?pr.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),Qr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yr=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach(function(t){return t()})},t}(),Jr=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next(function(r){return n.Fr(t,e,r)})},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t})},t.prototype.$r=function(t,e,n){var r=Ot();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)}),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next(function(e){return n.Mr(t,e)})},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next(function(r){var i=n.$r(t,e,r),o=At();return i.forEach(function(t,e){e||(e=new On(t,ut.min())),o=o.ot(t,e)}),o})},t.prototype.Lr=function(t,e,n){return function(t){return k.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):jn(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new k(e)).next(function(t){var e=Pt();return t instanceof An&&(e=e.ot(t.key,t)),e})},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=Pt();return this.Dr.Qr(t,i).next(function(s){return pr.forEach(s,function(s){var a=function(t,e){return new Pn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,s.child(i));return r.Ur(t,a,n).next(function(t){t.forEach(function(t,e){o=o.ot(t,e)})})}).next(function(){return o})})},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next(function(n){return r=n,o.Sr.Wr(t,e)}).next(function(e){return o.jr(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],l=u.key,c=r.get(l),h=dn(u,c,c,o.ar);r=h instanceof An?r.ot(l,h):r.remove(l)}})}).next(function(){return r.forEach(function(t,n){Kn(e,n)||(r=r.remove(t))}),r})},t.prototype.jr=function(t,e,n){for(var r=Mt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof yn&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.vr.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof An&&(l=l.ot(t,e))}),l})},t}(),Zr=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=Mt(),i=Mt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ti(t,e){var n=t[1],r=e[1],i=Q(t[0],e[0]);return 0===i?Q(n,r):i}var ei=function(){function t(t){this.Hr=t,this.buffer=new xt(ti),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ti(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ni={Zr:!1,eo:0,no:0,so:0},ri=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();ri.ho=-1,ri.lo=1048576,ri._o=41943040,ri.co=10,ri.uo=1e3,ri.fo=new ri(ri._o,ri.co,ri.uo),ri.do=new ri(ri.ho,0,0);var ii=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==ri.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,function(){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return yr(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Io(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}})})})},t}(),oi=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yo=function(t,e){var n=this;if(0===e)return pr.resolve(Lr.ai);var r=new ei(e);return this.Ao.Ce(t,function(t){return r.Xr(t.sequenceNumber)}).next(function(){return n.Ao.Vo(t,function(t){return r.Xr(t)})}).next(function(){return r.maxValue})},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===ri.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(ni)):this.So(t).next(function(r){return r<n.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ni):n.Do(t,e)})},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,s,a,u,l,c=this,h=Date.now();return this.Ro(t,this.params.ro).next(function(e){return e>c.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.oo+" from "+e),r=c.params.oo):r=e,s=Date.now(),c.yo(t,r)}).next(function(r){return n=r,a=Date.now(),c.po(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.bo(t,n)}).next(function(t){return l=Date.now(),d()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-h)+"ms"),pr.resolve({Zr:!0,eo:r,no:i,so:t})})},t}();function si(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ui(e)),e=ai(t.get(n),e);return ui(e)}function ai(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ui(t){return t+"\x01\x01"}function li(t){var e=t.length;if(b(e>=2),2===e)return b("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),T.P();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&y(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:y()}o=s+2}return new T(r)}var ci=function(t){this.Co=t};function hi(t,e){if(e.document)return function(t,e,n){var r=Se(t,e.name),i=Ce(e.updateTime),o=new Tn({mapValue:{fields:e.fields}});return new An(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=k.$(e.noDocument.path),r=mi(e.noDocument.readTime);return new On(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=k.$(e.unknownDocument.path),o=mi(e.unknownDocument.version);return new Nn(i,o)}return y()}function fi(t,e,n){var r=di(n),i=e.key.path.h().A();if(e instanceof An){var o=function(t,e){return{name:xe(t,e.key),fields:e.rn().mapValue.fields,updateTime:we(t,e.version.Z())}}(t.Co,e);return new Bi(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof On){var s=e.key.path.A(),a=gi(e.version),u=e.hasCommittedMutations;return new Bi(null,new Fi(s,a),null,u,r,i)}if(e instanceof Nn){var l=e.key.path.A(),c=gi(e.version);return new Bi(new qi(l,c),null,null,!0,r,i)}return y()}function di(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function pi(t){var e=new at(t[0],t[1]);return ut.J(e)}function gi(t){var e=t.Z();return new Mi(e.seconds,e.nanoseconds)}function mi(t){var e=new at(t.seconds,t.nanoseconds);return ut.J(e)}function vi(t,e){var n=(e.baseMutations||[]).map(function(e){return De(t.Co,e)}),r=e.mutations.map(function(e){return De(t.Co,e)}),i=at.fromMillis(e.localWriteTimeMs);return new Wr(e.batchId,i,n,r)}function yi(t){var e,n,r=mi(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mi(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(b(1===(n=t.query).documents.length),e=qn(Dn(Ae(n.documents[0])))):e=function(t){var e=Ae(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){b(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Ge(e)]:void 0!==e.fieldFilter?[ze(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):y():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new lr(Be(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return lt(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Ve(n.startAt));var c=null;return n.endAt&&(c=Ve(n.endAt)),qn(Rn(e,i,a,s,u,"F",l,c))}(t.query),new bt(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Z.fromBase64String(t.resumeToken))}function bi(t,e){var n,r=gi(e.nt),i=gi(e.lastLimboFreeSnapshotVersion);n=mt(e.target)?Me(t.Co,e.target):Le(t.Co,e.target);var o=e.resumeToken.toBase64();return new Gi(e.targetId,pt(e.target),r,o,e.sequenceNumber,i,n)}var wi=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return b(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).rs({index:Vi.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.ko=function(t,e,n,r){var i=this,o=Ii(t),s=Ci(t);return s.add({}).next(function(a){b("number"==typeof a);for(var u=new Wr(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map(function(e){return Re(t.Co,e)}),i=n.mutations.map(function(e){return Re(t.Co,e)});return new Vi(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),c=[],h=new xt(function(t,e){return Q(t.R(),e.R())}),f=0,d=r;f<d.length;f++){var p=d[f],g=ji.key(i.userId,p.key.path,a);h=h.add(p.key.path.h()),c.push(s.put(l)),c.push(o.put(g,ji.PLACEHOLDER))}return h.forEach(function(e){c.push(i.Dr.Mo(t,e))}),t.pr(function(){i.Fo[a]=u.keys()}),pr.$n(c).next(function(){return u})})},t.prototype.Oo=function(t,e){var n=this;return Ci(t).get(e).next(function(t){return t?(b(t.userId===n.userId),vi(n.serializer,t)):null})},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?pr.resolve(this.Fo[e]):this.Oo(t,e).next(function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null})},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ci(t).rs({index:Vi.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(b(e.batchId>=r),o=vi(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ci(t).rs({index:Vi.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).ts(Vi.userMutationsIndex,n).next(function(t){return t.map(function(t){return vi(e.serializer,t)})})},t.prototype.Nr=function(t,e){var n=this,r=ji.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ii(t).rs({range:i},function(r,i,s){var a=r[0],u=r[2],l=li(r[1]);if(a===n.userId&&e.path.isEqual(l))return Ci(t).get(u).next(function(t){if(!t)throw y();b(t.userId===n.userId),o.push(vi(n.serializer,t))});s.done()}).next(function(){return o})},t.prototype.Or=function(t,e){var n=this,r=new xt(Q),i=[];return e.forEach(function(e){var o=ji.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ii(t).rs({range:s},function(t,i,o){var s=t[0],a=t[2],u=li(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),pr.$n(i).next(function(){return n.Qo(t,r)})},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=ji.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new xt(Q);return Ii(t).rs({range:s},function(t,e,o){var s=t[0],u=t[2],l=li(t[1]);s===n.userId&&r.T(l)?l.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Qo(t,a)})},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Ci(t).get(e).next(function(t){if(null===t)throw y();b(t.userId===n.userId),r.push(vi(n.serializer,t))}))}),pr.$n(i).next(function(){return r})},t.prototype.Wo=function(t,e){var n=this;return Ei(t.jo,this.userId,e).next(function(r){return t.pr(function(){n.Ko(e.batchId)}),pr.forEach(r,function(e){return n.No.Go(t,e)})})},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next(function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound(ji.prefixForUser(e.userId)),i=[];return Ii(t).rs({range:r},function(t,n,r){if(t[0]===e.userId){var o=li(t[1]);i.push(o)}else r.done()}).next(function(){b(0===i.length)})})},t.prototype.Ho=function(t,e){return _i(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Ti(t).get(this.userId).next(function(t){return t||new Ui(e.userId,-1,"")})},t}();function _i(t,e,n){var r=ji.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ii(t).rs({range:o,ss:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Ei(t,e,n){var r=t.store(Vi.store),i=t.store(ji.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){b(1===a)}));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=ji.key(e,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return pr.$n(o).next(function(){return l})}function Ci(t){return so.Qn(t,Vi.store)}function Ii(t){return so.Qn(t,ji.store)}function Ti(t){return so.Qn(t,Ui.store)}var xi=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Ai(t).put(Oi(e),n)},t.prototype.Ar=function(t,e){var n=Ai(t),r=Oi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Jo(t,r)})},t.prototype.Rr=function(t,e){var n=this;return Ai(t).get(Oi(e)).next(function(t){return n.Xo(t)})},t.prototype.Zo=function(t,e){var n=this;return Ai(t).get(Oi(e)).next(function(t){var e=n.Xo(t);return e?{ta:e,size:Ni(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return this.ea(t,e,function(t,e){var i=n.Xo(e);r=r.ot(t,i)}).next(function(){return r})},t.prototype.na=function(t,e){var n=this,r=Ot(),i=new Ct(k.i);return this.ea(t,e,function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,Ni(e))):(r=r.ot(t,null),i=i.ot(t,0))}).next(function(){return{sa:r,ia:i}})},t.prototype.ea=function(t,e,n){if(e.m())return pr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return Ai(t).rs({range:r},function(t,e,r){for(var s=k.$(t);o&&k.i(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()}).next(function(){for(;o;)n(o,null),o=i.At()?i.It():null})},t.prototype.Lr=function(t,e,n){var r=this,i=Pt(),o=e.path.length+1,s={};if(n.isEqual(ut.min())){var a=e.path.A();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.A(),l=di(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=Bi.collectionReadTimeIndex}return Ai(t).rs(s,function(t,n,s){if(t.length===o){var a=hi(r.serializer,n);e.path.T(a.key.path)?a instanceof An&&Kn(e,a)&&(i=i.ot(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.ra=function(t){return new Si(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ki(t).get(zi.key).next(function(t){return b(!!t),t})},t.prototype.Jo=function(t,e){return ki(t).put(zi.key,e)},t.prototype.Xo=function(t){if(t){var e=hi(this.serializer,t);return e instanceof On&&e.version.isEqual(ut.min())?null:e}return null},t}(),Si=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new st(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new xt(function(t,e){return Q(t.R(),e.R())});return this.wr.forEach(function(o,s){var a=e.ua.get(o);if(s){var u=fi(e.ca.serializer,s,e.readTime);i=i.add(o.path.h());var l=Ni(u);r+=l-a,n.push(e.ca.Er(t,o,u))}else if(r-=a,e.oa){var c=fi(e.ca.serializer,new On(o,ut.min()),e.readTime);n.push(e.ca.Er(t,o,c))}else n.push(e.ca.Ar(t,o))}),i.forEach(function(r){n.push(e.ca.Dr.Mo(t,r))}),n.push(this.ca.updateMetadata(t,r)),pr.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next(function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)})},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next(function(t){var e=t.sa;return t.ia.forEach(function(t,e){n.ua.set(t,e)}),e})},e}(Xr);function ki(t){return so.Qn(t,zi.store)}function Ai(t){return so.Qn(t,Bi.store)}function Oi(t){return t.path.A()}function Ni(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y();e=t.noDocument}return JSON.stringify(e).length}var Pi=function(){function t(){this.ha=new Ri}return t.prototype.Mo=function(t,e){return this.ha.add(e),pr.resolve()},t.prototype.Qr=function(t,e){return pr.resolve(this.ha.getEntries(e))},t}(),Ri=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new xt(T.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new xt(T.i)).A()},t}(),Di=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;b(n<r&&n>=0&&r<=10);var o=new br("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Li.store)}(t),function(t){t.createObjectStore(Ui.store,{keyPath:Ui.keyPath}),t.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ji.store)}(t),Ki(t),function(t){t.createObjectStore(Bi.store)}(t));var s=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Hi.store),t.deleteObjectStore(Gi.store),t.deleteObjectStore($i.store)}(t),Ki(t)),s=s.next(function(){return t=o.store($i.store),e=new $i(0,0,ut.min().Z(),0),t.put($i.key,e);var t,e})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Vi.store).ts().next(function(n){t.deleteObjectStore(Vi.store),t.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0});var r=e.store(Vi.store),i=n.map(function(t){return r.put(t)});return pr.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Xi.store,{keyPath:Xi.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(zi.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Bi.store);e.createIndex(Bi.readTimeIndex,Bi.readTimeIndexPath,{unique:!1}),e.createIndex(Bi.collectionReadTimeIndex,Bi.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.rewriteCanonicalIds(o)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Bi.store).rs(function(t,n){e+=Ni(n)}).next(function(){var n=new zi(e);return t.store(zi.store).put(zi.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ui.store),r=t.store(Vi.store);return n.ts().next(function(n){return pr.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Vi.userMutationsIndex,i).next(function(r){return pr.forEach(r,function(r){b(r.userId===n.userId);var i=vi(e.serializer,r);return Ei(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Hi.store),n=t.store(Bi.store);return t.store($i.store).get($i.key).next(function(t){var r=[];return n.rs(function(n,i){var o=new T(n),s=[0,si(o)];r.push(e.get(s).next(function(n){return n?pr.resolve():e.put(new Hi(0,si(o),t.highestListenSequenceNumber))}))}).next(function(){return pr.$n(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Wi.store,{keyPath:Wi.keyPath});var n=e.store(Wi.store),r=new Ri,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:si(i)})}};return e.store(Bi.store).rs({ss:!0},function(t,e){var n=new T(t);return i(n.h())}).next(function(){return e.store(ji.store).rs({ss:!0},function(t,e){var n=li(t[1]);return i(n.h())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Gi.store);return n.rs(function(t,r){var i=yi(r),o=bi(e.serializer,i);return n.put(o)})},t}(),Mi=function(t,e){this.seconds=t,this.nanoseconds=e},Li=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Li.store="owner",Li.key="owner";var Ui=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ui.store="mutationQueues",Ui.keyPath="userId";var Vi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Vi.store="mutations",Vi.keyPath="batchId",Vi.userMutationsIndex="userMutationsIndex",Vi.userMutationsKeyPath=["userId","batchId"];var ji=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,si(e)]},t.key=function(t,e,n){return[t,si(e),n]},t}();ji.store="documentMutations",ji.PLACEHOLDER=new ji;var Fi=function(t,e){this.path=t,this.readTime=e},qi=function(t,e){this.path=t,this.version=e},Bi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Bi.store="remoteDocuments",Bi.readTimeIndex="readTimeIndex",Bi.readTimeIndexPath="readTime",Bi.collectionReadTimeIndex="collectionReadTimeIndex",Bi.collectionReadTimeIndexPath=["parentPath","readTime"];var zi=function(t){this.byteSize=t};zi.store="remoteDocumentGlobal",zi.key="remoteDocumentGlobalKey";var Gi=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Gi.store="targets",Gi.keyPath="targetId",Gi.queryTargetsIndexName="queryTargetsIndex",Gi.queryTargetsKeyPath=["canonicalId","targetId"];var Hi=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Hi.store="targetDocuments",Hi.keyPath=["targetId","path"],Hi.documentTargetsIndex="documentTargetsIndex",Hi.documentTargetsKeyPath=["path","targetId"];var $i=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$i.key="targetGlobalKey",$i.store="targetGlobal";var Wi=function(t,e){this.collectionId=t,this.parent=e};function Ki(t){t.createObjectStore(Hi.store,{keyPath:Hi.keyPath}).createIndex(Hi.documentTargetsIndex,Hi.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gi.store,{keyPath:Gi.keyPath}).createIndex(Gi.queryTargetsIndexName,Gi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore($i.store)}Wi.store="collectionParents",Wi.keyPath=["collectionId","parent"];var Xi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xi.store="clientMetadata",Xi.keyPath="clientId";var Qi=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Ui.store,Vi.store,ji.store,Bi.store,Gi.store,Li.store,$i.store,Hi.store],[Xi.store]),[zi.store]),[Wi.store]),Yi=function(){function t(){this.la=new Ri}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr(function(){n.la.add(e)});var o={collectionId:r,parent:si(i)};return Ji(t).put(o)}return pr.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return Ji(t).ts(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(li(o.parent))}return n})},t}();function Ji(t){return so.Qn(t,Wi.store)}var Zi=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),to=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next(function(n){var r=new Zi(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ea=function(t){return this.ma(t).next(function(t){return ut.J(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ia=function(t){return this.ma(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)})},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next(function(){return n.ma(t).next(function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)})})},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next(function(){return eo(t).delete(e.targetId)}).next(function(){return n.ma(t)}).next(function(e){return b(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)})},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return eo(t).rs(function(s,a){var u=yi(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Va(t,u)))}).next(function(){return pr.$n(o)}).next(function(){return i})},t.prototype.Ce=function(t,e){return eo(t).rs(function(t,n){var r=yi(n);e(r)})},t.prototype.ma=function(t){return no(t).get($i.key).next(function(t){return b(null!==t),t})},t.prototype.Ta=function(t,e){return no(t).put($i.key,e)},t.prototype.ga=function(t,e){return eo(t).put(bi(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next(function(t){return t.targetCount})},t.prototype.va=function(t,e){var n=pt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return eo(t).rs({range:r,index:Gi.queryTargetsIndexName},function(t,n,r){var o=yi(n);gt(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=ro(t);return e.forEach(function(e){var s=si(e.path);i.push(o.put(new Hi(n,s))),i.push(r.No.Da(t,n,e))}),pr.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=ro(t);return pr.forEach(e,function(e){var o=si(e.path);return pr.$n([i.delete([n,o]),r.No.Na(t,n,e)])})},t.prototype.pa=function(t,e){var n=ro(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ro(t),i=Mt();return r.rs({range:n,ss:!0},function(t,e,n){var r=li(t[1]),o=new k(r);i=i.add(o)}).next(function(){return i})},t.prototype.Ho=function(t,e){var n=si(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return ro(t).rs({index:Hi.documentTargetsIndex,ss:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ue=function(t,e){return eo(t).get(e).next(function(t){return t?yi(t):null})},t}();function eo(t){return so.Qn(t,Gi.store)}function no(t){return so.Qn(t,$i.store)}function ro(t){return so.Qn(t,Hi.store)}var io="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",oo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return r.__extends(e,t),e}(Yr),so=function(){function t(e,n,r,i,o,s,a,u,l,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=a,this.$a=l,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new h(c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new lo(this,i),this.Wa=n+"main",this.serializer=new ci(u),this.ja=new gr(this.Wa,10,new Di(this.serializer)),this.Ka=new to(this.No,this.serializer),this.Dr=new Yi,this.vr=function(t,e){return new xi(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof oo)return gr.Qn(t.jo,e);throw y()},t.prototype.start=function(){var t=this;return this.za().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(c.FAILED_PRECONDITION,io);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ka.Ia(e)})}).then(function(e){t.Ma=new Lr(e,t.$a)}).then(function(){t.Oa=!0}).catch(function(e){return t.ja&&t.ja.close(),Promise.reject(e)})},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){return this.Ei?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn(function(n){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return uo(e).put(new Xi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.ec(e).next(function(e){e||(t.isPrimary=!1,t.fn.Cs(function(){return t.Qa(!1)}))})}).next(function(){return t.nc(e)}).next(function(n){return t.isPrimary&&!n?t.sc(e).next(function(){return!1}):!!n&&t.ic(e).next(function(){return!0})})}).catch(function(e){if(yr(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.fn.Cs(function(){return t.Qa(e)}),t.isPrimary=e})},t.prototype.ec=function(t){var e=this;return ao(t).get(Li.key).next(function(t){return pr.resolve(e.rc(t))})},t.prototype.oc=function(t){return uo(t).delete(this.clientId)},t.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,function(){var e,n,i,o=this;return r.__generator(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Qn(e,Xi.store);return n.ts().next(function(t){var e=o.uc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return pr.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.hc(i[n].clientId));r.label=2;case 2:return[2]}})})},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return t.za().then(function(){return t.ac()}).then(function(){return t.Ja()})})},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?pr.resolve(!0):ao(t).get(Li.key).next(function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new h(c.FAILED_PRECONDITION,io);return!1}}return!(!e.networkEnabled||!e.inForeground)||uo(t).ts().next(function(t){return void 0===e.uc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,function(){var t=this;return r.__generator(this,function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Li.store,Xi.store],function(e){var n=new oo(e,Lr.ai);return t.sc(n).next(function(){return t.oc(n)})})];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}})})},t.prototype.uc=function(t,e){var n=this;return t.filter(function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)})},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return uo(e).ts().next(function(e){return t.uc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return wi.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",t),this.ja.runTransaction(t,"readonly"===e?"readonly":"readwrite",Qi,function(o){return r=new oo(o,i.Ma?i.Ma.next():Lr.ai),"readwrite-primary"===e?i.ec(r).next(function(t){return!!t||i.nc(r)}).next(function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs(function(){return i.Qa(!1)}),new h(c.FAILED_PRECONDITION,Qr);return n(r)}).next(function(t){return i.ic(r).next(function(){return t})}):i.Ac(r).next(function(){return n(r)})}).then(function(t){return r.br(),t})},t.prototype.Ac=function(t){var e=this;return ao(t).get(Li.key).next(function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(c.FAILED_PRECONDITION,io)})},t.prototype.ic=function(t){var e=new Li(this.clientId,this.allowTabSynchronization,Date.now());return ao(t).put(Li.key,e)},t.Ln=function(){return gr.Ln()},t.prototype.sc=function(t){var e=this,n=ao(t);return n.get(Li.key).next(function(t){return e.rc(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Li.key)):pr.resolve()})},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws(function(){return t.inForeground="visible"===t.document.visibilityState,t.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws(function(){return e.Di()})},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return g("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){g("Failed to set zombie client id.",r)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ao(t){return so.Qn(t,Li.store)}function uo(t){return so.Qn(t,Xi.store)}var lo=function(){function t(t,e){this.db=t,this.wo=new oi(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Rc=function(t){var e=0;return this.Vo(t,function(t){e++}).next(function(){return e})},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,function(t,n){return e(n)})},t.prototype.Da=function(t,e,n){return co(t,n)},t.prototype.Na=function(t,e,n){return co(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return co(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return Ti(t).os(function(r){return _i(t,r,e).next(function(t){return t&&(n=!0),pr.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,function(s,a){if(a<=e){var u=n.Pc(t,s).next(function(e){if(!e)return o++,r.Rr(t,s).next(function(){return r.Ar(s),ro(t).delete([0,si(s.path)])})});i.push(u)}}).next(function(){return pr.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return co(t,e)},t.prototype.gc=function(t,e){var n,r=ro(t),i=Lr.ai;return r.rs({index:Hi.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Lr.ai&&e(new k(li(n)),i),i=s,n=o):i=Lr.ai}).next(function(){i!==Lr.ai&&e(new k(li(n)),i)})},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function co(t,e){return ro(t).put(function(t,e){return new Hi(0,si(t.path),e)}(e,t.xa))}function ho(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var fo=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new Ct(Q),this.vc=new st(function(t){return pt(t)},gt),this.Sc=ut.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new Jr(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.vo(n,e.bc)})},t}();function po(t,e){var n=w(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Dc.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=pr.resolve();return o.forEach(function(t){s=s.next(function(){return r.Rr(e,t)}).next(function(e){var o=e,s=n.dr.get(t);b(null!==s),(!o||o.version.L(s)<0)&&(o=i.cr(t,o,n))&&r.Er(o,n._r)})}),s.next(function(){return t.Sr.Wo(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Sr.zo(t)}).next(function(){return n.Cc.kr(t,r)})})}function go(t){var e=w(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ka.Ea(t)})}function mo(t,e){var n=w(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var s=[];e.zt.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.Ka.Ca(t,e.se,o).next(function(){return n.Ka.Sa(t,e.ee,o)}));var u=e.resumeToken;if(u.O()>0){var l=a.it(u,r).st(t.xa);i=i.ot(o,l),function(t,e,n){return b(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,l,e)&&s.push(n.Ka.ya(t,l))}}});var a=At(),u=Mt();if(e.Yt.forEach(function(t,e){u=u.add(t)}),s.push(o.getEntries(t,u).next(function(i){e.Yt.forEach(function(u,l){var c=i.get(u);l instanceof On&&l.version.isEqual(ut.min())?(o.Ar(u,r),a=a.ot(u,l)):null==c||l.version.L(c.version)>0||0===l.version.L(c.version)&&c.hasPendingWrites?(o.Er(l,r),a=a.ot(u,l)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version),e.Jt.has(u)&&s.push(n.persistence.No.yc(t,u))})})),!r.isEqual(ut.min())){var l=n.Ka.Ea(t).next(function(e){return n.Ka.Aa(t,t.xa,r)});s.push(l)}return pr.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Cc.Mr(t,a)})}).then(function(t){return n.bc=i,t})}function vo(t,e){var n=w(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)})}function yo(t,e){var n=w(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ka.va(t,e).next(function(i){return i?pr.resolve(r=i):n.Ka.wa(t).next(function(i){return r=new bt(e,i,0,t.xa),n.Ka.Ra(t,r).next(function(){return r})})})}).then(function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t})}function bo(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o,s,a;return r.__generator(this,function(r){switch(r.label){case 0:i=w(t),o=i.bc.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(t){return i.persistence.No.removeTarget(t,o)})];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!yr(a=r.sent()))throw a;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.bc=i.bc.remove(e),i.vc.delete(o.target),[2]}})})}function wo(t,e,n){var r=w(t),i=ut.min(),o=Mt();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=w(t),i=r.vc.get(n);return void 0!==i?pr.resolve(r.bc.get(i)):r.Ka.va(e,n)}(r,t,qn(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Vc.Lr(t,e,n?i:ut.min(),n?o:Mt())}).next(function(t){return{documents:t,Fc:o}})})}function _o(t,e){var n=w(t),r=w(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ue(t,e).next(function(t){return t?t.target:null})})}function Eo(t){var e=w(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=w(t),i=At(),o=di(n),s=Ai(e),a=IDBKeyRange.lowerBound(o,!0);return s.rs({index:Bi.readTimeIndex,range:a},function(t,e){var n=hi(r.serializer,e);i=i.ot(n.key,n),o=e.readTime}).next(function(){return{xc:i,readTime:pi(o)}})}(e.Dc,t,e.Sc)}).then(function(t){var n=t.xc;return e.Sc=t.readTime,n})}function Co(t){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(n){return[2,(e=w(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ai(t),n=ut.min();return e.rs({index:Bi.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=pi(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Sc=t})]})})}function Io(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){if(t.code!==c.FAILED_PRECONDITION||t.message!==Qr)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]})})}var To=function(){function t(){this.$c=new xt(xo.kc),this.Mc=new xt(xo.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new xo(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach(function(t){return n.Da(t,e)})},t.prototype.Na=function(t,e){this.Bc(new xo(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach(function(t){return n.Na(t,e)})},t.prototype.Uc=function(t){var e=this,n=new k(new T([])),r=new xo(n,t),i=new xo(n,t+1),o=[];return this.Mc.Ft([r,i],function(t){e.Bc(t),o.push(t.key)}),o},t.prototype.Qc=function(){var t=this;this.$c.forEach(function(e){return t.Bc(e)})},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new k(new T([])),n=new xo(e,t),r=new xo(e,t+1),i=Mt();return this.Mc.Ft([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Ho=function(t){var e=new xo(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),xo=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return k.i(t.key,e.key)||Q(t.jc,e.jc)},t.Oc=function(t,e){return Q(t.jc,e.jc)||k.i(t.key,e.key)},t}(),So=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},ko=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(Mr.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),Ao=function(){function t(t){var e=this;this.Jc=null,this.currentUser=Mr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then(function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.Zc!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(b("string"==typeof n.accessToken),new So(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return b(null===t||"string"==typeof t),new Mr(t)},t}(),Oo=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=Mr.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),No=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new Oo(this.eu,this.nu))},t.prototype.Hc=function(t){t(Mr.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),Po=function(){function t(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new dr(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return t.fu()}))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return this.uu()?[2,this.close(0)]:[2]})})},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===c.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===c.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then(function(e){t.ou===n&&t.Iu(e)},function(n){e(function(){var e=new h(c.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)})})},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu(function(){n(function(){return e.state=2,e.listener.gu()})}),this.stream.Tu(function(t){n(function(){return e.Au(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn(function(){return r.__awaiter(t,void 0,void 0,function(){return r.__generator(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.Au=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws(function(){return e.ou===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ro=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return r.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Qe?(b(void 0===e||"string"==typeof e),Z.fromBase64String(e||"")):(b(void 0===e||e instanceof Uint8Array),Z.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?c.UNKNOWN:Et(t.code);return new h(e,t.message||"")}(s);n=new Ht(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,l=Se(t,u.document.name),f=Ce(u.document.updateTime),d=new Tn({mapValue:{fields:u.document.fields}}),p=new An(l,f,d,{});n=new zt(u.targetIds||[],u.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){var g=e.documentDelete,m=Se(t,g.document),v=g.readTime?Ce(g.readTime):ut.min(),w=new On(m,v);n=new zt([],g.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){var _=e.documentRemove,E=Se(t,_.document);n=new zt([],_.removedTargetIds||[],E,null)}else{if(!("filter"in e))return y();var C=e.filter,I=new wt(C.count||0);n=new Gt(C.targetId,I)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.min():e.readTime?Ce(e.readTime):ut.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=Oe(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=mt(r)?{documents:Me(t,r)}:{query:Le(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=_e(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=Oe(this.serializer),e.removeTarget=t,this.du(e)},e}(Po),Do=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.bu=!1,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(b(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(b(void 0!==e),t.map(function(t){return function(t,e){var n=Ce(t.updateTime?t.updateTime:e);n.isEqual(ut.min())&&(n=Ce(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new un(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Ce(t.commitTime);return this.listener.Du(n,e)}return b(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=Oe(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Re(e.serializer,t)})};this.du(n)},e}(Po),Mo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new h(c.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then(function(i){return r.iu.$u(t,e,n,i)}).catch(function(t){throw t.code===c.UNAUTHENTICATED&&r.credentials.zc(),t})},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then(function(i){return r.iu.ku(t,e,n,i)}).catch(function(t){throw t.code===c.UNAUTHENTICATED&&r.credentials.zc(),t})},e.prototype.terminate=function(){this.Fu=!1},e}(function(){}),Lo=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()}))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(g(e),this.Lu=!1):p("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),Uo=function(t,e,n,i,o){var s=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu(function(t){n.ws(function(){return r.__awaiter(s,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return Wo(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return(e=w(t)).Yu.add(4),[4,jo(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,Vo(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.th=new Lo(n,i)};function Vo(t){return r.__awaiter(this,void 0,void 0,function(){var e,n;return r.__generator(this,function(r){switch(r.label){case 0:if(!Wo(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function jo(t){return r.__awaiter(this,void 0,void 0,function(){var e,n;return r.__generator(this,function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Fo(t){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return e=w(t),p("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,jo(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}})})}function qo(t,e){var n=w(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),$o(n)?Ho(n):us(n).uu()&&zo(n,e))}function Bo(t,e){var n=w(t),r=us(n);n.Hu.delete(e),r.uu()&&Go(n,e),0===n.Hu.size&&(r.uu()?r._u():Wo(n)&&n.th.set("Unknown"))}function zo(t,e){t.eh.Ie(e.targetId),us(t).Vu(e)}function Go(t,e){t.eh.Ie(e),us(t).pu(e)}function Ho(t){t.eh=new Wt({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),us(t).start(),t.th.Bu()}function $o(t){return Wo(t)&&!us(t).cu()&&t.Hu.size>0}function Wo(t){return 0===w(t).Yu.size}function Ko(t){t.eh=void 0}function Xo(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return t.Hu.forEach(function(e,n){zo(t,e)}),[2]})})}function Qo(t,e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(n){return Ko(t),$o(t)?(t.th.Qu(e),Ho(t)):t.th.set("Unknown"),[2]})})}function Yo(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o,s;return r.__generator(this,function(a){switch(a.label){case 0:if(t.th.set("Online"),!(e instanceof Ht&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s;return r.__generator(this,function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Hu.has(s=o[i])?[4,t.Gu.nh(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.Hu.delete(s),t.eh.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Jo(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zt?t.eh.be(e):e instanceof Gt?t.eh.$e(e):t.eh.De(e),n.isEqual(ut.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,go(t.ju)];case 8:return o=a.sent(),n.L(o)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach(function(n,r){if(n.resumeToken.O()>0){var i=t.Hu.get(r);i&&t.Hu.set(r,i.it(n.resumeToken,e))}}),n.Ht.forEach(function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it(Z.B,n.nt)),Go(t,e);var r=new bt(n.target,e,1,n.sequenceNumber);zo(t,r)}}),t.Gu.sh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Jo(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Jo(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i=this;return r.__generator(this,function(o){switch(o.label){case 0:if(!yr(e))throw e;return t.Yu.add(1),[4,jo(t)];case 1:return o.sent(),t.th.set("Offline"),n||(n=function(){return go(t.ju)}),t.cs.Cs(function(){return r.__awaiter(i,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,Vo(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Zo(t,e){return e().catch(function(n){return Jo(t,n,e)})}function ts(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,i,o,s;return r.__generator(this,function(r){switch(r.label){case 0:e=w(t),n=ls(e),i=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Wo(t)&&t.zu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,vo(e.ju,i)];case 3:return null===(o=r.sent())?(0===e.zu.length&&n._u(),[3,7]):(i=o.batchId,function(t,e){t.zu.push(e);var n=ls(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,Jo(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return es(e)&&ns(e),[2]}})})}function es(t){return Wo(t)&&!ls(t).cu()&&t.zu.length>0}function ns(t){ls(t).start()}function rs(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return ls(t).Nu(),[2]})})}function is(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,i;return r.__generator(this,function(r){for(e=ls(t),n=0,i=t.zu;n<i.length;n++)e.Su(i[n].mutations);return[2]})})}function os(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o;return r.__generator(this,function(r){switch(r.label){case 0:return i=t.zu.shift(),o=Kr.from(i,e,n),[4,Zo(t,function(){return t.Gu.ih(o)})];case 1:return r.sent(),[4,ts(t)];case 2:return r.sent(),[2]}})})}function ss(t,e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(n){switch(n.label){case 0:return e&&ls(t).vu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i;return r.__generator(this,function(r){switch(r.label){case 0:return _t(i=e.code)&&i!==c.ABORTED?(n=t.zu.shift(),ls(t).lu(),[4,Zo(t,function(){return t.Gu.rh(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,ts(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return es(t)&&ns(t),[2]}})})}function as(t,e){return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:return n=w(t),e?(n.Yu.delete(2),[4,Vo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,jo(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function us(t){var e=this;return t.oh||(t.oh=function(t,e,n){var r=w(t);return r.xu(),new Ro(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:Xo.bind(null,t),Tu:Qo.bind(null,t),yu:Yo.bind(null,t)}),t.Ju.push(function(n){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return n?(t.oh.lu(),$o(t)?Ho(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),Ko(t),e.label=3;case 3:return[2]}})})})),t.oh}function ls(t){var e=this;return t.ah||(t.ah=function(t,e,n){var r=w(t);return r.xu(),new Do(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:rs.bind(null,t),Tu:ss.bind(null,t),Cu:is.bind(null,t),Du:os.bind(null,t)}),t.Ju.push(function(n){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return n?(t.ah.lu(),[4,ts(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(p("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}})})})),t.ah}var cs=function(t){this.key=t},hs=function(t){this.key=t},fs=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Mt(),this.Wt=Mt(),this._h=Xn(t),this.fh=new Vt(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new jt,i=e?e.fh:this.fh,o=e?e.Wt:this.Wt,s=i,a=!1,u=Mn(this.query)&&i.size===this.query.limit?i.last():null,l=Ln(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht(function(t,e){var c=i.get(t),h=e instanceof An?e:null;h&&(h=Kn(n.query,h)?h:null);var f=!!c&&n.Wt.has(c.key),d=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._h(h,u)>0||l&&n._h(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Mn(this.query)||Ln(this.query))for(;s.size>this.query.limit;){var c=Mn(this.query)?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fh:s,mh:r,Eh:a,Wt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)}),this.Ih(n);var s=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,u=a!==this.hh;return this.hh=a,0!==o.length||u?{snapshot:new Ft(this.query,t.fh,i,o,t.Wt,0===a,u,!1),Rh:s}:{Rh:s}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new jt,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach(function(t){return e.uh=e.uh.add(t)}),t.ne.forEach(function(t){}),t.se.forEach(function(t){return e.uh=e.uh.delete(t)}),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Mt(),this.fh.forEach(function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))});var n=[];return e.forEach(function(e){t.lh.has(e)||n.push(new hs(e))}),this.lh.forEach(function(t){e.has(t)||n.push(new cs(t))}),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Mt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return Ft.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),ds=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ps=function(t){this.key=t,this.Vh=!1},gs=function(){function t(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new st(function(t){return $n(t)},Hn),this.Fh=new Map,this.xh=[],this.$h=new Ct(k.i),this.kh=new Map,this.Mh=new To,this.Oh={},this.Lh=new Map,this.Bh=Zi.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function ms(t,e,n,i){return r.__awaiter(this,void 0,void 0,function(){var o,s,a,u,l,c;return r.__generator(this,function(h){switch(h.label){case 0:return t.Qh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,function(){var o,s,a;return r.__generator(this,function(r){switch(r.label){case 0:return(o=e.view.wh(n)).Eh?[4,wo(t.ju,e.query,!1).then(function(t){return e.view.wh(t.documents,o)})]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.zt.get(e.targetId),a=e.view.yr(o,t.Uh,s),[2,(xs(t,e.targetId,a.Rh),a.snapshot)]}})})}(t,e,n,i)},[4,wo(t.ju,e,!0)];case 1:return o=h.sent(),s=new fs(e,o.Fc),a=s.wh(o.documents),u=Bt.Zt(n,i&&"Offline"!==t.onlineState),l=s.yr(a,t.Uh,u),xs(t,n,l.Rh),c=new ds(e,n,s),[2,(t.Nh.set(e,c),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),l.snapshot)]}})})}function vs(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i;return r.__generator(this,function(r){switch(r.label){case 0:n=w(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,mo(n.ju,e)];case 2:return i=r.sent(),e.zt.forEach(function(t,e){var r=n.kh.get(e);r&&(b(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?b(r.Vh):t.se.size>0&&(b(r.Vh),r.Vh=!1))}),[4,As(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function ys(t,e,n){var r=w(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach(function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=w(t);n.onlineState=e;var r=!1;n.Bs.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(e)&&(r=!0)}),r&&Rr(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function bs(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o,s,a,u,l;return r.__generator(this,function(r){switch(r.label){case 0:return(i=w(t)).Sh.Qi(e,"rejected",n),o=i.kh.get(e),(s=o&&o.key)?(a=(a=new Ct(k.i)).ot(s,new On(s,ut.min())),u=Mt().add(s),l=new qt(ut.min(),new Map,new xt(Q),a,u),[4,vs(i,l)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(s),i.kh.delete(e),ks(i),[3,4];case 2:return[4,bo(i.ju,e,!1).then(function(){return Is(i,e,n)}).catch(Io)];case 3:r.sent(),r.label=4;case 4:return[2]}})})}function ws(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o;return r.__generator(this,function(r){switch(r.label){case 0:n=w(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,po(n.ju,e)];case 2:return o=r.sent(),Cs(n,i,null),Es(n,i),n.Sh.ki(i,"acknowledged"),[4,As(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function _s(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o;return r.__generator(this,function(r){switch(r.label){case 0:i=w(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=w(i.ju);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Sr.Oo(t,e).next(function(e){return b(null!==e),r=e.keys(),n.Sr.Wo(t,e)}).next(function(){return n.Sr.zo(t)}).next(function(){return n.Cc.kr(t,r)})})}(0,e)];case 2:return o=r.sent(),Cs(i,e,n),Es(i,e),i.Sh.ki(e,"rejected",n),[4,As(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function Es(t,e){(t.Lh.get(e)||[]).forEach(function(t){t.resolve()}),t.Lh.delete(e)}function Cs(t,e,n){var r=w(t),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function Is(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach(function(e){t.Mh.Ho(e)||Ts(t,e)})}function Ts(t,e){var n=t.$h.get(e);null!==n&&(Bo(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),ks(t))}function xs(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof cs?(t.Mh.Da(o.key,e),Ss(t,o)):o instanceof hs?(p("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||Ts(t,o.key)):y()}}function Ss(t,e){var n=e.key;t.$h.get(n)||(p("SyncEngine","New document in limbo: "+n),t.xh.push(n),ks(t))}function ks(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new ps(e)),t.$h=t.$h.ot(e,n),qo(t.ph,new bt(qn(Dn(e.path)),n,2,Lr.ai))}}function As(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o,s,a;return r.__generator(this,function(u){switch(u.label){case 0:return i=w(t),o=[],s=[],a=[],i.Nh.m()?[3,3]:(i.Nh.forEach(function(t,r){a.push(i.Qh(r,e,n).then(function(t){if(t){i.Uh&&i.Sh.Qi(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Zr.zr(r.targetId,t);s.push(e)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),i.Ch.yu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a,u,l,c;return r.__generator(this,function(r){switch(r.label){case 0:n=w(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return pr.forEach(e,function(e){return pr.forEach(e.Kr,function(r){return n.persistence.No.Da(t,e.targetId,r)}).next(function(){return pr.forEach(e.Gr,function(r){return n.persistence.No.Na(t,e.targetId,r)})})})})];case 2:return r.sent(),[3,4];case 3:if(!yr(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(l=n.bc.get(u),c=l.rt(l.nt),n.bc=n.bc.ot(u,c));return[2]}})})}(i.ju,s)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Os(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i;return r.__generator(this,function(o){switch(o.label){case 0:return(n=w(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s;return r.__generator(this,function(r){switch(r.label){case 0:return n=w(t),i=n.Sr,o=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var r;return n.Sr.Uo(t).next(function(s){return r=s,i=n.persistence.mc(e),o=new Jr(n.Dc,i,n.persistence.Ic()),i.Uo(t)}).next(function(e){for(var n=[],i=[],s=Mt(),a=0,u=r;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)s=s.add(h[c].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return o.kr(t,s).next(function(t){return{jh:t,Kh:n,Gh:i}})})})];case 1:return s=r.sent(),[2,(n.Sr=i,n.Cc=o,n.Vc.Nc(n.Cc),s)]}})})}(n.ju,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Lh.forEach(function(t){t.forEach(function(t){t.reject(new h(c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Lh.clear()}(n),n.Sh.ji(e,i.Kh,i.Gh),[4,As(n,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function Ns(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o;return r.__generator(this,function(r){switch(r.label){case 0:return[4,wo((n=w(t)).ju,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ph(i),[2,(n.Uh&&xs(n,e.targetId,o.Rh),o)]}})})}function Ps(t,e,n,i){return r.__awaiter(this,void 0,void 0,function(){var o,s;return r.__generator(this,function(r){switch(r.label){case 0:return[4,function(t,e){var n=w(t),r=w(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Lo(t,e).next(function(e){return e?n.Cc.kr(t,e):pr.resolve(null)})})}((o=w(t)).ju,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,ts(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Cs(o,e,i||null),Es(o,e),function(t,e){w(w(o.ju).Sr).Ko(e)}(0,e)):y(),r.label=4;case 4:return[4,As(o,s)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}})})}function Rs(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a,u,l;return r.__generator(this,function(r){switch(r.label){case 0:return js(n=w(t)),Fs(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,Ds(n,i.A())]);case 1:return o=r.sent(),n.qh=!0,[4,as(n.ph,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)qo(n.ph,a[s]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(u=[],l=Promise.resolve(),n.Fh.forEach(function(t,e){n.Sh.qi(e)?u.push(e):l=l.then(function(){return Is(n,e),bo(n.ju,e,!0)}),Bo(n.ph,e)}),[4,l]);case 4:return r.sent(),[4,Ds(n,u)];case 5:return r.sent(),function(t){var e=w(n);e.kh.forEach(function(t,n){Bo(e.ph,n)}),e.Mh.Qc(),e.kh=new Map,e.$h=new Ct(k.i)}(),n.qh=!1,[4,as(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}})})}function Ds(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a,u,l,c,h,f,d,p,g;return r.__generator(this,function(r){switch(r.label){case 0:n=w(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(l=void 0,(c=n.Fh.get(u=a[s]))&&0!==c.length?[4,yo(n.ju,qn(c[0]))]:[3,7]):[3,13];case 2:l=r.sent(),h=0,f=c,r.label=3;case 3:return h<f.length?(d=n.Nh.get(f[h]),[4,Ns(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,_o(n.ju,u)];case 8:return g=r.sent(),[4,yo(n.ju,g)];case 9:return l=r.sent(),[4,ms(n,Ms(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(l),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Ch.yu(o),i)]}})})}function Ms(t){return Rn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ls(t){var e=w(t);return w(w(e.ju).persistence).pi()}function Us(t,e,n,i){return r.__awaiter(this,void 0,void 0,function(){var o,s,a;return r.__generator(this,function(r){switch(r.label){case 0:return(o=w(t)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Eo(o.ju)];case 3:return s=r.sent(),a=qt.Xt(e,"current"===n),[4,As(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,bo(o.ju,e,!0)];case 6:return r.sent(),Is(o,e,i),[3,8];case 7:y(),r.label=8;case 8:return[2]}})})}function Vs(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o,s,a,u,l,c,h,f;return r.__generator(this,function(d){switch(d.label){case 0:if(!(i=js(t)).qh)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?i.Fh.has(a=s[o])?(p("SyncEngine","Adding an already active target "+a),[3,5]):[4,_o(i.ju,a)]:[3,6];case 2:return u=d.sent(),[4,yo(i.ju,u)];case 3:return l=d.sent(),[4,ms(i,Ms(u),l.targetId,!1)];case 4:d.sent(),qo(i.ph,l),d.label=5;case 5:return o++,[3,1];case 6:c=function(t){return r.__generator(this,function(e){switch(e.label){case 0:return i.Fh.has(t)?[4,bo(i.ju,t,!1).then(function(){Bo(i.ph,t),Is(i,t)}).catch(Io)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,f=n,d.label=7;case 7:return h<f.length?[5,c(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function js(t){var e=w(t);return e.ph.Gu.sh=vs.bind(null,e),e.ph.Gu.qe=(function(t,e){var n=w(t),r=n.kh.get(e);if(r&&r.Vh)return Mt().add(r.key);var i=Mt(),o=n.Fh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Nh.get(a[s]);i=i.kt(u.view.dh)}return i}).bind(null,e),e.ph.Gu.nh=bs.bind(null,e),e.Ch.yu=(function(t,e){for(var n=w(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.Bs.get(s.query);if(a){for(var u=0,l=a.listeners;u<l.length;u++)l[u].Ws(s)&&(r=!0);a.Ls=s}}r&&Rr(n)}).bind(null,e.bh),e.Ch.Wh=(function(t,e,n){var r=w(t),i=r.Bs.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(e)}).bind(null,e.bh),e}function Fs(t){var e=w(t);return e.ph.Gu.ih=ws.bind(null,e),e.ph.Gu.rh=_s.bind(null,e),e}var qs=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.on.length||1===e.on.length&&e.on[0].field.p())||n.isEqual(ut.min())?this.Hh(t,e):this.zh.kr(t,r).next(function(s){var a=i.Yh(e,s);return(Mn(e)||Ln(e))&&i.Eh(e.an,a,r,n)?i.Hh(t,e):(d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wn(e)),i.zh.Lr(t,e,n).next(function(t){return a.forEach(function(e){t=t.ot(e.key,e)}),t}))})},t.prototype.Yh=function(t,e){var n=new xt(Xn(t));return e.forEach(function(e,r){r instanceof An&&Kn(t,r)&&(n=n.add(r))}),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Wn(e)),this.zh.Lr(t,e,ut.min())},t}(),Bs=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new xt(xo.kc)}return t.prototype.$o=function(t){return pr.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++;var o=new Wr(i,e,n,r);this.Sr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xh=this.Xh.add(new xo(u.key,i)),this.Dr.Mo(t,u.key.path.h())}return pr.resolve(o)},t.prototype.Oo=function(t,e){return pr.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return pr.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return pr.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return pr.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new xo(e,0),i=new xo(e,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],function(t){var e=n.Zh(t.jc);o.push(e)}),pr.resolve(o)},t.prototype.Or=function(t,e){var n=this,r=new xt(Q);return e.forEach(function(t){var e=new xo(t,0),i=new xo(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],function(t){r=r.add(t.jc)})}),pr.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;k.F(i)||(i=i.child(""));var o=new xo(new k(i),0),s=new xt(Q);return this.Xh.xt(function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(s=s.add(t.jc)),!0)},o),pr.resolve(this.el(s))},t.prototype.el=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Zh(t);null!==r&&n.push(r)}),n},t.prototype.Wo=function(t,e){var n=this;b(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return pr.forEach(e.mutations,function(i){var o=new xo(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)}).next(function(){n.Xh=r})},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new xo(e,0),r=this.Xh.$t(n);return pr.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return pr.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),zs=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new Ct(k.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:s,readTime:n}),this.size+=s-o,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return pr.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return e.forEach(function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)}),pr.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=Pt(),i=new k(e.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),a=s.value,u=a.ta,l=a.readTime;if(!e.path.T(s.key.path))break;l.L(n)<=0||u instanceof An&&Kn(e,u)&&(r=r.ot(u.key,u))}return pr.resolve(r)},t.prototype.il=function(t,e){return pr.forEach(this.docs,function(t){return e(t)})},t.prototype.ra=function(t){return new Gs(this)},t.prototype.aa=function(t){return pr.resolve(this.size)},t}(),Gs=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach(function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)}),pr.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(Xr),Hs=function(){function t(t){this.persistence=t,this.rl=new st(function(t){return pt(t)},gt),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.ol=0,this.al=new To,this.targetCount=0,this.cl=Zi.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach(function(t,n){return e(n)}),pr.resolve()},t.prototype.Ea=function(t){return pr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return pr.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),pr.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),pr.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new Zi(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,pr.resolve()},t.prototype.ya=function(t,e){return this.ga(e),pr.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,pr.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.rl.delete(s),o.push(r.pa(t,a.targetId)),i++)}),pr.$n(o).next(function(){return i})},t.prototype.ba=function(t){return pr.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return pr.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),pr.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach(function(e){i.push(r.Go(t,e))}),pr.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),pr.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return pr.resolve(n)},t.prototype.Ho=function(t,e){return pr.resolve(this.al.Ho(e))},t}(),$s=function(){function t(t){var e=this;this.ul={},this.Ma=new Lr(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new Hs(this),this.Dr=new Pi,this.vr=function(t,n){return new zs(t,function(t){return e.No.hl(t)})}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Bs(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Ws(this.Ma.next());return this.No.ll(),n(i).next(function(t){return r.No._l(i).next(function(){return t})}).Fn().then(function(t){return i.br(),t})},t.prototype.fl=function(t,e){return pr.kn(Object.values(this.ul).map(function(n){return function(){return n.Ho(t,e)}}))},t}(),Ws=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return r.__extends(e,t),e}(Yr),Ks=function(){function t(t){this.persistence=t,this.dl=new To,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw y()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),pr.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),pr.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),pr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach(function(t){return n.Tl.add(t.toString())});var r=this.persistence.Tc();return r.Fa(t,e.targetId).next(function(t){t.forEach(function(t){return n.Tl.add(t.toString())})}).next(function(){return r.Va(t,e)})},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return pr.forEach(this.Tl,function(r){var i=k.D(r);return e.El(t,i).next(function(t){t||n.Ar(i)})}).next(function(){return e.wl=null,n.apply(t)})},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next(function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())})},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return pr.kn([function(){return pr.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),Xs=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),Qs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ys=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return r.__extends(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise(function(i,o){var s=new a.XhrIo;s.listenOnce(a.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=s.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),o(new h(c.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=r.status.toLowerCase().replace("_","-");return Object.values(c).indexOf(e)>=0?e:c.UNKNOWN}();o(new h(u,r.message))}else o(new h(c.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new h(c.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{p("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),l=!1,f=!1,d=new Xs({Il:function(t){f?p("Connection","Not sending because WebChannel is closed:",t):(l||(p("Connection","Opening WebChannel transport."),u.open(),l=!0),p("Connection","WebChannel sending:",t),u.send(t))},Al:function(){return u.close()}}),g=function(t,e){u.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return g(a.WebChannel.EventType.OPEN,function(){f||p("Connection","WebChannel transport opened.")}),g(a.WebChannel.EventType.CLOSE,function(){f||(f=!0,p("Connection","WebChannel transport closed"),d.Vl())}),g(a.WebChannel.EventType.ERROR,function(t){f||(f=!0,m("Connection","WebChannel transport errored:",t),d.Vl(new h(c.UNAVAILABLE,"The operation could not be completed")))}),g(a.WebChannel.EventType.MESSAGE,function(t){var e;if(!f){var n=t.data[0];b(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=vt[i];if(void 0!==e)return Et(e)}(),s=r.message;void 0===o&&(o=c.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),f=!0,d.Vl(new h(o,s)),u.close()}else p("Connection","WebChannel received:",n),d.pl(n)}}),setTimeout(function(){d.yl()},0),d},e}(function(){function t(t){this.bl=t,this.U=t.U,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);p("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then(function(t){return p("RestConnection","Received: ",t),t},function(e){throw m("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+Qs[t]},t}()),Js=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Zs=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();function ta(t){return new me(t,!0)}var ea="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",na=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}})})},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new qs,new fo(e,n,t.Wl);var e,n},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new h(c.FAILED_PRECONDITION,ea);return new $s(Ks.ml)},t.prototype.Ll=function(t){return new $r},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}})})},t.prototype.clearPersistence=function(t,e){throw new h(c.FAILED_PRECONDITION,ea)},t}(),ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,function(){var n,i=this;return r.__generator(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Kl.fi,this.Sh instanceof Hr?(this.Sh.fi={er:Ps.bind(null,n),nr:Us.bind(null,n),sr:Vs.bind(null,n),pi:Ls.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa(function(t){return r.__awaiter(i,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return[4,Rs(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Ir();if(!Hr.Ln(e))throw new h(c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ho(t.bl.U,t.bl.persistenceKey);return new Hr(e,t.cs,n,t.clientId,t.Wl)}return new $r},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Co(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,Fs(this.Kl.fi)];case 4:return n.sent(),[4,ts(this.Kl.ph)];case 5:return n.sent(),[2]}})})},e.prototype.Ul=function(t){return new ii(this.persistence.No.wo,t.cs)},e.prototype.Bl=function(t){var e=ho(t.bl.U,t.bl.persistenceKey),n=ta(t.bl.U);return new so(t.persistenceSettings.synchronizeTabs,e,t.clientId,ri.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Ir(),Tr(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new $r},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return gr.Ln()?[4,gr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(ho(t,e))},e}(na)),ia=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n=this;return r.__generator(this,function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return ys(n.fi,t,1)},this.ph.Gu.Jl=Os.bind(null,this.fi),[4,as(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.Hl=function(t){return new Or},t.prototype.Gl=function(t){var e=ta(t.bl.U),n=new Ys(t.bl);return function(t,e,r){return new Mo(t,n,r)}(t.credentials,0,e)},t.prototype.zl=function(t){var e,n,r,i,o,s=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return ys(s.fi,t,0)},o=Js.Ln()?new Js:new Zs,new Uo(e,n,r,i,o)},t.prototype.Yl=function(t){return function(t,e,n,r,i,o,s){var a=new gs(t,e,n,r,i,o);return s&&(a.qh=!0),a}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Fo(this.ph)},t}(),oa=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),sa=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(c.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+W(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(R("FieldPath","string",e,t[e]),0===t[e].length)throw new h(c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new S(t)},aa=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(S.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw G("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(sa),ua=new RegExp("[~\\*/\\[\\]]"),la=function(t){this.e_=t},ca=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw t.i_(1===t.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(la);function ha(t,e,n){return new Ca({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var fa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){return new an(t.path,new Ye)},e.prototype.isEqual=function(t){return t instanceof e},e}(la),da=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ha(this,t,!0),n=this.a_.map(function(t){return Aa(t,e)}),r=new Je(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(la),pa=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ha(this,t,!0),n=this.a_.map(function(t){return Aa(t,e)}),r=new tn(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(la),ga=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=new nn(t.serializer,be(t.serializer,this.c_));return new an(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(la),ma=function(){function t(t,e){if(O("GeoPoint",arguments,2),R("GeoPoint","number",1,t),R("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return Q(this.u_,t.u_)||Q(this.h_,t.h_)},t}(),va=function(t){this.l_=t},ya=/^__.*__$/,ba=function(t,e,n){this.__=t,this.f_=e,this.d_=n},wa=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return n.push(null!==this.We?new yn(t,this.data,this.We,e):new vn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new wn(t,this.fieldTransforms)),n},t}(),_a=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new yn(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new wn(t,this.fieldTransforms)),n},t}();function Ea(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var Ca=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return Ma(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find(function(e){return t.T(e)})||void 0!==this.fieldTransforms.find(function(e){return t.T(e.field)})},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Ea(this.s_)&&ya.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),Ia=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||ta(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new Ca({s_:t,methodName:e,r_:n,path:S.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Ta(t,e,n,r,i,o){void 0===o&&(o={});var s=t.P_(o.merge||o.mergeFields?2:0,e,n,i);Pa("Data must be an object, but it was:",s,r);var a,u,l=Oa(r,s);if(o.merge)a=new sn(s.We),u=s.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var g=p[d],m=void 0;if(g instanceof sa)m=g.t_;else{if("string"!=typeof g)throw y();m=Da(e,g,n)}if(!s.contains(m))throw new h(c.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");La(f,m)||f.push(m)}a=new sn(f),u=s.fieldTransforms.filter(function(t){return a.Ye(t.field)})}else a=null,u=s.fieldTransforms;return new wa(new Tn(l),a,u)}function xa(t,e,n,r){var i=t.P_(1,e,n);Pa("Data must be an object, but it was:",i,r);var o=[],s=new xn;E(r,function(t,r){var a=Da(e,t,n),u=i.A_(a);if(r instanceof ca||r instanceof va&&r.l_ instanceof ca)o.push(a);else{var l=Aa(r,u);null!=l&&(o.push(a),s.set(a,l))}});var a=new sn(o);return new _a(s.Xe(),a,i.fieldTransforms)}function Sa(t,e,n,r,i,o){var s=t.P_(1,e,n),a=[Ra(e,r,n)],u=[i];if(o.length%2!=0)throw new h(c.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(Ra(e,o[l])),u.push(o[l+1]);for(var f=[],d=new xn,p=a.length-1;p>=0;--p)if(!La(f,a[p])){var g=a[p],m=u[p],v=s.A_(g);if(m instanceof ca||m instanceof va&&m.l_ instanceof ca)f.push(g);else{var y=Aa(m,v);null!=y&&(f.push(g),d.set(g,y))}}var b=new sn(f);return new _a(d.Xe(),b,s.fieldTransforms)}function ka(t,e,n,r){return void 0===r&&(r=!1),Aa(n,t.P_(r?4:3,e))}function Aa(t,e){if(t instanceof va&&(t=t.l_),Na(t))return Pa("Unsupported field value:",e,t),Oa(t,e);if(t instanceof la)return function(t,e){if(!Ea(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Aa(o[i],e.R_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return be(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=at.fromDate(t);return{timestampValue:we(e.serializer,n)}}if(t instanceof at){var r=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:we(e.serializer,r)}}if(t instanceof ma)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:_e(e.serializer,t.q)};if(t instanceof ba){var i=e.U,o=t.__;if(!o.isEqual(i))throw e.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ie(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+q(t))}(t,e)}function Oa(t,e){var n={};return C(t)?e.path&&e.path.length>0&&e.We.push(e.path):E(t,function(t,r){var i=Aa(r,e.E_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Na(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof at||t instanceof ma||t instanceof tt||t instanceof ba||t instanceof la)}function Pa(t,e,n){if(!Na(n)||!F(n)){var r=q(n);throw e.i_("an object"===r?t+" a custom object":t+" "+r)}}function Ra(t,e,n){if(e instanceof sa)return e.t_;if("string"==typeof e)return Da(t,e);throw Ma("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Da(t,e,n){try{return function(t){if(t.search(ua)>=0)throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(aa.bind.apply(aa,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw Ma((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Ma(t,e,n,r,i){var o=r&&!r.m(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new h(c.INVALID_ARGUMENT,(a+=". ")+t+u)}function La(t,e){return t.some(function(t){return t.isEqual(e)})}var Ua=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n=this;return r.__generator(this,function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a,u;return r.__generator(this,function(r){switch(r.label){case 0:return n=w(t),i=Oe(n.serializer)+"/documents",o={documents:e.map(function(t){return xe(n.serializer,t)})},[4,n.ku("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){b(!!e.found);var n=Se(t,e.found.name),r=Ce(e.found.updateTime),i=new Tn({mapValue:{fields:e.found.fields}});return new An(n,r,i,{})}(t,e):"missing"in e?function(t,e){b(!!e.missing),b(!!e.readTime);var n=Se(t,e.missing),r=Ce(e.readTime);return new On(n,r)}(t,e):y()}(n.serializer,t);a.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=a.get(t.toString());b(!!e),u.push(e)}),u)]}})})}(this.Ku,t)];case 1:return[2,((e=i.sent()).forEach(function(t){t instanceof On||t instanceof An?n.D_(t):y()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new Cn(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,function(){var t,e=this;return r.__generator(this,function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=k.D(n);e.mutations.push(new In(r,e.Ge(r)))}),[4,function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o;return r.__generator(this,function(r){switch(r.label){case 0:return n=w(t),i=Oe(n.serializer)+"/documents",o={writes:e.map(function(t){return Re(n.serializer,t)})},[4,n.$u("Commit",i,o)];case 1:return r.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}})})},t.prototype.D_=function(t){var e;if(t instanceof An)e=t.version;else{if(!(t instanceof On))throw y();e=ut.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(c.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?ln.updateTime(e):ln.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(ut.min()))throw new h(c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ln.updateTime(e)}return ln.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Va=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new dr(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn(function(){return r.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return r.__generator(this,function(r){return t=new Ua(this.Ku),(e=this.x_(t))&&e.then(function(e){n.cs.ws(function(){return t.commit().then(function(){n.ls.resolve(e)}).catch(function(t){n.k_(t)})})}).catch(function(t){n.k_(t)}),[2]})})})},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!lt(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws(function(){return e.F_(),Promise.resolve()})):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!_t(e)}return!1},t}(),ja=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=X.k(),this.O_=new fr}return t.prototype.start=function(t,e,n,i){var o=this;this.L_(),this.bl=t;var s=new fr,a=!1;return this.credentials.Hc(function(t){if(!a)return a=!0,p("FirestoreClient","Initializing. user=",t.uid),o.B_(e,n,i,t,s).then(o.O_.resolve,o.O_.reject);o.cs.Cs(function(){return function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i;return r.__generator(this,function(r){switch(r.label){case 0:return(n=w(t)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),i=Wo(n),n.Yu.add(3),[4,jo(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return r.sent(),n.Yu.delete(3),[4,Vo(n)];case 3:return r.sent(),[2]}})})}(o.ph,t)})}),this.cs.ws(function(){return o.O_.promise}),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue(function(){return t.persistence.tc(!0),function(t){var e=w(t);return e.Yu.delete(0),Vo(e)}(t.ph)})},t.prototype.B_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,function(){var s,a,u=this;return r.__generator(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,t.initialize(s={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n})];case 1:return l.sent(),[4,e.initialize(t,s)];case 2:return l.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=(function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a;return r.__generator(this,function(r){switch(r.label){case 0:return n=js(t),(o=n.Nh.get(e))?(n.Sh.Oi(o.targetId),i=o.view.yh(),[3,4]):[3,1];case 1:return[4,yo(n.ju,qn(e))];case 2:return s=r.sent(),a=n.Sh.Oi(s.targetId),[4,ms(n,e,s.targetId,"current"===a)];case 3:i=r.sent(),n.Uh&&qo(n.ph,s),r.label=4;case 4:return[2,i]}})})}).bind(null,this.fi),this.q_.js=(function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o;return r.__generator(this,function(r){switch(r.label){case 0:return n=w(t),i=n.Nh.get(e),(o=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,o.filter(function(t){return!Hn(t,e)})),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,bo(n.ju,i.targetId,!1).then(function(){n.Sh.Ui(i.targetId),Bo(n.ph,i.targetId),Is(n,i.targetId)}).catch(Io)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Is(n,i.targetId),[4,bo(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})}).bind(null,this.fi),this.persistence.Za(function(){return r.__awaiter(u,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})}),o.resolve(),[3,4];case 3:if(a=l.sent(),o.reject(a),!this.U_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.B_(new na,new ia,{jl:!1},i,o))];case 4:return[2]}})})},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===c.FAILED_PRECONDITION||t.code===c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new h(c.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue(function(){return t.persistence.tc(!1),function(t){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return(e=w(t)).Yu.add(0),[4,jo(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}})})}(t.ph)})},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new fr;return this.cs.bs(function(){return r.__awaiter(t,void 0,void 0,function(){var t,n;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Fo(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=kr(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}})})}),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new fr;return this.cs.ws(function(){return function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a;return r.__generator(this,function(r){switch(r.label){case 0:Wo((n=w(t)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=w(n.ju);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Sr.qo(t)})}()];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lh.get(i)||[]).push(e),n.Lh.set(i,o),[3,4]);case 3:return s=r.sent(),a=kr(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}(t.fi,e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new oa(n),o=new Dr(t,i,e);return this.cs.ws(function(){return Nr(r.q_,o)}),function(){i.Zl(),r.cs.ws(function(){return Pr(r.q_,o)})}},t.prototype.Q_=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n=this;return r.__generator(this,function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws(function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o,s;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=w(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Cc.Cr(t,e)})}(t,e)];case 1:return(i=r.sent())instanceof An?n.resolve(i):i instanceof On?n.resolve(null):n.reject(new h(c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=kr(o,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}})})}(n.ju,t,e)}),e.promise)]}})})},t.prototype.W_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,function(){var n,i=this;return r.__generator(this,function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws(function(){return function(t,e,n,r,i){var o=new oa({next:function(o){e.ws(function(){return Pr(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new h(c.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new h(c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Dr(Dn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Nr(t,s)}(i.q_,i.cs,t,e,n)}),n.promise)]}})})},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n=this;return r.__generator(this,function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws(function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o,s,a,u,l;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,wo(t,e,!0)];case 1:return i=r.sent(),o=new fs(e,i.Fc),s=o.wh(i.documents),a=o.yr(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),l=kr(u,"Failed to execute query '"+e+" against cache"),n.reject(l),[3,3];case 3:return[2]}})})}(n.ju,t,e)}),e.promise)]}})})},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,function(){var n,i=this;return r.__generator(this,function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws(function(){return function(t,e,n,r,i){var o=new oa({next:function(n){e.ws(function(){return Pr(t,s)}),n.fromCache&&"server"===r.source?i.reject(new h(c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Dr(n,o,{includeMetadataChanges:!0,Xs:!0});return Nr(t,s)}(i.q_,i.cs,t,e,n)}),n.promise)]}})})},t.prototype.write=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws(function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var i,o,s,a;return r.__generator(this,function(r){switch(r.label){case 0:i=Fs(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=w(t),i=at.now(),o=e.reduce(function(t,e){return t.add(e.key)},Mt());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Cc.kr(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var l=u[a],c=pn(l,n.get(l.key));null!=c&&s.push(new yn(l.key,c,Sn(c.proto.mapValue),ln.exists(!0)))}return r.Sr.ko(t,i,s,e)})}).then(function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}})}(i.ju,e)];case 2:return o=r.sent(),i.Sh.xi(o.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new Ct(Q)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(i,o.batchId,n),[4,As(i,o.wr)];case 3:return r.sent(),[4,ts(i.ph)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=kr(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}(e.fi,t,n)}),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new oa(t);return this.cs.ws(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(t){return[2,function(t,e){w(t).qs.add(e),e.next()}(this.q_,n)]})})}),function(){n.Zl(),e.cs.ws(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(t){return[2,function(t,e){w(t).qs.delete(e)}(this.q_,n)]})})})}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws(function(){return new Va(e.cs,e.Ku,t,n).run(),Promise.resolve()}),n.promise},t}();function Fa(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var qa=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch(Zt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return se(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(ae(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw y()}},t.prototype.if=function(t){var e=this,n={};return E(t.fields||{},function(t,r){n[t]=e.X_(r)}),n},t.prototype.nf=function(t){return new ma(se(t.latitude),se(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map(function(t){return e.X_(t)})},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Qt(n)?t(n):n}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Yt(t));default:return null}},t.prototype.Z_=function(t){var e=oe(t),n=new at(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=T.g(t);b($e(e));var n=new ot(e.get(1),e.get(3)),r=new k(e.u(5));return n.isEqual(this.U)||g("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),Ba=ri.ho,za=function(){function t(t){var e,n,r,i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new h(c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else M("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),L("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?g("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&g("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=ri._o;else{if(t.cacheSizeBytes!==Ba&&t.cacheSizeBytes<ri.lo)throw new h(c.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ri.lo);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,L("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=t.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(t,e,n,r){if(!0===e&&!0===r)throw new h(c.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ga=function(){function t(e,n,i,o){var s=this;if(void 0===i&&(i=new na),void 0===o&&(o=new ia),this.rf=i,this.af=o,this.cf=null,this.uf=new Sr,this.INTERNAL={delete:function(){return r.__awaiter(s,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var a=e;this.cf=a,this.__=t._f(a),this.ff=a.name,this.df=new Ao(n)}else{var u=e;if(!u.projectId)throw new h(c.INVALID_ARGUMENT,"Must provide projectId");this.__=new ot(u.projectId,u.database),this.ff="[DEFAULT]",this.df=new ko}this.wf=new za({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Ia(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){O("Firestore.settings",arguments,1),R("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new za(t);if(this.lf&&!this.wf.isEqual(e))throw new h(c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new ko;switch(t.type){case"gapi":var e=t.client;return b(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new No(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(c.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new h(c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(c.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,function(){var t,e=this;return r.__generator(this,function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new fr,[2,(this.uf.bs(function(){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}})})}),t.promise)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.hf(),Fa(t)?this.lf.G_(t):(R("Firestore.onSnapshotsInSync","function",1,t),this.lf.G_({next:t}))},t.prototype.hf=function(){return this.lf||this.Ef(new na,new ia,{jl:!1}),this.lf},t.prototype.Af=function(){return new it(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new ja(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new h(c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new h(c.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new h(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return O("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,t),this.hf(),new ru(T.g(t),this,null)},t.prototype.doc=function(t){return O("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,t),this.hf(),Wa.Rf(T.g(t),this,null)},t.prototype.collectionGroup=function(t){if(O("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(c.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new eu(function(t){return new Pn(T.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,t),this.hf().transaction(function(n){return t(new Ha(e,n))})},t.prototype.batch=function(){return this.hf(),new $a(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){O("Firestore.setLogLevel",arguments,1),V("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),f.setLogLevel(t)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),Ha=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=au("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then(function(t){if(!t||1!==t.length)return y();var r=t[0];if(r instanceof On)return new Xa(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof An)return new Xa(e.yf,n.f_,r,!1,!1,n.d_);throw y()})},t.prototype.set=function(t,e,n){P("Transaction.set",arguments,2,3);var r=au("Transaction.set",t,this.yf);n=iu("Transaction.set",n);var i=lu(r.d_,e,n),o=Ta(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof aa?(N("Transaction.update",arguments,3),r=au("Transaction.update",t,this.yf),i=Sa(this.yf.mf,"Transaction.update",r.f_,e,n,o)):(O("Transaction.update",arguments,2),r=au("Transaction.update",t,this.yf),i=xa(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=au("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),$a=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){P("WriteBatch.set",arguments,2,3),this.vf();var r=au("WriteBatch.set",t,this.yf);n=iu("WriteBatch.set",n);var i=lu(r.d_,e,n),o=Ta(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,ln.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.vf(),"string"==typeof e||e instanceof aa?(N("WriteBatch.update",arguments,3),r=au("WriteBatch.update",t,this.yf),i=Sa(this.yf.mf,"WriteBatch.update",r.f_,e,n,o)):(O("WriteBatch.update",arguments,2),r=au("WriteBatch.update",t,this.yf),i=xa(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,ln.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.vf();var e=au("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new Cn(e.f_,ln.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new h(c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Wa=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new h(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new k(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ru(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,t),!t)throw new h(c.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=T.g(t);return new ru(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw G("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){P("DocumentReference.set",arguments,1,2),e=iu("DocumentReference.set",e);var n=lu(this.d_,t,e),r=Ta(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,ln.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof aa?(N("DocumentReference.update",arguments,2),n=Sa(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(O("DocumentReference.update",arguments,1),n=xa(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,ln.exists(!0)))},e.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this.lf.write([new Cn(this.f_,ln.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Fa(i[a])||(z("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(Fa(i[a])){var l=i[a];i[a]=null===(t=l.next)||void 0===t?void 0:t.bind(l),i[a+1]=null===(e=l.error)||void 0===e?void 0:e.bind(l),i[a+2]=null===(n=l.complete)||void 0===n?void 0:n.bind(l)}else R("DocumentReference.onSnapshot","function",a,i[a]),D("DocumentReference.onSnapshot","function",a+1,i[a+1]),D("DocumentReference.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](r.Sf(t))},error:i[a+1],complete:i[a+2]};return this.lf.listen(Dn(this.f_.path),u,c)},e.prototype.get=function(t){var e=this;P("DocumentReference.get",arguments,0,1),su("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then(function(t){return new Xa(e.firestore,e.f_,t,!0,t instanceof An&&t.Je,e.d_)}):n.W_(this.f_,t).then(function(t){return e.Sf(t)})},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new Xa(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(ba),Ka=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Xa=function(){function t(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return t.prototype.data=function(t){var e=this;if(P("DocumentSnapshot.data",arguments,0,1),t=ou("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new Qa(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new qa(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",function(t){return new Wa(t,e.yf,null)},function(t){return new rt(t)}).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(P("DocumentSnapshot.get",arguments,1,2),e=ou("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(Ra("DocumentSnapshot.get",t,this.f_));if(null!==r)return new qa(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",function(t){return new Wa(t,n.yf,n.d_)},function(t){return new rt(t)}).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wa(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ka(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw G("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),Qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Xa);function Ya(t,e,n){if("string"==typeof n){if(""===n)throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jn(e)&&-1!==n.indexOf("/"))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(T.g(n));if(!k.F(r))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ue(t,new k(r))}if(n instanceof ba)return ue(t,n.f_);throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(n)+".")}function Ja(t,e){if(!Array.isArray(t)||0===t.length)throw new h(c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Za(t,e,n){if(!n.isEqual(e))throw new h(c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function tu(t){if(Ln(t)&&0===t.on.length)throw new h(c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eu=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){O("Query.where",arguments,3),B("Query.where",3,r);var i=V("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Ra("Query.where",e),s=function(t,e,n,r,i,o,s){var a;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new h(c.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ja(s,o);for(var u=[],l=0,f=s;l<f.length;l++)u.push(Ya(r,t,f[l]));a={arrayValue:{values:u}}}else a=Ya(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ja(s,o),a=ka(n,"Query.where",s,"in"===o||"not-in"===o);var d=Qn.create(i,o,a);return function(t,e){if(e.hn()){var n=Vn(t);if(null!==n&&!n.isEqual(e.field))throw new h(c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Un(t);null!==r&&Za(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw new h(c.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}(this.Ff,0,this.firestore.mf,this.firestore.__,o,i,r);return new t(function(t,e){var n=t.filters.concat([s]);return new Pn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(P("Query.orderBy",arguments,1,2),D("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(c.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Ra("Query.orderBy",e),o=function(t,e,n){if(null!==t.startAt)throw new h(c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new lr(e,n);return function(t,e){if(null===Un(t)){var n=Vn(t);null!==n&&Za(0,n,e.field)}}(t,r),r}(this.Ff,i,r);return new t(function(t,e){var n=t.on.concat([o]);return new Pn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff),this.firestore,this.d_)},t.prototype.limit=function(e){return O("Query.limit",arguments,1),R("Query.limit","number",1,e),H("Query.limit",1,e),new t(Bn(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return O("Query.limitToLast",arguments,1),R("Query.limitToLast","number",1,e),H("Query.limitToLast",1,e),new t(Bn(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(zn(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(zn(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(Gn(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(Gn(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw G("isEqual","Query",1,e);return this.firestore===e.firestore&&Hn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,i){if(B(t,1,e),e instanceof Xa)return O(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Fn(t);s<a.length;s++){var u=a[s];if(u.field.p())o.push(ue(e,r.key));else{var l=r.field(u.field);if(Qt(l))throw new h(c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=u.field.R();throw new h(c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(l)}}return new or(o,i)}(this.Ff,this.firestore.__,t,e.Df,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var s=t.on;if(i.length>s.length)throw new h(c.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var l=i[u];if(s[u].field.p()){if("string"!=typeof l)throw new h(c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!jn(t)&&-1!==l.indexOf("/"))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var f=t.path.child(T.g(l));if(!k.F(f))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new k(f);a.push(ue(e,d))}else{var p=ka(n,r,l);a.push(p)}}return new or(a,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||Fa(i[a])||(z("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),Fa(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else R("Query.onSnapshot","function",a,i[a]),D("Query.onSnapshot","function",a+1,i[a+1]),D("Query.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](new nu(r.firestore,r.Ff,t,r.d_))},error:i[a+1],complete:i[a+2]};return tu(this.Ff),this.firestore.hf().listen(this.Ff,s,l)},t.prototype.get=function(t){var e=this;P("Query.get",arguments,0,1),su("Query.get",t),tu(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then(function(t){return new nu(e.firestore,e.Ff,t,e.d_)})},t}(),nu=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new Ka(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;P("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach(function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new eu(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new h(c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map(function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),oldIndex:-1,newIndex:r++}})}var i=t.Qt;return t.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:uu(e.type),doc:r,oldIndex:o,newIndex:s}})}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw G("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Hn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new Qa(this.yf,t.key,t,e,n,this.d_)},t}(),ru=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Dn(e),n,r)||this).Bf=e,e.length%2!=1)throw new h(c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new Wa(new k(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){P("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=X.k()),R("CollectionReference.doc","non-empty string",1,t);var e=T.g(t);return Wa.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;R("CollectionReference.add","object",1,e);var n=this.doc();return new Wa(n.f_,this.firestore,null).set(e).then(function(){return n})},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(eu);function iu(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+q(r[o]))}(t,"mergeFields",0,r,function(t){return"string"==typeof t||t instanceof aa})}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(c.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ou(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),U(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function su(t,e){D(t,"object",1,e),e&&(z(t,e,["source"]),U(t,0,"source",e.source,["default","server","cache"]))}function au(t,e,n){if(e instanceof ba){if(e.firestore!==n)throw new h(c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw G(t,"DocumentReference",1,e)}function uu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function lu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){A("FieldValue.serverTimestamp",arguments);var t=new fa("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){A("FieldValue.delete",arguments);var t=new ca("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];N("FieldValue.arrayUnion",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("arrayUnion()",arguments,1),new da("arrayUnion",t)}).apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];N("FieldValue.arrayRemove",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("arrayRemove()",arguments,1),new pa("arrayRemove",t)}).apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){R("FieldValue.increment","number",1,t),O("FieldValue.increment",arguments,1);var n=function(t){return new ga("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(va),hu={Firestore:Ga,GeoPoint:ma,Timestamp:at,Blob:rt,Transaction:Ha,WriteBatch:$a,DocumentReference:Wa,DocumentSnapshot:Xa,Query:eu,QueryDocumentSnapshot:Qa,QuerySnapshot:nu,CollectionReference:ru,FieldPath:aa,FieldValue:cu,setLogLevel:Ga.setLogLevel,CACHE_SIZE_UNLIMITED:Ba};function fu(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",function(t){return function(t,e){var n=new ia,r=new ra(n);return new Ga(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hu)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}fu(l.default),e.__PRIVATE_registerFirestore=fu},LOEa:function(t,e,n){(function(){var t,e=n("wj3C").default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in n||(n[s]={}),n=n[s]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Pa(e,n)})},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Pa(o(s.length-1),e),i=n.next()}while(!i.done)})},e});var a=a||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now||function(){return+new Date};function I(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t,e,n){this.code=k+t,this.message=e||A[t]||"",this.a=n||null}function x(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,k="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function M(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}S=N("__EID__")?"__EID__":void 0,I(R,Error),R.prototype.name="CustomError",I(D,R),D.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new L(function(){return new q},function(t){t.reset()});function F(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},$=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=B(t,e)}function K(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Q(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=u.navigator;if(lt){var ct=lt.userAgent;if(ct){J=ct;break t}}J=""}function ht(t){return at(J,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===_t&&e||"",this.b=wt}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===wt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt={},_t={},Et=new yt(_t,"");function Ct(t,e){this.a=t===At&&e||"",this.b=kt}function It(t){return t instanceof Ct&&t.constructor===Ct&&t.b===kt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=bt(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(xt,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?bt(t):encodeURIComponent(String(t))}),new Ct(At,t)}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={},At={};function Ot(t,e){this.a=t===Mt&&e||"",this.b=Dt}function Nt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Dt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Ot(Mt,t))}var Dt={},Mt={};function Lt(){this.a="",this.b=Vt}function Ut(t){return t instanceof Lt&&t.constructor===Lt&&t.b===Vt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Lt.prototype.sa=!0,Lt.prototype.ra=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function jt(t){var e=new Lt;return e.a=t,e}jt("<!DOCTYPE html>");var Ft=jt("");function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function zt(t){return zt[" "](t),t}jt("<br>"),zt[" "]=h;var Gt,Ht,$t=ht("Opera"),Wt=ht("Trident")||ht("MSIE"),Kt=ht("Edge"),Xt=Kt||Wt,Qt=ht("Gecko")&&!(at(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Yt=at(J.toLowerCase(),"webkit")&&!ht("Edge");function Jt(){var t=u.document;return t?t.documentMode:void 0}t:{var Zt="",te=(Ht=J,Qt?/rv:([^\);]+)(\)|;)/.exec(Ht):Kt?/Edge\/([\d\.]+)/.exec(Ht):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Yt?/WebKit\/(\S+)/.exec(Ht):$t?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(te&&(Zt=te?te[1]:""),Wt){var ee=Jt();if(null!=ee&&ee>parseFloat(Zt)){Gt=String(ee);break t}}Gt=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Z(String(Gt)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}ne=u.document&&Wt?Jt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var oe=!Wt||9<=Number(ne);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ce.hasOwnProperty(n)?t.setAttribute(ce[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var ue,le,ce={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function fe(t){if(t&&"number"==typeof t.length){if(g(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function de(t){u.setTimeout(function(){throw t},0)}function pe(t,e){le||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);le=function(){t.then(ve)}}else le=function(){var t=ve;!p(u.setImmediate)||u.Window&&u.Window.prototype&&!ht("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t,e,n=he(document,"IFRAME");n.style.display="none",t=n,e=new Ct(At,bt(Et)),vt(t,"HTMLIFrameElement"),t.src=It(e).toString(),document.documentElement.appendChild(n);var r=n.contentWindow;(n=r.document).open(),n.write(Ut(Ft)),n.close();var i="callImmediate"+Math.random(),o="file:"==r.location.protocol?"*":r.location.protocol+"//"+r.location.host;n=_(function(t){"*"!=o&&t.origin!=o||t.data!=i||this.port1.onmessage()},this),r.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){r.postMessage(i,o)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),ue(t)):u.setImmediate(t)}}(),ge||(le(),ge=!0),me.add(t,e)}var ge=!1,me=new V;function ve(){for(var t;t=F();){try{t.a.call(t.b)}catch(e){de(e)}U(j,t)}ge=!1}function ye(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Ne(n,we,t)},function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,_e,t)})}catch(r){Ne(this,_e,r)}}var be=0,we=2,_e=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new L(function(){return new Ee},function(t){t.reset()});function Ie(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof ye)return t;var e=new ye(h);return Ne(e,we,t),e}function xe(t){return new ye(function(e,n){n(t)})}function Se(t,e,n){Pe(t,e,n,null)||pe(E(e,t))}function ke(t){return new ye(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Se(t[o],E(i,o,!0),E(i,o,!1));else e(r)})}function Ae(t,e){t.b||t.a!=we&&t.a!=_e||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=Ie(null,null,null);return i.a=new ye(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,Ae(t,i),i.a}function Ne(t,e,n){t.a==be&&(t===n&&(e=_e,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=_e||n instanceof Ve||function(t,e){t.g=!0,pe(function(){t.g&&Ue.call(null,e)})}(t,n)))}function Pe(t,e,n,r){if(t instanceof ye)return Ae(t,Ie(e||h,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Re(t){t.h||(t.h=!0,pe(t.fc,t))}function De(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,r){if(n==_e&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Le(e,n,r);else try{e.c?e.g.call(e.f):Le(e,n,r)}catch(i){Ue.call(null,i)}U(Ce,e)}function Le(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Oe(this,p(t)?t:null,p(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).na=function(t,e){return(t=Ie(t,t,e)).c=!0,Ae(this,t),this},t.s=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ve(t);pe(function(){!function t(e,n){if(e.a==be)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==be&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Me(r,o,_e,n)))}e.c=null}else Ne(e,_e,n)}(this,e)},this)}},t.Zc=function(t){this.a=be,Ne(this,we,t)},t.$c=function(t){this.a=be,Ne(this,_e,t)},t.fc=function(){for(var t;t=De(this);)Me(this,t,this.a,this.i);this.h=!1};var Ue=de;function Ve(t){R.call(this,t)}function je(){0!=Fe&&(qe[m(this)]=this),this.xa=this.xa,this.oa=this.oa}I(Ve,R),Ve.prototype.name="cancel";var Fe=0,qe={};function Be(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Fe)){var e=m(t);if(0!=Fe&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete qe[e]}}je.prototype.xa=!1,je.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var ze=Object.freeze||function(t){return t},Ge=!Wt||9<=Number(ne),He=Wt&&!ie("9"),$e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ke(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Ke,We);var Xe=ze({2:"touch",3:"pen",4:"mouse"});Ke.prototype.preventDefault=function(){Ke.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ke.prototype.g=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Ye,this.va=this.Oa=!1}function Ze(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=nn(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new Je(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function sn(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=vn(n),t&&t[Qe]?bn(t,e,n,g(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=gn(t);if(a||(t[rn]=a=new tn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=pn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=vn(n),t&&t[Qe]?wn(t,e,n,g(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=vn(n),t&&t[Qe]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=nn(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Qe])en(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function hn(t){return t in on?on[t]:on[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&cn(t),n.call(r,e)}function pn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ke(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new Ke(e,this))}function gn(t){return(t=t[rn])instanceof tn?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function yn(){je.call(this),this.v=new tn(this),this.$b=this,this.fb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function _n(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&en(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Cn(t){var e=null;return new ye(function(n,r){-1==(e=En(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw u.clearTimeout(e),t})}function In(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Sn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(yn,je),yn.prototype[Qe]=!0,yn.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;mt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=_n(s,r,!0,t)&&i}if(i=_n(s=t.b=n,r,!0,t)&&i,i=_n(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=_n(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=xn.prototype).V=function(){Sn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Sn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return kn(this.b,t)?this.b[t]:e},t.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof On?(this.i=void 0!==e?e:t.i,Nn(this,t.f),this.l=t.l,this.a=t.a,Pn(this,t.g),this.c=t.c,Rn(this,Jn(t.b)),this.h=t.h):t&&(n=String(t).match(An))?(this.i=!!e,Nn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Pn(this,n[4]),this.c=Vn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Nn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Yn(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Gn)),t.b=new $n(e,t.i))}function Dn(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Ln(t){return t instanceof On?new On(t):new On(t,void 0)}function Un(t,e,n,r){var i=new On(null,void 0);return t&&Nn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.c=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.f;e&&t.push(jn(e,qn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,qn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?zn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Hn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.f;n?Nn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Pn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Rn(e,Jn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var qn=/[#\/\?@]/g,Bn=/[#\?:]/g,zn=/[#\?]/g,Gn=/[#\?@]/g,Hn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Kn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=In(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Yn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Wn(t),e=Zn(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sn(t)))}function Qn(t,e){return Wn(t),e=Zn(t,e),kn(t.a.b,e)}function Yn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),Y(n)),t.b+=n.length)}function Jn(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),ir(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ir(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new er,t,e),e.join("")}function er(){}(t=$n.prototype).add=function(t,e){Wn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach(function(n,r){z(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Wn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Wn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=Q(e,this.a.get(Zn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Qn(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},rr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ir(t,e){e.push('"',t.replace(rr,function(t){var e=nr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nr[t]=e),e}),'"')}function or(){var t=Ir();return Wt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function sr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ar(t,e){e=e||u.window;var n="about:blank";t&&(n=Nt(Rt(t))),e.location.href=n}function ur(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||u.window;try{t.close()}catch(e){}}function cr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),_r(Ir())==br&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Rt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=he(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.sa?e.ra():String(e),Pt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Mt,e)),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Nt(e),s&&(Xt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),r=s.document)&&(r.write(Ut(t)),r.close())):(s=r.open(Nt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var hr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function dr(){var t=null;return new ye(function(e){"complete"==u.document.readyState?e():(t=function(){e()},un(window,"load",t))}).s(function(e){throw ln(window,"load",t),e})}function pr(t){return t=t||Ir(),!("file:"!==Ar()&&"ionic:"!==Ar()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function mr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function vr(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function yr(){var t=vr();return"ReactNative"===t||"Node"===t}var br="Firefox",wr="Chrome";function _r(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?br:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":wr:"Safari"}var Er={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Cr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=vr())?r=_r(i=Ir()):"Worker"===r&&(r=_r(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return u.navigator&&u.navigator.userAgent||""}function Tr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xr(){try{var t=u.localStorage,e=Dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!or()||!!u.indexedDB}catch(n){return mr()&&!!u.indexedDB}return!1}function Sr(){return(kr()||"chrome-extension:"===Ar()||pr())&&!yr()&&xr()&&!mr()}function kr(){return"http:"===Ar()||"https:"===Ar()}function Ar(){return u.location&&u.location.protocol||null}function Or(t){return!ur(t=t||Ir())&&_r(t)!=br}function Nr(t){return void 0===t?null:tr(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Rr(t){if(null!==t)return JSON.parse(t)}function Dr(t){return t||Math.floor(1e9*Math.random()).toString()}function Mr(t){return"Safari"!=_r(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=vr(),this.b=ur(t)||"ReactNative"===e}function Vr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function jr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Fr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function qr(){return!(!Tr("fireauth.oauthhelper",u)&&!Tr("fireauth.iframe",u))}Ur.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!kr()&&"chrome-extension:"!==Ar()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,zr={};function Gr(t){zr[t]||(zr[t]=!0,jr(t))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Hr.abcd}catch(Ht){Br=!1}function $r(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&$r(t,n,e[n])}function Kr(t){var e={};return Wr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)$r(e,n,Xr(t[n]));return e}function Qr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",t[ti]),$r(this,"displayName",t[Jr]||null);var n=null;t[Zr]&&(n=new Date(t[Zr]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",e)}function Yr(t){try{var e=new ni(t)}catch(n){e=null}return e}Qr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Zr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Qr.call(this,t),$r(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[ai],r=t[li],i=t[ci];if(t=Yr(t[ui]),!i||i!=oi&&i!=si&&!n||i==si&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[fi]=n||null,e[pi]=n||null,e[hi]=r):(e[fi]=r||null,e[pi]=r||null,e[hi]=n||null),e[di]=t||null,$r(this,mi,i),$r(this,gi,Xr(e))}I(ni,Qr),ni.prototype.w=function(){var t=ni.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ai="email",ui="mfaInfo",li="newEmail",ci="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",gi="data",mi="operation";function vi(t){var e=Mn(t=Ln(t),yi)||null,n=Mn(t,bi)||null,r=Mn(t,Ei)||null;if(r=r&&Ii[r]||null,!e||!n||!r)throw new T("argument-error",yi+", "+bi+"and "+Ei+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,wi)||null,languageCode:Mn(t,_i)||null,tenantId:Mn(t,Ci)||null})}var yi="apiKey",bi="oobCode",wi="continueUrl",_i="languageCode",Ei="mode",Ci="tenantId",Ii={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Ti(t){try{return new vi(t)}catch(e){return null}}function xi(t){var e=t[Ni];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Si];if(n&&"object"==typeof n){e=n[Di];var r=n[Pi];if(n=n[Ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Si+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new T("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ki])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",ki+" property must be a non empty string when specified.");this.i=t||null}var Si="android",ki="dynamicLinkDomain",Ai="handleCodeInApp",Oi="iOS",Ni="url",Pi="installApp",Ri="minimumVersion",Di="packageName",Mi="bundleId";function Li(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function Vi(t){var e=Fi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function ji(t){try{return new Vi(t)}catch(e){return null}}function Fi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}Vi.prototype.S=function(){return this.f},Vi.prototype.i=function(){return this.b},Vi.prototype.toString=function(){return this.g};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bi=["client_id","response_type","scope","redirect_uri","state"],zi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Bi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Bi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Bi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:qi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Gi(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Hi(t){var e={};e["facebook.com"]=Qi,e["google.com"]=Ji,e["github.com"]=Yi,e["twitter.com"]=Zi;var n=t&&t[Wi];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[$i])return new Ki(t)}catch(r){}return null}var $i="idToken",Wi="providerId";function Ki(t){var e=t[Wi];if(!e&&t[$i]){var n=ji(t[$i]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),$r(this,"providerId",e),$r(this,"isNewUser",n)}function Xi(t){Ki.call(this,t),$r(this,"profile",Xr((t=Rr(t.rawUserInfo||"{}"))||{}))}function Qi(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",t.screenName||null)}function to(t){var e=Ln(t),n=Mn(e,"link"),r=Mn(Ln(n),"link");return e=Mn(e,"deep_link_id"),Mn(Ln(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}I(Xi,Ki),I(Qi,Xi),I(Yi,Xi),I(Ji,Xi),I(Zi,Xi);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then(function(t){if(t[Hs]){var n=ji(t[Hs]);if(!n||e!=n.h)throw new T("user-mismatch");return t}throw new T("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t})}function so(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,$r(this,"providerId",t),$r(this,"signInMethod",t)}function ao(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function uo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(e){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&$r(this,"idToken",e.idToken),e.accessToken&&$r(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&$r(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");$r(this,"accessToken",e.oauthToken),$r(this,"secret",e.oauthTokenSecret)}$r(this,"providerId",t),$r(this,"signInMethod",n)}function co(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Kn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function fo(t,e){this.Pc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Gi(t)||{}).Ja||null,this.nb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function go(t){fo.call(this,t,Bi),this.a=[]}function mo(){go.call(this,"facebook.com")}function vo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function yo(){go.call(this,"github.com")}function bo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){go.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function Eo(){fo.call(this,"twitter.com",qi)}function Co(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Io(t,e,n){this.a=t,this.f=e,$r(this,"providerId","password"),$r(this,"signInMethod",n===xo.EMAIL_LINK_SIGN_IN_METHOD?xo.EMAIL_LINK_SIGN_IN_METHOD:xo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new Io(t.email,t.password,t.signInMethod):null}function xo(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function So(t,e){if(!(e=ko(e)))throw new T("argument-error","Invalid email link!");return new Io(t,e.code,xo.EMAIL_LINK_SIGN_IN_METHOD)}function ko(t){return(t=Ti(t=to(t)))&&t.operation===oi?t:null}function Ao(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new T("internal-error");this.a=t,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Ao(e)}return null}function No(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Po(t){try{this.a=t||e.auth()}catch(n){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ao({cb:t,bb:e})}function Do(t){if(t.temporaryProof&&t.phoneNumber)return new Ao({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return vo(n);case"github.com":return bo(n);case"twitter.com":return Co(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new so(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Mo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Lo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new Lo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&x(t.error),t.postBody,t.tenantId):null}function Vo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return Te(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ja=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},so.prototype.ja=function(t){return fa(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,da(t,n)},so.prototype.c=function(t,e){return oo(pa(t,ao(this)),e)},so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ja=function(t){return fa(t,co(this))},lo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,da(t,n)},lo.prototype.c=function(t,e){return oo(pa(t,co(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ka=function(t){return this.Hb=pt(t),this},I(po,fo),I(go,fo),go.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},go.prototype.Pb=function(){return Y(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},I(mo,go),$r(mo,"PROVIDER_ID","facebook.com"),$r(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(yo,go),$r(yo,"PROVIDER_ID","github.com"),$r(yo,"GITHUB_SIGN_IN_METHOD","github.com"),I(wo,go),$r(wo,"PROVIDER_ID","google.com"),$r(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Eo,fo),$r(Eo,"PROVIDER_ID","twitter.com"),$r(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ja=function(t){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,Ea,{email:this.a,oobCode:this.f}):Xa(t,Ga,{email:this.a,password:this.f})},Io.prototype.b=function(t,e){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,Ca,{idToken:e,email:this.a,oobCode:this.f}):Xa(t,La,{idToken:e,email:this.a,password:this.f})},Io.prototype.c=function(t,e){return oo(this.ja(t),e)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(xo,{PROVIDER_ID:"password"}),Wr(xo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(xo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ao.prototype.ja=function(t){return t.eb(No(this))},Ao.prototype.b=function(t,e){var n=No(this);return n.idToken=e,Xa(t,$a,n)},Ao.prototype.c=function(t,e){var n=No(this);return n.operation="REAUTH",oo(t=Xa(t,Wa,n),e)},Ao.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.eb=function(t,e){var n=this.a.a;return Te(e.verify()).then(function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==no?i.Ha().then(function(t){return Xa(n,Va,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):i&&i.type==ro?i.Ha().then(function(e){return Xa(n,ja,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}}).then(function(t){return t.phoneResponseInfo.sessionInfo})}):Xa(n,Da,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Wr(Po,{PROVIDER_ID:"phone"}),Wr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Lo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Lo.prototype.S=function(){return this.h},Lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var jo,Fo=null;function qo(t){var e="unauthorized-domain",n=void 0,r=Ln(t);t=r.a,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Bo(t,e,n){T.call(this,t,n),(t=e||{}).Ib&&$r(this,"email",t.Ib),t.ea&&$r(this,"phoneNumber",t.ea),t.credential&&$r(this,"credential",t.credential),t.Yb&&$r(this,"tenantId",t.Yb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Do(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Bo(e,n,t.message)}return null}function Go(){}function Ho(){}function $o(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Wo(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.pc,this),this.a.onerror=_(this.Rb,this),this.a.onprogress=_(this.qc,this),this.a.ontimeout=_(this.uc,this)}function Xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Qo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Jo(t,e){this.name=t,this.value=e}I(qo,T),I(Bo,T),Bo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Bo.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,I(Ho,Go),Ho.prototype.a=function(){var t=$o(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ho.prototype.b=function(){var t={};return $o(this)&&(t[0]=!0,t[1]=!0),t},jo=new Ho,I(Wo,Go),Wo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},Wo.prototype.b=function(){return{}},(t=Ko.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Qo.prototype.a=null,Qo.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},Jo.prototype.toString=function(){return this.name};var Zo=new Jo("SEVERE",1e3),ts=new Jo("WARNING",900),es=new Jo("CONFIG",700),ns=new Jo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(M("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Qo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var rs={},is=null;function os(t){var e;if(is||(is=new Yo(""),rs[""]=is,is.c=es),!(e=rs[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=os(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,rs[t]=e}return e}function ss(t,e){t&&t.log(ns,e,void 0)}function as(t){this.f=t}function us(t){yn.call(this),this.o=t,this.readyState=ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=os("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}I(as,Go),as.prototype.a=function(){return new us(this.f)},as.prototype.b=function(t){return function(){return t}}({}),I(us,yn);var ls=0;function cs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function hs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,fs(t)}function fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ds(t){yn.call(this),this.headers=new xn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=ps,this.u=this.R=!1}(t=us.prototype).open=function(t,e){if(this.readyState!=ls)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,fs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hs(this,!1)),this.readyState=ls},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,fs(this)),this.a&&(this.readyState=3,fs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,cs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?hs(this,!0):fs(this),3==this.readyState&&cs(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,hs(this,!0))},t.rc=function(t){this.a&&(this.response=t,hs(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(ts,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&hs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ts,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ts,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},I(ds,yn);var ps="";ds.prototype.b=os("goog.net.XhrIo");var gs=/^https?$/i,ms=["POST","PUT"];function vs(t){return"content-type"==t.toLowerCase()}function ys(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,bs(t),_s(t)}function bs(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ws(t){if(t.c&&void 0!==a)if(t.A[1]&&4==Cs(t)&&2==Is(t))ss(t.b,Ts(t,"Local request error detected and ignored"));else if(t.i&&4==Cs(t))En(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Cs(t)){ss(t.b,Ts(t,"Request complete")),t.c=!1;try{var e,n=Is(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(An)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!gs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<Cs(t)?t.a.statusText:""}catch(c){ss(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+Is(t)+"]",bs(t)}}finally{_s(t)}}}function _s(t,e){if(t.a){Es(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Zo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Es(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function Cs(t){return t.a?t.a.readyState:0}function Is(t){try{return 2<Cs(t)?t.a.status:-1}catch(e){return-1}}function Ts(t,e){return e+" ["+t.P+" "+t.l+" "+Is(t)+"]"}function xs(t){var e=Us;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ss(t,e,n){t.a=!0,t.c=n,t.f=!e,Ns(t)}function ks(t){if(t.a){if(!t.m)throw new Ps(t);t.m=!1}}function As(t,e,n,r){t.g.push([e,n,r]),t.a&&Ns(t)}function Os(t){return $(t.g,function(t){return p(t[1])})}function Ns(t){if(t.h&&t.a&&Os(t)){var e=t.h,n=Ms[e];n&&(u.clearTimeout(n.a),delete Ms[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.o,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(P(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(l){e=l,t.f=!0,Os(t)||(n=!0)}}t.c=e,r&&(a=_(t.v,t,!0),r=_(t.v,t,!1),e instanceof xs?(As(e,a,r),e.A=!0):e.then(a,r)),n&&(e=new Ds(e),Ms[e.a]=e,t.h=e.a)}function Ps(){R.call(this)}function Rs(){R.call(this)}function Ds(t){this.a=u.setTimeout(_(this.c,this),0),this.b=t}(t=ds.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ss(this.b,Ts(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ss(this.b,Ts(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_s(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_s(this,!0)),ds.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?ws(this):this.Ic())},t.Ic=function(){ws(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ps:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ss(this.b,"Can not get response: "+e.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Rs(this),ks(this),Ss(this,!1,t))}},xs.prototype.v=function(t,e){this.i=!1,Ss(this,t,e)},xs.prototype.then=function(t,e,n){var r,i,o=new ye(function(t,e){r=t,i=e});return As(this,r,function(t){t instanceof Rs?o.cancel():i(t)}),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,I(Ps,R),Ps.prototype.message="Deferred has already fired",Ps.prototype.name="AlreadyCalledError",I(Rs,R),Rs.prototype.message="Deferred was canceled",Rs.prototype.name="CanceledError",Ds.prototype.c=function(){throw delete Ms[this.a],this.b};var Ms={};function Ls(t){var e={},n=e.document||document,r=It(t).toString(),i=he(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new xs(o),a=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(a=window.setTimeout(function(){Vs(i,!0);var t=new qs(Fs,"Timeout reached for loading script "+r);ks(s),Ss(s,!1,t)},h),o.Ma=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Vs(i,e.wd||!1,a),ks(s),Ss(s,!0,null))},i.onerror=function(){Vs(i,!0,a);var t=new qs(js,"Error while loading script "+r);ks(s),Ss(s,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=It(e),null===c&&(c=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Us(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Vs(t,!0,this.Ma)}}function Vs(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var js=0,Fs=1;function qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Bs(t){this.f=t}function zs(t,n,r){if(this.c=t,this.l=(t=n||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||$s,this.g=pt(t.secureTokenHeaders||Ws),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Ks,this.a=pt(t.firebaseHeaders||Xs),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==vr(),!(r=u.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!mr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=mr()?new as(self):yr()?new Bs(r):new Wo,this.b=null}I(qs,R),I(Bs,Go),Bs.prototype.a=function(){return new this.f},Bs.prototype.b=function(){return{}};var Gs,Hs="idToken",$s=new Ur(3e4,6e4),Ws={"Content-Type":"application/x-www-form-urlencoded"},Ks=new Ur(3e4,6e4),Xs={"Content-Type":"application/json"};function Qs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ys(t,e){e&&(t.l=Js("https://securetoken.googleapis.com/v1/token",e),t.h=Js("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Js("https://identitytoolkit.googleapis.com/v2/",e))}function Js(t,e){return t=Ln(t),e=Ln(e.url),t.c=t.a+t.c,Nn(t,e.f),t.a=e.a,Pn(t,e.g),t.toString()}function Zs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ta(t,e,n,r,i,o,s){(function(){var t=Ir();return!((t=_r(t)!=wr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&ne&&!(9<ne))})()||mr()?t=_(t.u,t):(Gs||(Gs=new ye(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[na]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Tt(ea,{onload:na});!function(t,e){As(Ls(n),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=_(t.o,t)),t(e,n,r,i,o,s)}zs.prototype.S=function(){return this.b},zs.prototype.u=function(t,e,n,r,i,o){if(mr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ds(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout(function(){s.dispatchEvent("timeout")},o)}bn(s,"complete",function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ss(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),wn(s,"ready",function(){a&&clearTimeout(a),Be(this)}),wn(s,"timeout",function(){a&&clearTimeout(a),Be(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():jo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:jo),t.a.onreadystatechange=_(t.Ub,t);try{ss(t.b,Ts(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return ss(t.b,Ts(t,"Error opening Xhr: "+s.message)),void ys(t,s)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)z(t,e,void 0);else for(var n=Tn(t),r=In(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=vs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!W(ms,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Es(t),0<t.g&&(t.u=function(t){return Wt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ss(t.b,Ts(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.o=En(t.Ma,t.g,t)),ss(t.b,Ts(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ss(t.b,Ts(t,"Send error: "+s.message)),ys(t,s)}}(s,t,n,r,i)};var ea=new yt(_t,"https://apis.google.com/js/client.js?onload=%{onload}"),na="__fcb"+Math.floor(1e6*Math.random()).toString();function ra(t){if("string"!=typeof(t=t.email)||!fr.test(t))throw new T("invalid-email")}function ia(t){"email"in t&&ra(t)}function oa(t){if(!t[Hs]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,pt(t));throw new T("internal-error")}}function sa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}zs.prototype.o=function(t,e,n,r,i){var o=this;Gs.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},zs.prototype.yb=function(){return Xa(this,Ua,{})},zs.prototype.Ab=function(t,e){return Xa(this,Ma,{idToken:t,email:e})},zs.prototype.Bb=function(t,e){return Xa(this,La,{idToken:t,password:e})};var aa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ua(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function la(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ca(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Qn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ha(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=Qa(t.errorMessage)),e)throw e;oa(t)}function fa(t,e){return e.returnIdpCredential=!0,Xa(t,Fa,e)}function da(t,e){return e.returnIdpCredential=!0,Xa(t,Ba,e)}function pa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Xa(t,qa,e)}function ga(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=zs.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(aa,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Xa(this,Ma,n)},t.ub=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),Xa(this,Oa,t)},t.vb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),Xa(this,Sa,t)},t.tb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Xa(this,ka,t)},t.Db=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Xa(this,Aa,t)},t.eb=function(t){return Xa(this,Ha,t)},t.mb=function(t,e){return Xa(this,Ra,{oobCode:t,newPassword:e})},t.Qa=function(t){return Xa(this,va,{oobCode:t})},t.ib=function(t){return Xa(this,ma,{oobCode:t})};var ma={endpoint:"setAccountInfo",B:ga,Z:"email",C:!0},va={endpoint:"resetPassword",B:ga,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},C:!0},ya={endpoint:"signupNewUser",B:function(t){if(ra(t),!t.password)throw new T("weak-password")},F:oa,U:!0,C:!0},ba={endpoint:"createAuthUri",C:!0},wa={endpoint:"deleteAccount",M:["idToken"]},_a={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=f(t.deleteProvider))throw new T("internal-error")}},Ea={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ra,F:oa,U:!0,C:!0},Ca={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ra,F:oa,U:!0},Ia={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ua,F:oa,C:!0,Na:!0},Ta={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ua,F:oa,C:!0,Na:!0},xa={endpoint:"getAccountInfo"},Sa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ra(t)},Z:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Aa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Oa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ra(t)},Z:"email",C:!0},Na={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Pa={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Ra={endpoint:"resetPassword",B:ga,Z:"email",C:!0},Da={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ma={endpoint:"setAccountInfo",M:["idToken"],B:ia,U:!0},La={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ia(t),!t.password)throw new T("weak-password")},F:oa,U:!0},Ua={endpoint:"signupNewUser",F:oa,U:!0,C:!0},Va={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},ja={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Fa={endpoint:"verifyAssertion",B:la,Xa:ca,F:ha,U:!0,C:!0},qa={endpoint:"verifyAssertion",B:la,Xa:ca,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Qa(t.errorMessage);oa(t)},U:!0,C:!0},Ba={endpoint:"verifyAssertion",B:function(t){if(la(t),!t.idToken)throw new T("internal-error")},Xa:ca,F:ha,U:!0},za={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new T("invalid-custom-token")},F:oa,U:!0,C:!0},Ga={endpoint:"verifyPassword",B:function(t){if(ra(t),!t.password)throw new T("wrong-password")},F:oa,U:!0,C:!0},Ha={endpoint:"verifyPhoneNumber",B:sa,F:oa,C:!0},$a={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new T("internal-error");sa(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);oa(t)}},Wa={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:sa,F:oa,C:!0},Ka={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Hs]^!!t.refreshToken)throw new T("internal-error")},C:!0,Na:!0};function Xa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return xe(new T("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Te(n).then(e.B).then(function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Ln(e+n);Dn(a,"key",t.c),s&&Dn(a,"cb",C().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&Dn(a,l,i[l]);return new ye(function(e,n){ta(t,a.toString(),function(t){t?t.error?n(Ya(t,o||{})):e(t):n(new T("network-request-failed"))},r,u?void 0:tr(Pr(i)),t.a,t.m.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)}).then(function(t){return r=t,e.Xa?e.Xa(n,r):r}).then(e.F).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]})}function Qa(t){return Ya({error:{errors:[{message:t}],code:400,message:t}})}function Ya(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Nr(t)),new T("internal-error",e)}function Ja(t){this.b=t,this.a=null,this.qb=function(t){return(nu||(nu=new ye(function(t,e){function n(){Lr(),Tr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Lr(),e(Error("Network Error"))},timeout:tu.get()})}if(Tr("gapi.iframes.Iframe"))t();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Tr("gapi.load")?n():e(Error("Network Error"))},Te(Ls(r=Tt(Za,{onload:r}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw nu=null,t}))).then(function(){return new ye(function(e,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},eu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var Za=new yt(_t,"https://apis.google.com/js/api.js?onload=%{onload}"),tu=new Ur(3e4,6e4),eu=new Ur(5e3,15e3),nu=null;function ru(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=Ln(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Dn(this.a,"apiKey",this.h),Dn(this.a,"appName",this.i),this.b=null,this.c=[]}function iu(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ou(t){try{return e.app(t).auth().Ga()}catch(n){return[]}}function su(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function au(t){var e=sr();return function(t){return Xa(t,Na,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Ln(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Ln(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:hr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new qo(sr())})}function uu(t){return t.v?t.v:(t.v=dr().then(function(){if(!t.u){var e=t.c,n=t.i,r=ou(t.b),i=new ru(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()}t.m=new Ja(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then(function(){t.a.register("authEvent",e,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.m,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Uo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)})}(t)}),t.v)}function lu(t){return t.l||(t.A=t.c?Cr(t.c,ou(t.b)):null,t.l=new zs(t.g,N(t.i),t.A),t.f&&Ys(t.l,t.f)),t.l}function cu(t,e,n,r,i,o,s,a,u,l,c,h){return(t=new iu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=l,t.xb(c).toString()}function hu(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fu(t){this.b=t,this.a={},this.f=_(this.c,this)}ru.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Dn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},iu.prototype.xb=function(t){return this.h=t,this},iu.prototype.toString=function(){if(this.m){var t=Ln(this.m.url);t=Un(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Dn(t,"apiKey",this.o),Dn(t,"appName",this.c),Dn(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ka()}catch(u){r=null}for(var i in n.nb=r,Dn(t,"providerId",this.a.providerId),n=Pr((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=pt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),dt(n)||Dn(t,"customParameters",Nr(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Dn(t,"scopes",r.join(",")),this.l?Dn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Dn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Dn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Dn(t,a,this.b[a]);return this.h?Dn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Dn(t,"eid",this.f):Xn(t.b,"eid"),(a=ou(this.c)).length&&Dn(t,"fw",a.join(",")),t.toString()},(t=su.prototype).Nb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.la().then(function(){(function(t){var e={type:"webStorageSupport"};return uu(t).then(function(){return function(t,e){return t.qb.then(function(){return new ye(function(n){t.a.send(e.type,e,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.m,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&lr(t),e(i),s=!0)})}).s(function(){}).then(function(){if(!s)return function(t){return new ye(function(e){return function n(){Cn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Cn(n).then(function(){e(r)})})},t.Wb=function(){var t=Ir();return!Or(t)&&!Mr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return xe(new T("popup-blocked"));if(s&&!Or())return this.la().s(function(e){lr(t),i(e)}),r(),Te();this.a||(this.a=au(lu(this)));var u=this;return this.a.then(function(){var e=u.la().s(function(e){throw lr(t),i(e),e});return r(),e}).then(function(){Mo(n),s||ar(cu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Mb=function(t,e,n,r){this.a||(this.a=au(lu(this)));var i=this;return this.a.then(function(){Mo(e),ar(cu(i.o,i.g,i.b,t,e,sr(),n,i.c,void 0,i.i,r,i.f))}).s(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.la=function(){var t=this;return uu(this).then(function(){return t.m.qb}).s(function(){throw t.a=null,new T("network-request-failed")})},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){X(this.h,function(e){return e==t})},(t=hu.prototype).get=function(t){return Te(this.a.getItem(t)).then(function(t){return t&&Rr(t)})},t.set=function(t,e){return Te(this.a.setItem(t,Nr(e)))},t.T=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var du,pu=[];function gu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function mu(t){this.a=t}function vu(t){this.c=t,this.b=!1,this.a=[]}function yu(t,e,n,r){var i,o,s,a,u=n||{},l=null;if(t.b)return xe(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},c),t.a.push(l={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return bu(t,l),e}).s(function(e){throw bu(t,l),e})}function bu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),X(t.a,function(t){return t==e})}}function wu(){if(!Eu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;mr()&&self?(this.l=function(){var t=mr()?self:null;if(z(pu,function(n){n.b==t&&(e=n)}),!e){var e=new fu(t);pu.push(e)}return e}(),gu(this.l,"keyChanged",function(e,n){return Su(t).then(function(e){return 0<e.length&&z(t.a,function(t){t(e)}),{keyProcessed:W(e,n.key)}})}),gu(this.l,"ping",function(){return Te(["keyChanged"])})):function(){var t=u.navigator;return t&&t.serviceWorker?Te().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Te(null)}().then(function(e){(t.h=e)&&(t.g=new vu(new mu(e)),yu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.o=!0)}).s(function(){}))})}function _u(t){return t.v||(t.v=function t(e){return new ye(function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ye(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.v}function Eu(){try{return!!u.indexedDB}catch(Ht){return!1}}function Cu(t){return t.objectStore("firebaseLocalStorage")}function Iu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Tu(t){return new ye(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function xu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?yu(t.g,"keyChanged",{key:e},t.o).then(function(){}).s(function(){}):Te()}function Su(t){return _u(t).then(function(t){var e=Cu(Iu(t,!1));return e.getAll?Tu(e.getAll()):new ye(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function ku(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Au(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then(function(){if(Eu()){var t=Dr(),r="__sak"+t;return du||(du=new wu),(n=du).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function Ou(){this.a={},this.type="inMemory"}function Nu(){if(!function(){var t="Node"==vr();if(!(t=Pu()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==vr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Pu()||e.INTERNAL.node.localStorage,this.type="localStorage"}function Pu(){try{var t=u.localStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ru(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==vr();if(!(t=Mu()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==vr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Mu()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mu(){try{var t=u.sessionStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Lu(){var t={};t.Browser=ju,t.Node=Fu,t.ReactNative=qu,t.Worker=Bu,this.a=t[vr()]}fu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,function(e){i.push(Te().then(function(){return e(t.origin,t.data.data)}))}),ke(i).then(function(r){var i=[];z(r,function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},mu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vu.prototype.close=function(){for(;0<this.a.length;)bu(this,this.a[0]);this.b=!0},(t=wu.prototype).set=function(t,e){var n,r=!1,i=this;return _u(this).then(function(e){return Tu((e=Cu(Iu(n=e,!0))).get(t))}).then(function(o){var s=Cu(Iu(n,!0));return o?(o.value=e,Tu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Tu(s.add(o)))}).then(function(){return i.c[t]=e,xu(i,t)}).na(function(){r&&i.b--})},t.get=function(t){return _u(this).then(function(e){return Tu(Cu(Iu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.T=function(t){var e=!1,n=this;return _u(this).then(function(r){return e=!0,n.b++,Tu(Cu(Iu(r,!0)).delete(t))}).then(function(){return delete n.c[t],xu(n,t)}).na(function(){e&&n.b--})},t.ca=function(t){0==this.a.length&&function(t){ku(t),function e(){t.f=setTimeout(function(){t.i=Su(t).then(function(e){0<e.length&&z(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){X(this.a,function(e){return e==t}),0==this.a.length&&ku(this)},(t=Au.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.T=function(t){return this.b.then(function(e){return e.T(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){X(this.a,function(e){return e==t})},(t=Ou.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.T=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=Nu.prototype).get=function(t){var e=this;return Te().then(function(){return Rr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Nr(e);null===r?n.T(t):n.a.setItem(t,r)})},t.T=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(t){u.window&&sn(u.window,"storage",t)},t.ia=function(t){u.window&&ln(u.window,"storage",t)},(t=Ru.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.T=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=Du.prototype).get=function(t){var e=this;return Te().then(function(){return Rr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Nr(e);null===r?n.T(t):n.a.setItem(t,r)})},t.T=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Uu,Vu,ju={D:Nu,ab:Du},Fu={D:Nu,ab:Du},qu={D:hu,ab:Ru},Bu={D:Nu,ab:Ru},zu={qd:"local",NONE:"none",sd:"session"};function Gu(){var t=!(Mr(Ir())||!gr()),e=Or(),n=xr();this.v=t,this.h=e,this.l=n,this.a={},Uu||(Uu=new Lu),t=Uu;try{this.g=!or()&&qr()||!u.indexedDB?new t.a.D:new Au(mr()?new Ou:new t.a.D)}catch(r){this.g=new Ou,this.h=!0}try{this.i=new t.a.ab}catch(r){this.i=new Ou}this.m=new Ou,this.f=_(this.Xb,this),this.b={}}function Hu(){return Vu||(Vu=new Gu),Vu}function $u(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Wu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ku(t,e,n){return n=Wu(e,n),"local"==e.D&&(t.b[n]=null),$u(t,e.D).T(n)}function Xu(t){t.c&&(clearInterval(t.c),t.c=null)}function Qu(t){this.a=t,this.b=Hu()}(t=Gu.prototype).get=function(t,e){return $u(this,t.D).get(Wu(t,e))},t.set=function(t,e,n){var r=Wu(t,n),i=this,o=$u(this,t.D);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.D&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Wu(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),dt(this.a)&&($u(this,"local").ca(this.f),this.h||(or()||!qr())&&u.indexedDB||!this.l||function(t){Xu(t),t.c=setInterval(function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ke({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Wu(t,e),this.a[t]&&(X(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&($u(this,"local").ia(this.f),Xu(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?$u(this,"local").ia(this.f):Xu(this),this.v)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.lb(e))},Wt&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,_(this.lb,this))},t.lb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var Yu,Ju={name:"authEvent",D:"local"};function Zu(){this.a=Hu()}function tl(t,e){this.b=el,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===Yu&&(Yu=u.Int32Array?new Int32Array(ul):ul),this.reset()}I(tl,function(){this.b=-1});for(var el=64,nl=el-1,rl=[],il=0;il<nl;il++)rl[il]=0;var ol=Q(128,rl);function sl(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&c^~l&h)+(0|Yu[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function al(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(sl(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(sl(t),i=0)}}t.c=i,t.g+=n}tl.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Y(this.h)};var ul=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ll(){tl.call(this,8,cl)}I(ll,tl);var cl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hl(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new Zu,this.g=new Qu(this.h),this.f=null,this.b=[],this.a=this.c=null}function fl(t){return new T("invalid-cordova-configuration",t)}function dl(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function pl(t){return t.f||(t.f=t.la().then(function(){return new ye(function(e){t.Ea(function n(r){return e(r),t.Ra(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),gl(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Rr(Mn(o=Ln(i),"firebaseError")||null))?x(o):null)?new Lo(r.c,r.b,null,null,o,null,r.S()):new Lo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}dl(t,i)})}var n=new Lo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Cn(500).then(function(){return gl(t).then(function(){r||dl(t,n)})}),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Fo||(Fo=new Vo),function(t){var e=Fo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Tr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)})})),t.f}function gl(t){var e=null;return function(t){return t.b.get(Ju,t.a).then(function(t){return Uo(t)})}(t.g).then(function(n){return e=n,Ku((n=t.g).b,Ju,n.a)}).then(function(){return e})}function ml(t){this.a=t,this.b=Hu()}(t=hl.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(pr(void 0)?dr().then(function(){return new ye(function(t,e){var n=u.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):xe(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Tr("universalLinks.subscribe",u))throw fl("cordova-universal-links-plugin-fix is not installed");if(void 0===Tr("BuildInfo.packageName",u))throw fl("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tr("cordova.plugins.browsertab.openUrl",u))throw fl("cordova-plugin-browsertab is not installed");if("function"!=typeof Tr("cordova.InAppBrowser.open",u))throw fl("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})},t.Nb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Te()},t.Lb=function(){return xe(new T("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return xe(new T("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,l=null,c=null;return this.c=Te().then(function(){return Mo(e),pl(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Lo(e,r,null,o,new T("no-auth-event"),null,i),a=Tr("BuildInfo.packageName",u);if("string"!=typeof a)throw new T("invalid-cordova-configuration");var l=Tr("BuildInfo.displayName",u),c={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Ir().toLowerCase().match(/android/))return xe(new T("operation-not-supported-in-this-environment"));c.apn=a}l&&(c.appDisplayName=l),o=function(t){var e=new ll;al(e,t),t=[];var n=8*e.g;al(e,ol,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(sl(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),c.sessionId=o;var h=cu(t.m,t.i,t.l,e,n,null,r,t.v,c,t.u,i,t.o);return t.la().then(function(){var e=t.h;return t.A.a.set(Ju,s.w(),e)}).then(function(){var e=Tr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Tr("cordova.plugins.browsertab.openUrl",u)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Tr("cordova.InAppBrowser.open",u)))throw new T("invalid-cordova-configuration");e=Ir(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new ye(function(t,e){a=function(){var e=Tr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),c=function(){Vr()&&l()},o.addEventListener("resume",l=function(){s||(s=Cn(2e3).then(function(){e(new T("redirect-cancelled-by-user"))}))},!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return gl(i).then(function(){throw t})})}).na(function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.Ra(a),i.c=null})},t.Ea=function(t){this.b.push(t),pl(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Lo("unknown",null,null,null,new T("no-auth-event")),t(e))})},t.Ra=function(t){X(this.b,function(e){return e==t})};var vl={name:"pendingRedirect",D:"session"};function yl(t){return Ku(t.b,vl,t.a)}function bl(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=_(this.o,this),this.b=new Dl,this.A=new jl,this.g=new ml(Pl(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=wl(this.O,this.m,this.v,S,this.G)}function wl(t,n,r,i,o){var s=e.SDK_VERSION||null;return pr()?new hl(t,n,r,s,i,o):new su(t,n,r,s,i,o)}function _l(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s(function(n){throw t.a==e&&t.reset(),n})}function El(t){t.a.Wb()&&_l(t).s(function(e){var n=new Lo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));kl(e)&&t.o(n)}),t.a.Sb()||Ml(t.b)}function Cl(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(vl,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?yl(t.g).then(function(){_l(t).s(function(e){var n=new Lo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));kl(e)&&t.o(n)})}):El(t)}).s(function(){El(t)})}function Il(t,e){X(t.h,function(t){return t==e})}bl.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=wl(this.O,this.m,this.v,null,this.G),this.i={}},bl.prototype.o=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=C()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=C())),e=!0;break}}return Ml(this.b),e};var Tl=new Ur(2e3,1e4),xl=new Ur(3e4,6e4);function Sl(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function kl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Al(t,e,n,r,i){var o;return function(t){return t.b.set(vl,"pending",t.a)}(t.g).then(function(){return t.a.Mb(e,n,r,i).s(function(e){if(kl(e))throw new T("operation-not-supported-in-this-environment");return o=e,yl(t.g).then(function(){throw o})}).then(function(){return t.a.Zb()?new ye(function(){}):yl(t.g).then(function(){return t.qa()}).then(function(){}).s(function(){})})})}function Ol(t,e,n,r,i){return t.a.Nb(r,function(t){e.ma(n,null,t,i)},Tl.get())}bl.prototype.qa=function(){return this.b.qa()};var Nl={};function Pl(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Rl(t,e,n,r){var i=Pl(e,n,r);return Nl[i]||(Nl[i]=new bl(t,e,n,r)),Nl[i]}function Dl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ml(t){t.g||(t.g=!0,Vl(t,!1,null,null))}function Ll(t){t.g&&!t.i&&Vl(t,!1,null,null)}function Ul(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Vl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Ul(t,n):Ul(t,{user:null}),t.f=[],t.c=[]}function jl(){}function Fl(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function ql(t,e){this.a=e,$r(this,"verificationId",t)}function Bl(t,e,n,r){return new Po(t).eb(e,n).then(function(t){return new ql(t,r)})}function zl(t){var e=Fi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:Fr(1e3*e.exp),authTime:Fr(1e3*e.auth_time),issuedAtTime:Fr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Gl(t,e,n){var r=e&&e[$l];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;z(e[Hl]||[],function(t){(t=Yr(t))&&i.b.push(t)}),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Dl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dl.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Vl(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Vl(t,a,e,null)}).s(function(e){Vl(t,a,null,e)})}(this,t,e):xe(new T("invalid-auth-event")):(Vl(this,!1,null,null),Te())}else xe(new T("invalid-auth-event"))},Dl.prototype.qa=function(){var t=this;return new ye(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Cn(xl.get()).then(function(){t.b||(t.g=!0,Vl(t,!0,null,e))})}(t))})},jl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then(function(t){e.ma(r,t,null,n)}).s(function(t){e.ma(r,null,t,n)})}(t,e):xe(new T("invalid-auth-event"))}else xe(new T("invalid-auth-event"))},ql.prototype.confirm=function(t){return t=Ro(this.verificationId,t),this.a(t)};var Hl="mfaInfo",$l="mfaPendingCredential";function Wl(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Gl(t,e,n),$r(this,"resolver",this.b)}function Kl(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Wl(e,t.serverResponse,n,t.message)}catch(r){}return null}function Xl(){}function Ql(t){$r(this,"factorId",t.fa),this.a=t}function Yl(t){if(Ql.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Jl(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function Zl(t,e){this.a=t,this.b=[],this.c=_(this.xc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[Zr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),tc(this,n)}function tc(t,e){t.b=e,$r(t,"enrolledFactors",e)}function ec(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nc(t){this.c=t,this.b=this.a=null}function rc(t){return t.b&&1e3*t.b.c||0}function ic(t,e){var n=e.refreshToken;t.b=ji(e[Hs]||""),t.a=n}function oc(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:Fr(e||null),creationTime:Fr(t||null)})}function sc(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ac(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var i=e.SDK_VERSION?Cr(e.SDK_VERSION):null;this.a=new zs(this.l,N(S),i),t.emulatorConfig&&Ys(this.a,t.emulatorConfig),this.b=new nc(this.a),gc(this,n[Hs]),ic(this.b,n),$r(this,"refreshToken",this.b.a),yc(this,r||{}),yn.call(this),this.P=!1,this.o&&Sr()&&(this.i=Rl(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new ec(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=rc(t.b)-C()-3e5;return 0<e?e:0})}(this),this.$=_(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){Ys(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){cc(o,t.f)},this.aa=null,this.N=new Zl(this,r),$r(this,"multiFactor",this.N)}function uc(t,e){t.ba&&ln(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&sn(e,"languageCodeChanged",t.Ba)}function lc(t,e){t.W&&ln(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&sn(e,"emulatorConfigChanged",t.za)}function cc(t,n){t.X=n,Zs(t.a,e.SDK_VERSION?Cr(e.SDK_VERSION,t.X):null)}function hc(t,e){t.aa&&ln(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&sn(e,"frameworkChanged",t.Aa)}function fc(t){try{return e.app(t.m).auth()}catch(n){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function dc(t){t.A||t.u.b||(t.u.start(),ln(t,"tokenChanged",t.$),sn(t,"tokenChanged",t.$))}function pc(t){ln(t,"tokenChanged",t.$),t.u.stop()}function gc(t,e){t.ya=e,$r(t,"_lat",e)}function mc(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return ke(e).then(function(){return t})}function vc(t){t.i&&!t.P&&(t.P=!0,Cl(t.i,t))}function yc(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new oc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function bc(){}function wc(t){return Te().then(function(){if(t.A)throw new T("app-deleted")})}function _c(t){return H(t.providerData,function(t){return t.providerId})}function Ec(t,e){e&&(Cc(t,e.providerId),t.providerData.push(e))}function Cc(t,e){X(t.providerData,function(t){return t.providerId==e})}function Ic(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&$r(t,e,n)}function Tc(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),$r(t,"metadata",e.metadata?function(t){return new oc(t.a,t.b)}(e.metadata):new oc),z(e.providerData,function(e){Ec(t,e)}),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),$r(t,"refreshToken",t.b.a),tc(t.N,e.N.b))}function xc(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Xa(t.a,xa,{idToken:e}).then(_(t.Jc,t))}(t,e).then(function(){return n||Ic(t,"isAnonymous",!1),e})})}function Sc(t,e){e[Hs]&&t.ya!=e[Hs]&&(ic(t.b,e),t.dispatchEvent(new Jl("tokenChanged")),gc(t,e[Hs]),Ic(t,"refreshToken",t.b.a))}function kc(t,e){return xc(t).then(function(){if(W(_c(t),e))return mc(t).then(function(){throw new T("provider-already-linked")})})}function Ac(t,e,n){return Kr({user:t,credential:Do(e),additionalUserInfo:e=Hi(e),operationType:n})}function Oc(t,e){return Sc(t,e),t.reload().then(function(){return t})}function Nc(t,n,r,i,o){if(!Sr())return xe(new T("operation-not-supported-in-this-environment"));if(t.f&&!o)return xe(t.f);var s=Gi(r.providerId),a=Dr(t.uid+":::"),u=null;(!Or()||gr())&&t.o&&r.isOAuthProvider&&(u=cu(t.o,t.l,t.m,n,r,null,a,e.SDK_VERSION||null,null,null,t.tenantId));var l=cr(u,s&&s.ua,s&&s.ta);return i=i().then(function(){if(Rc(t),!o)return t.I().then(function(){})}).then(function(){return Sl(t.i,l,n,r,a,!!u,t.tenantId)}).then(function(){return new ye(function(e,r){t.ma(n,null,new T("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=a,t.c=Ol(t.i,t,n,l,a)})}).then(function(t){return l&&lr(l),t?Kr(t):null}).s(function(t){throw l&&lr(l),t}),Dc(t,i,o)}function Pc(t,e,n,r,i){if(!Sr())return xe(new T("operation-not-supported-in-this-environment"));if(t.f&&!i)return xe(t.f);var o=null,s=Dr(t.uid+":::");return r=r().then(function(){if(Rc(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,mc(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Uc,t.w(),e.a)),e}).then(function(){return Al(t.i,e,n,s,t.tenantId)}).s(function(e){if(o=e,t.ha)return Vc(t.ha);throw o}).then(function(){if(o)throw o}),Dc(t,r,i)}function Rc(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Dc(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),xe(t.f)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new Jl("userInvalidated")),t.f=e),e})}(t,e,n);return t.G.push(r),r.na(function(){K(t.G,r)}),r.s(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Kl(e.w(),fc(t),_(t.ic,t))),n||e})}function Mc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Hs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ac(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&Ec(r,Kr(t))}),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Lc(t){this.a=t,this.b=Hu()}Gl.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then(function(t){var n=pt(e.f);return delete n[Hl],delete n[$l],mt(n,t),e.g(n)})},I(Wl,T),Xl.prototype.rb=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),mt(n,{phoneVerificationInfo:No(t.a)}),Xa(e,Ia,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:No(t.a)}),Xa(e,Ta,n)})}(this,t,e)},I(Ql,Xl),I(Yl,Ql),I(Jl,We),(t=Zl.prototype).xc=function(t){tc(this,function(t){var e=[];return z(t.mfaInfo||[],function(t){(t=Yr(t))&&e.push(t)}),e}(t.gd))},t.Qb=function(){return this.a.I().then(function(t){return new eo(t,null)})},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then(function(n){return t.rb(r,n,e)}).then(function(t){return Sc(n.a,t),n.a.reload()})},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Xa(r,Ka,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=G(e.b,function(t){return t.uid!=n});return tc(e,r),Sc(e.a,t),e.a.reload().s(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,function(t){return t.w()})}}},ec.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=u.document,e=null,Vr()||!t?Te():new ye(function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},ec.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nc.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:rc(this)}},nc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new T("user-token-expired")):t||!this.b||C()>rc(this)-3e4?this.a?function(t,e){return function(t,e){return new ye(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ta(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(Ya(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))},"POST",Kn(e).toString(),t.g,t.v.get()):r(new T("internal-error"))})}(t.c,e).then(function(e){return t.b=ji(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},oc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(ac,yn),ac.prototype.wa=function(t){this.pa=t,Qs(this.a,t)},ac.prototype.ka=function(){return this.pa},ac.prototype.Ga=function(){return Y(this.X)},ac.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},$r(ac.prototype,"providerId","firebase"),(t=ac.prototype).reload=function(){var t=this;return Dc(this,wc(this).then(function(){return xc(t).then(function(){return mc(t)}).then(bc)}))},t.nc=function(t){return this.I(t).then(function(t){return new zl(t)})},t.I=function(t){var e=this;return Dc(this,wc(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.ya&&(gc(e,t.accessToken),e.dispatchEvent(new Jl("tokenChanged"))),Ic(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");yc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,function(t){return new sc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Ec(this,e[n]);Ic(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Jl("userReloaded",{gd:t}))},t.Kc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Dc(this,t.c(this.a,this.uid).then(function(t){return Sc(e,t),n=Ac(e,t,"reauthenticate"),e.f=null,e.reload()}).then(function(){return n}),!0)},t.Bc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Dc(this,kc(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ac(e,t,"link"),Oc(e,t)}).then(function(){return n}))},t.Cc=function(t,e){var n=this;return Dc(this,kc(this,"phone").then(function(){return Bl(fc(n),t,e,_(n.pb,n))}))},t.Lc=function(t,e){var n=this;return Dc(this,Te().then(function(){return Bl(fc(n),t,e,_(n.sb,n))}),!0)},t.Ab=function(t){var e=this;return Dc(this,this.I().then(function(n){return e.a.Ab(n,t)}).then(function(t){return Sc(e,t),e.reload()}))},t.dd=function(t){var e=this;return Dc(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Sc(e,t),e.reload()}))},t.Bb=function(t){var e=this;return Dc(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Sc(e,t),e.reload()}))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return wc(this);var e=this;return Dc(this,this.I().then(function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Sc(e,t),Ic(e,"displayName",t.displayName||null),Ic(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&($r(t,"displayName",e.displayName),$r(t,"photoURL",e.photoURL))}),mc(e)}).then(bc))},t.bd=function(t){var e=this;return Dc(this,xc(this).then(function(n){return W(_c(e),t)?function(t,e,n){return Xa(t,_a,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(_c(e),function(t){n[t]||Cc(e,t)}),n[Po.PROVIDER_ID]||$r(e,"phoneNumber",null),mc(e)}):mc(e).then(function(){throw new T("no-such-provider")})}))},t.delete=function(){var t=this;return Dc(this,this.I().then(function(e){return Xa(t.a,wa,{idToken:e})}).then(function(){t.dispatchEvent(new Jl("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");uc(t,null),lc(t,null),hc(t,null),t.G=[],t.A=!0,pc(t),$r(t,"refreshToken",null),t.i&&Il(t.i,t)})},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?_(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?_(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):null},t.Dc=function(t){var e=this;return Nc(this,"linkViaPopup",t,function(){return kc(e,t.providerId).then(function(){return mc(e)})},!1)},t.Mc=function(t){return Nc(this,"reauthViaPopup",t,function(){return Te()},!0)},t.Ec=function(t){var e=this;return Pc(this,"linkViaRedirect",t,function(){return kc(e,t.providerId)},!1)},t.Nc=function(t){return Pc(this,"reauthViaRedirect",t,function(){return Te()},!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dc(this,this.I().then(function(n){return da(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ac(i,t,"link"),Oc(i,t)}).then(function(){return o}))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dc(this,Te().then(function(){return oo(pa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ac(i,t,"reauthenticate"),Sc(i,t),i.f=null,i.reload()}).then(function(){return o}),!0)},t.tb=function(t){var e=this,n=null;return Dc(this,this.I().then(function(e){return n=e,void 0===t||dt(t)?{}:Li(new xi(t))}).then(function(t){return e.a.tb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Db=function(t,e){var n=this,r=null;return Dc(this,this.I().then(function(t){return r=t,void 0===e||dt(e)?{}:Li(new xi(e))}).then(function(e){return n.a.Db(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.ic=function(t){var e=null,n=this;return Dc(this,t=oo(Te(t),n.uid).then(function(t){return e=Ac(n,t,"reauthenticate"),Sc(n,t),n.f=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),mt(t,this.N.w()),t};var Uc={name:"redirectUser",D:"session"};function Vc(t){return Ku(t.b,Uc,t.a)}function jc(t){this.a=t,this.b=Hu(),this.c=null,this.f=function(t){var e=Bc("local"),n=Bc("session"),r=Bc("none");return function(t,e,n){var r=Wu(e,n),i=$u(t,e.D);return t.get(e,n).then(function(o){var s=null;try{s=Rr(u.localStorage.getItem(r))}catch(a){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(qc,t.a).then(function(t){return t?Bc(t):e})})})}).then(function(e){return t.c=e,Fc(t,e.D)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Bc("local"),this.a,_(this.g,this))}function Fc(t,e){var n,r=[];for(n in zu)zu[n]!==e&&r.push(Ku(t.b,Bc(zu[n]),t.a));return r.push(Ku(t.b,qc,t.a)),function(t){return new ye(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Se(t[a],E(o,a),s);else e(i)})}(r)}jc.prototype.g=function(){var t=this,e=Bc("local");$c(this,function(){return Te().then(function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null}).then(function(n){if(n)return Fc(t,"local").then(function(){t.c=e})})})};var qc={name:"persistence",D:"session"};function Bc(t){return{name:"authUser",D:t}}function zc(t,e){return $c(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Gc(t){return $c(t,function(){return Ku(t.b,t.c,t.a)})}function Hc(t,e,n){return $c(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Mc(t||{})})})}function $c(t,e){return t.f=t.f.then(e,e),t.f}function Wc(t){if(this.m=!1,$r(this,"settings",new Fl),$r(this,"app",t),!eh(this).options||!eh(this).options.apiKey)throw new T("invalid-api-key");t=e.SDK_VERSION?Cr(e.SDK_VERSION):null,this.a=new zs(eh(this).options&&eh(this).options.apiKey,N(S),t),this.R=[],this.u=[],this.P=[],this.ac=e.INTERNAL.createSubscribe(_(this.yc,this)),this.X=void 0,this.bc=e.INTERNAL.createSubscribe(_(this.zc,this)),Zc(this,null),this.l=new jc(eh(this).options.apiKey+":"+eh(this).name),this.G=new Lc(eh(this).options.apiKey+":"+eh(this).name),this.$=oh(this,function(t){var e=eh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Uc,t.a).then(function(t){return t&&e&&(t.authDomain=e),Mc(t||{})})}(t.G,eh(t).options.authDomain).then(function(e){return(t.o=e)&&(e.ha=t.G),Vc(t.G)});return oh(t,e)}(t).then(function(){return Hc(t.l,e,t.f)}).then(function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then(function(){return zc(t.l,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:Gc(t.l)})):null}).then(function(e){Zc(t,e||null)});return oh(t,n)}(this)),this.i=oh(this,function(t){return t.$.then(function(){return Jc(t)}).s(function(){}).then(function(){if(!t.m)return t.pa()}).s(function(){}).then(function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Bc("local"),e.a,t.pa)}})}(this)),this.ba=!1,this.pa=_(this.Yc,this),this.Ba=_(this.da,this),this.ya=_(this.kc,this),this.za=_(this.vc,this),this.Aa=_(this.wc,this),this.b=null,function(t){var e=eh(t).options.authDomain,n=eh(t).options.apiKey;e&&Sr()&&(t.gb=t.$.then(function(){if(!t.m){if(t.b=Rl(e,n,eh(t).name,t.f),Cl(t.b,t),nh(t)&&vc(nh(t)),t.o){vc(t.o);var r=t.o;r.wa(t.ka()),uc(r,t),cc(r=t.o,t.N),hc(r,t),Ys((r=t.o).a,t.f),lc(r,t),t.o=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Fc,this),this.A=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function Kc(t){We.call(this,"languageCodeChanged"),this.h=t}function Xc(t){We.call(this,"emulatorConfigChanged"),this.c=t}function Qc(t){We.call(this,"frameworkChanged"),this.f=t}function Yc(t){return t.gb||xe(new T("auth-domain-config-required"))}function Jc(t){if(!Sr())return xe(new T("operation-not-supported-in-this-environment"));var e=Yc(t).then(function(){return t.b.qa()}).then(function(t){return t?Kr(t):null});return oh(t,e)}function Zc(t,e){nh(t)&&(function(t,e){X(t.R,function(t){return t==e})}(nh(t),t.Ba),ln(nh(t),"tokenChanged",t.ya),ln(nh(t),"userDeleted",t.za),ln(nh(t),"userInvalidated",t.Aa),pc(nh(t))),e&&(e.R.push(t.Ba),sn(e,"tokenChanged",t.ya),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.A&&dc(e)),$r(t,"currentUser",e),e&&(e.wa(t.ka()),uc(e,t),cc(e,t.N),hc(e,t),Ys(e.a,t.f),lc(e,t))}function th(t,e){var n=null,r=null;return oh(t,e.then(function(e){return n=Do(e),r=Hi(e),function(t,e){var n={};return n.apiKey=eh(t).options.apiKey,n.authDomain=eh(t).options.authDomain,n.appName=eh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then(function(){return function(t,e,n,r){var i=new ac(t,e);return n&&(i.ha=n),r&&cc(i,r),i.reload().then(function(){return i})}(n,e,t.G,t.Ga())}).then(function(e){return nh(t)&&e.uid==nh(t).uid?(Tc(nh(t),e),t.da(e)):(Zc(t,e),vc(e),t.da(e))}).then(function(){ih(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Kl(e.w(),t,_(t.jc,t))),n||e}).then(function(){return Kr({user:nh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function eh(t){return t.app}function nh(t){return t.currentUser}function rh(t){return nh(t)&&nh(t)._lat||null}function ih(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](rh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](rh(t))}}function oh(t,e){return t.R.push(e),e.na(function(){K(t.R,e)}),e}function sh(){}function ah(){this.a={},this.b=1e12}jc.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in zu)if(zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(vr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Eu()&&"none"!==t)throw n;break;default:if(!xr()&&"none"!==t)throw n}}(t),$c(this,function(){return t!=n.c.D?n.b.get(n.c,n.a).then(function(r){return e=r,Fc(n,t)}).then(function(){if(n.c=Bc(t),e)return n.b.set(n.c,e,n.a)}):Te()})},I(Wc,yn),I(Kc,We),I(Xc,We),I(Qc,We),(t=Wc.prototype).wb=function(t){return oh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Qs(this.a,this.aa),this.dispatchEvent(new Kc(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");jr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&dr().then(function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}),this.f={url:t},this.settings.hb=!0,Ys(this.a,this.f),this.dispatchEvent(new Xc(this.f))}},t.Fc=function(t){this.N.push(t),Zs(this.a,e.SDK_VERSION?Cr(e.SDK_VERSION,this.N):null),this.dispatchEvent(new Qc(this.N))},t.Ga=function(){return Y(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:eh(this).options.apiKey,authDomain:eh(this).options.authDomain,appName:eh(this).name,currentUser:nh(this)&&nh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?_(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return th(i,fa(i.a,o))})},t.Wc=function(t){if(!Sr())return xe(new T("operation-not-supported-in-this-environment"));var n=this,r=Gi(t.providerId),i=Dr(),o=null;(!Or()||gr())&&eh(this).options.authDomain&&t.isOAuthProvider&&(o=cu(eh(this).options.authDomain,eh(this).options.apiKey,eh(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S(),this.f));var s=cr(o,r&&r.ua,r&&r.ta);return oh(this,r=Yc(this).then(function(e){return Sl(e,s,"signInViaPopup",t,i,!!o,n.S())}).then(function(){return new ye(function(t,e){n.ma("signInViaPopup",null,new T("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=i,n.c=Ol(n.b,n,"signInViaPopup",s,i)})}).then(function(t){return s&&lr(s),t?Kr(t):null}).s(function(t){throw s&&lr(s),t}))},t.Xc=function(t){if(!Sr())return xe(new T("operation-not-supported-in-this-environment"));var e=this;return oh(this,Yc(this).then(function(){return $c(t=e.l,function(){return t.b.set(qc,t.c.D,t.a)});var t}).then(function(){return Al(e.b,"signInViaRedirect",t,void 0,e.S())}))},t.qa=function(){var t=this;return Jc(this).then(function(e){return t.b&&Ll(t.b.b),e}).s(function(e){throw t.b&&Ll(t.b.b),e})},t.cd=function(t){if(!t)return xe(new T("null-user"));if(this.W!=t.tenantId)return xe(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=eh(this).options.apiKey,n.authDomain=eh(this).options.authDomain,n.appName=eh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Hs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ac(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&cc(e,r),Tc(e,t),e}(t,n,e.G,e.Ga());return oh(this,this.i.then(function(){if(eh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return nh(e)&&t.uid==nh(e).uid?(Tc(nh(e),t),e.da(t)):(Zc(e,r),vc(r),e.da(r))}).then(function(){ih(e)}))},t.zb=function(){var t=this;return oh(this,this.i.then(function(){return t.b&&Ll(t.b.b),nh(t)?(Zc(t,null),Gc(t.l).then(function(){ih(t)})):Te()}))},t.Yc=function(){var t=this;return Hc(this.l,eh(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=nh(t)&&e){n=nh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tc(nh(t),e),nh(t).I();(nh(t)||e)&&(Zc(t,e),e&&(vc(e),e.ha=t.G),t.b&&Cl(t.b,t),ih(t))}})},t.da=function(t){return zc(this.l,t)},t.kc=function(){ih(this),this.da(nh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then(function(){return th(e,Te(t))})},t.yc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(nh(e))})},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),oh(t,t.i.then(function(){!t.m&&W(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(rh(t)))}))}(this,function(){t.next(nh(e))})},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))}),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))}),this.bc(t,e,n)},t.mc=function(t){var e=this;return oh(this,this.i.then(function(){return nh(e)?nh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Sc=function(t){var e=this;return this.i.then(function(){return th(e,Xa(e.a,za,{token:t}))}).then(function(t){var n=t.user;return Ic(n,"isAnonymous",!1),e.da(n),t})},t.Tc=function(t,e){var n=this;return this.i.then(function(){return th(n,Xa(n.a,Ga,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.i.then(function(){return th(n,Xa(n.a,ya,{email:t,password:e}))})},t.Za=function(t){var e=this;return this.i.then(function(){return th(e,t.ja(e.a))})},t.Rc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then(function(){var e=nh(t);if(e&&e.isAnonymous){var n=Kr({providerId:null,isNewUser:!1});return Kr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return th(t,t.a.yb()).then(function(e){var n=e.user;return Ic(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return nh(this)&&nh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&nh(this)&&dc(nh(this))},t.Oc=function(t){var e=this;z(this.u,function(n){n==t&&e.A--}),0>this.A&&(this.A=0),0==this.A&&nh(this)&&pc(nh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),oh(this,this.i.then(function(){e.m||W(e.u,t)&&t(rh(e))}))},t.removeAuthTokenListener=function(t){X(this.u,function(e){return e==t})},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Bc("local"),t.a,this.pa),this.b&&(Il(this.b,this),Ll(this.b.b)),Promise.resolve()},t.gc=function(t){return oh(this,function(t,e){return Xa(t,ba,{identifier:e,continueUri:kr()?sr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Ac=function(t){return!!ko(t)},t.vb=function(t,e){var n=this;return oh(this,Te().then(function(){var t=new xi(e);if(!t.c)throw new T("argument-error",Ai+" must be true when sending sign in link to email");return Li(t)}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.hd=function(t){return this.Qa(t).then(function(t){return t.data.email})},t.mb=function(t,e){return oh(this,this.a.mb(t,e).then(function(){}))},t.Qa=function(t){return oh(this,this.a.Qa(t).then(function(t){return new ri(t)}))},t.ib=function(t){return oh(this,this.a.ib(t).then(function(){}))},t.ub=function(t,e){var n=this;return oh(this,Te().then(function(){return void 0===e||dt(e)?{}:Li(new xi(e))}).then(function(e){return n.a.ub(t,e)}).then(function(){}))},t.Vc=function(t,e){return oh(this,Bl(this,t,e,_(this.Za,this)))},t.Uc=function(t,e){var n=this;return oh(this,Te().then(function(){var r=e||sr(),i=So(t,r);if(!(r=ko(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new T("tenant-id-mismatch");return n.Za(i)}))},sh.prototype.render=function(){},sh.prototype.reset=function(){},sh.prototype.getResponse=function(){},sh.prototype.execute=function(){};var uh=null;function lh(t,e){return(e=ch(e))&&t.a[e]||null}function ch(t){return(t=void 0===t?1e12:t)?t.toString():null}function hh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function fh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function dh(){}function ph(){}ah.prototype.render=function(t,e){return this.a[this.b.toString()]=new hh(t,e),this.b++},ah.prototype.reset=function(t){var e=lh(this,t);t=ch(t),e&&t&&(e.delete(),delete this.a[t])},ah.prototype.getResponse=function(t){return(t=lh(this,t))?t.getResponse():null},ah.prototype.execute=function(t){(t=lh(this,t))&&t.execute()},hh.prototype.getResponse=function(){return fh(this),this.b},hh.prototype.execute=function(){fh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},hh.prototype.delete=function(){fh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},$r(dh,"FACTOR_ID","phone"),ph.prototype.g=function(){return uh||(uh=new ah),Te(uh)},ph.prototype.c=function(){};var gh=null;function mh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var vh=new yt(_t,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yh=new Ur(3e4,6e4);mh.prototype.g=function(t){var e=this;return new ye(function(n,r){var i=setTimeout(function(){r(new T("network-request-failed"))},yh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete u[e.a]},Te(Ls(Tt(vh,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(u.grecaptcha))})},mh.prototype.c=function(){this.b--};var bh=null;function wh(t,e,n,r,i,o,s){if($r(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(gh||(gh=new ph),s=gh):(bh||(bh=new mh),s=bh),this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ch])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ih],!u.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new zs(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var l=this.a[_h];this.a[_h]=function(t){if(Th(a,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=Tr(l,u);"function"==typeof e&&e(t)}};var c=this.a[Eh];this.a[Eh]=function(){if(Th(a,null),"function"==typeof c)c();else if("string"==typeof c){var t=Tr(c,u);"function"==typeof t&&t()}}}var _h="callback",Eh="expired-callback",Ch="sitekey",Ih="size";function Th(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function xh(t,e){return t.h.push(e),e.na(function(){K(t.h,e)}),e}function Sh(t){if(t.A)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function kh(t,n,r){var i=!1;try{this.b=r||e.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=e.SDK_VERSION?Cr(e.SDK_VERSION,s):null,wh.call(this,r,t,n,function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t},s,N(S),i)}function Ah(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Oh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Oh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=wh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=xh(this,Te().then(function(){if(kr()&&!mr())return dr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.v.g(t.u())}).then(function(e){return t.g=e,Xa(t.o,Pa,{})}).then(function(e){t.a[Ch]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Sh(this);var t=this;return xh(this,this.Ia().then(function(){if(null===t.c){var e=t.m;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};mt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=he(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!d(o)||g(o)&&0<o.nodeType?r(o):z(fe(o)?Y(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Sh(this);var t=this;return xh(this,this.render().then(function(e){return new ye(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){X(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Sh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Sh(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},I(kh,wh);var Oh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Ph(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Rh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:g}}function Dh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Mh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Lh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function Uh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Vh(t){return g(t)&&"string"==typeof t.uid}function jh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Fh(t,e){for(var n in e){var r=e[n].name;t[r]=zh(r,t[n],e[n].j)}}function qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E(function(t){return this[t]},n),set:E(function(t,e,n,r){Ah(t,[n],[r],!0),this[e]=r},r,n,e[n].jb),enumerable:!0})}}function Bh(t,e,n,r){t[e]=zh(e,n,r)}function zh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ah(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Fh(Wc.prototype,{ib:{name:"applyActionCode",j:[Nh("code")]},Qa:{name:"checkActionCode",j:[Nh("code")]},mb:{name:"confirmPasswordReset",j:[Nh("code"),Nh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Nh("email"),Nh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Nh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Nh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[jh(Rh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[jh(Rh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Nh("email"),jh(Rh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Nh("email"),Rh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Nh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Lh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Lh()]},Sc:{name:"signInWithCustomToken",j:[Nh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Nh("email"),Nh("password")]},Uc:{name:"signInWithEmailLink",j:[Nh("email"),Nh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[jh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ac)}},Mh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Nh("url")]},hd:{name:"verifyPasswordResetCode",j:[Nh("code")]}}),qh(Wc.prototype,{lc:{name:"languageCode",jb:jh(Nh(),Mh(),"languageCode")},ti:{name:"tenantId",jb:jh(Nh(),Mh(),"tenantId")}}),(Wc.Persistence=zu).LOCAL="local",Wc.Persistence.SESSION="session",Wc.Persistence.NONE="none",Fh(ac.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Ph("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ph("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Lh()]},pb:{name:"linkWithCredential",j:[Lh()]},Cc:{name:"linkWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lh()]},sb:{name:"reauthenticateWithCredential",j:[Lh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[jh(Rh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},bd:{name:"unlink",j:[Nh("provider")]},Ab:{name:"updateEmail",j:[Nh("email")]},Bb:{name:"updatePassword",j:[Nh("password")]},dd:{name:"updatePhoneNumber",j:[Lh("phone")]},Cb:{name:"updateProfile",j:[Rh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Nh("email"),jh(Rh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]}}),Fh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fh(ye.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),qh(Fl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Ph("appVerificationDisabledForTesting")}}),Fh(ql.prototype,{confirm:{name:"confirm",j:[Nh("verificationCode")]}}),Bh(io,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ho,To,Oo,uo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[jh(Nh(),Rh(),"json")]),Bh(xo,"credential",function(t,e){return new Io(t,e)},[Nh("email"),Nh("password")]),Fh(Io.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Fh(mo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(mo,"credential",vo,[jh(Nh(),Rh(),"token")]),Bh(xo,"credentialWithLink",So,[Nh("email"),Nh("emailLink")]),Fh(yo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(yo,"credential",bo,[jh(Nh(),Rh(),"token")]),Fh(wo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(wo,"credential",_o,[jh(Nh(),jh(Rh(),Mh()),"idToken"),jh(Nh(),Mh(),"accessToken",!0)]),Fh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(Eo,"credential",Co,[jh(Nh(),Rh(),"token"),Nh("secret",!0)]),Fh(go.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},credential:{name:"credential",j:[jh(Nh(),jh(Rh(),Mh()),"optionsOrIdToken"),jh(Nh(),Mh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Fh(lo.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Fh(so.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Bh(Po,"credential",Ro,[Nh("verificationId"),Nh("verificationCode")]),Fh(Po.prototype,{eb:{name:"verifyPhoneNumber",j:[jh(Nh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Uh(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Uh(t.session,ro)&&Vh(t.multiFactorHint):t.session&&t.multiFactorUid?Uh(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Fh(Ao.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Fh(T.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Fh(Bo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Fh(qo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Fh(Wl.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Fh(Gl.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Fh(Zl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Nh("displayName",!0)]},ad:{name:"unenroll",j:[jh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Vh},Nh(),"multiFactorInfoIdentifier")]}}),Fh(kh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Bh(vi,"parseLink",Ti,[Nh("link")]),Bh(dh,"assertion",function(t){return new Yl(t)},[Lh("phone")]),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Wc,AuthCredential:io,Error:T};Bh(t,"EmailAuthProvider",xo,[]),Bh(t,"FacebookAuthProvider",mo,[]),Bh(t,"GithubAuthProvider",yo,[]),Bh(t,"GoogleAuthProvider",wo,[]),Bh(t,"TwitterAuthProvider",Eo,[]),Bh(t,"OAuthProvider",go,[Nh("providerId")]),Bh(t,"SAMLAuthProvider",po,[Nh("providerId")]),Bh(t,"PhoneAuthProvider",Po,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Wc)}}]),Bh(t,"RecaptchaVerifier",kh,[jh(Nh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Rh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),Bh(t,"ActionCodeURL",vi,[]),Bh(t,"PhoneMultiFactorGenerator",dh,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Wc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.mc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.15.0"),e.INTERNAL.extendNamespace({User:ac})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService(u);a.resolve(l)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},Wcq6:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(n("wj3C"));i.default.registerVersion("firebase","7.24.0","app"),t.exports=i.default},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return s}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__createBinding",function(){return f}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return g}),n.d(e,"__spread",function(){return m}),n.d(e,"__spreadArrays",function(){return v}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return b}),n.d(e,"__asyncDelegator",function(){return w}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return E}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return I}),n.d(e,"__classPrivateFieldGet",function(){return T}),n.d(e,"__classPrivateFieldSet",function(){return x});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function I(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function x(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",function(){return s}),n.d(e,"Logger",function(){return h}),n.d(e,"setLogLevel",function(){return f}),n.d(e,"setUserLogHandler",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,l=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new s.ErrorFactory("app","Firebase",l),h="[DEFAULT]",f=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),p=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",function(){return u},"PUBLIC"));try{for(var l=o.__values(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=h),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=h),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),("object"!=typeof i||null===i)&&(i={name:i});var o=i;void 0===o.name&&(o.name=h);var a=o.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}l(new a.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||h))throw c.create("no-app",{appName:t});return e[t]}function l(a){var u,l,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var b=g;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",void 0),t.registerVersion("fire-js","")}(b),e.default=b,e.firebase=b},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return Yn}),n.d(e,"EventType",function(){return Jn}),n.d(e,"WebChannel",function(){return Zn}),n.d(e,"XhrIo",function(){return tr}),n.d(e,"createWebChannelTransport",function(){return Qn});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=s||self;function l(){}function c(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now;function w(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var S,k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function A(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var N=u.navigator;if(N){var P=N.userAgent;if(P){S=P;break t}}S=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function D(t){var e={};for(var n in t)e[n]=t[n];return e}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=l;var V,j,F=A(S,"Opera"),q=A(S,"Trident")||A(S,"MSIE"),B=A(S,"Edge"),z=B||q,G=A(S,"Gecko")&&!(A(S.toLowerCase(),"webkit")&&!A(S,"Edge"))&&!(A(S,"Trident")||A(S,"MSIE"))&&!A(S,"Edge"),H=A(S.toLowerCase(),"webkit")&&!A(S,"Edge");function $(){var t=u.document;return t?t.documentMode:void 0}t:{var W="",K=(j=S,G?/rv:([^\);]+)(\)|;)/.exec(j):B?/Edge\/([\d\.]+)/.exec(j):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):H?/WebKit\/(\S+)/.exec(j):F?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(K&&(W=K?K[1]:""),q){var X=$();if(null!=X&&X>parseFloat(W)){V=String(X);break t}}V=W}var Q={};function Y(t){return function(t,e){var n=Q;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=k(String(V)).split("."),r=k(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=O(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==s[2].length,0==a[2].length)||O(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var J=u.document&&q&&($()||parseInt(V,10))||void 0,Z=!q||9<=Number(J),tt=q&&!Y("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",l,e),u.removeEventListener("test",l,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{U(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},w(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function lt(t){this.src=t,this.a={},this.b=0}function ct(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}lt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ht(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new at(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[ot]?e.wa(n,r,f(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ot]?t.va(e,n,f(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i;if(s&&!Z)return null;var a=wt(t);if(a||(t[ft]=a=new lt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=bt,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])ct(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wt(e))?(ct(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function vt(t){return t in dt?dt[t]:dt[t]="on"+t}function yt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&mt(t),n.call(r,e)}function bt(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yt(t,e=new rt(e,this))}return yt(t,new rt(e,this))}function wt(t){return(t=t[ft])instanceof lt?t:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==c(t)?t:(t[_t]||(t[_t]=function(e){return t.handleEvent(e)}),t[_t])}function Ct(){_.call(this),this.c=new lt(this),this.J=this,this.C=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ct(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}w(Ct,_),Ct.prototype[ot]=!0,(o=Ct.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=f(i)?!!i.capture:!!i,r=Et(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(s=e.a[n],r,i,o))&&(ut(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=wt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&mt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;L(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=It(s,r,!0,t)&&i}if(i=It(s=t.a=n,r,!0,t)&&i,i=It(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=It(s=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(Ct.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Tt=u.JSON.stringify;function xt(){this.b=this.a=null}var St,kt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ot},function(t){t.reset()},100);function At(){var t=Dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ot(){this.next=this.b=this.a=null}function Nt(t){u.setTimeout(function(){throw t},0)}function Pt(t,e){St||function(){var t=u.Promise.resolve(void 0);St=function(){t.then(Mt)}}(),Rt||(St(),Rt=!0),Dt.add(t,e)}xt.prototype.add=function(t,e){var n=kt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ot.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var Rt=!1,Dt=new xt;function Mt(){for(var t;t=At();){try{t.a.call(t.b)}catch(n){Nt(n)}var e=kt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Rt=!1}function Lt(t,e){Ct.call(this),this.b=t||1,this.a=e||u,this.f=v(this.Ya,this),this.g=b()}function Ut(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Vt(t,e,n){if("function"==c(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}w(Lt,Ct),(o=Lt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=b()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ut(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},o.G=function(){Lt.S.G.call(this),Ut(this),delete this.a};var jt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Vt(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function Ft(t){_.call(this),this.b=t,this.a={}}w(Ft,_);var qt=[];function Bt(t,e,n,r){Array.isArray(n)||(n&&(qt[0]=n.toString()),n=qt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function zt(t){R(t.a,function(t,e){this.a.hasOwnProperty(e)&&mt(t)},t),t.a={}}function Gt(){this.a=!0}function Ht(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Tt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ft.prototype.G=function(){Ft.S.G.call(this),zt(this)},Ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.info=function(){};var $t=null;function Wt(){return $t=$t||new Ct}function Kt(t){nt.call(this,"serverreachability",t)}function Xt(t){var e=Wt();e.dispatchEvent(new Kt(e,t))}function Qt(t){nt.call(this,"statevent",t)}function Yt(t){var e=Wt();e.dispatchEvent(new Qt(e,t))}function Jt(t){nt.call(this,"timingevent",t)}function Zt(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){t()},e)}w(Kt,nt),w(Qt,nt),w(Jt,nt);var te={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ee={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ne(){}function re(){}ne.prototype.a=null;var ie,oe={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function se(){nt.call(this,"d")}function ae(){nt.call(this,"c")}function ue(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Ft(this),this.P=ce,this.R=new Lt(t=z?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(se,nt),w(ae,nt),w(ue,ne),ie=new ue;var ce=45e3,he={},fe={};function de(t,e,n){t.H=1,t.i=Me(Ae(e)),t.j=n,t.I=!0,pe(t,null)}function pe(t,e){t.u=b(),ve(t),t.l=Ae(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Ke(n.b,"t",r),t.D=0,t.a=zn(t.g,t.g.C?e:null),0<t.O&&(t.F=new jt(v(t.Ca,t,t.a),t.O)),Bt(t.J,t.a,"readystatechange",t.Wa),e=t.B?D(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Xt(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.T,t.j)}function ge(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=me(t,n);if(i==fe){4==e&&(t.h=4,Yt(14),r=!1),Ht(t.c,t.f,null,"[Incomplete Response]");break}if(i==he){t.h=4,Yt(15),Ht(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ht(t.c,t.f,i,null),Ee(t,i)}4==e&&0==n.length&&(t.h=1,Yt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mn(e),e.F=!0)):(Ht(t.c,t.f,n,"[Invalid Chunked Response]"),_e(t),we(t))}function me(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?he:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.D=r+n,e))}function ve(t){t.U=b()+t.P,ye(t,t.P)}function ye(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Zt(v(t.Ua,t),e)}function be(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||Vn(t.g,t)}function _e(t){be(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ut(t.R),zt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ee(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||en(n.b,t)))if(n.I=t.N,!t.C&&en(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Un(n),xn(n)}Dn(n),Yt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Zt(v(n.Ra,n),6e3));if(1>=tn(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else Fn(n,11)}else if((t.C||n.a==t)&&Un(n),!x(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(A(c,"spdy")||A(c,"quic")||A(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(nn(h,h.b),h.b=null))}if(u.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,De(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Bn(u,u.C?u.ga:null,u.fa),d.C){rn(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(be(p),ve(p)),u.a=d}else Rn(u);0<n.g.length&&An(n)}else"stop"!=i[0]&&"close"!=i[0]||Fn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Fn(n,7):Tn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Xt(4)}catch(m){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)C(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Te(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=le.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==_n(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=_n(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!z&&!this.a.$())){this.A||4!=e||7==n||Xt(8==n||0>=r?3:2),be(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Yt(12),_e(this),we(this);break t}Ht(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ee(this,u)}this.I?(ge(this,e,o),z&&this.b&&3==e&&(Bt(this.J,this.R,"tick",this.Va),this.R.start())):(Ht(this.c,this.f,o,null),Ee(this,o)),4==e&&_e(this),this.b&&!this.A&&(4==e?Vn(this.g,this):(this.b=!1,ve(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Yt(12)):(this.h=0,Yt(13)),_e(this),we(this)}}}catch(l){}},o.Va=function(){if(this.a){var t=_n(this.a),e=this.a.$();this.D<e.length&&(be(this),ge(this,t,e),this.b&&4!=t&&ve(this))}},o.cancel=function(){this.A=!0,_e(this)},o.Ua=function(){this.o=null;var t=b();0<=t-this.U?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Xt(3),Yt(17)),_e(this),this.h=2,we(this)):ye(this,this.U-t)},(o=Ie.prototype).K=function(){Te(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Te(this),this.a.concat()},o.get=function(t,e){return xe(this.b,t)?this.b[t]:e},o.set=function(t,e){xe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Se=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ke(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ke){this.a=void 0!==e?e:t.a,Oe(this,t.f),this.j=t.j,Ne(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new Ge;n.c=e.c,e.a&&(n.a=new Ie(e.a),n.b=e.b),Re(this,n),this.i=t.i}else t&&(n=String(t).match(Se))?(this.a=!!e,Oe(this,n[1]||"",!0),this.j=Le(n[2]||""),Ne(this,n[3]||"",!0),Pe(this,n[4]),this.g=Le(n[5]||"",!0),Re(this,n[6]||"",!0),this.i=Le(n[7]||"")):(this.a=!!e,this.b=new Ge(null,this.a))}function Ae(t){return new ke(t)}function Oe(t,e,n){t.f=n?Le(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.c=n?Le(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Re(t,e,n){e instanceof Ge?(t.b=e,function(t,e){e&&!t.f&&(He(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),Ke(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ue(e,Be)),t.b=new Ge(e,t.a))}function De(t,e,n){t.b.set(e,n)}function Me(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function Le(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ue(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ve),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ve(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ke.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ue(e,je,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ue(e,je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ue(n,"/"==n.charAt(0)?qe:Fe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ue(n,ze)),t.join("")};var je=/[#\/\?@]/g,Fe=/[#\?:]/g,qe=/[#\?]/g,Be=/[#\?@]/g,ze=/#/g;function Ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function He(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $e(t,e){He(t),e=Xe(t,e),xe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Te(t)))}function We(t,e){return He(t),e=Xe(t,e),xe(t.a.b,e)}function Ke(t,e,n){$e(t,e),0<n.length&&(t.c=null,t.a.set(Xe(t,e),T(n)),t.b+=n.length)}function Xe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Qe(t,e){this.b=t,this.a=e}function Ye(t){this.g=t||Je,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Ge.prototype).add=function(t,e){He(this),this.c=null,t=Xe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){He(this),this.a.forEach(function(n,r){C(n,function(n){t.call(e,n,r,this)},this)},this)},o.L=function(){He(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){He(this);var e=[];if("string"==typeof t)We(this,t)&&(e=I(e,this.a.get(Xe(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},o.set=function(t,e){return He(this),this.c=null,We(this,t=Xe(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Je=10;function Ze(t){return!!t.b||!!t.a&&t.a.size>=t.f}function tn(t){return t.b?1:t.a?t.a.size:0}function en(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function nn(t,e){t.a?t.a.add(e):t.b=e}function rn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function on(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next())r=r.concat(s.value.s)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return T(t.c)}function sn(){}function an(){this.a=new sn}function un(t,e,n){var r=n||"";try{Ce(t,function(t,n){var i=t;f(t)&&(i=Tt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ye.prototype.cancel=function(){var t,e;if(this.c=on(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},sn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},sn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var cn=u.JSON.parse;function hn(t){Ct.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fn,this.D=this.F=!1}w(hn,Ct);var fn="",dn=/^https?$/i,pn=["POST","PUT"];function gn(t){return"content-type"==t.toLowerCase()}function mn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,vn(t),bn(t)}function vn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function yn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=_n(t)||2!=t.X()))if(t.l&&4==_n(t))Vt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==_n(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Se)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!dn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<_n(t)?t.a.statusText:""}catch(c){l=""}t.f=l+" ["+t.X()+"]",vn(t)}}finally{bn(t)}}}function bn(t,e){if(t.a){wn(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function _n(t){return t.a?t.a.readyState:0}function En(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return R(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):De(t,e,n))}function Cn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function In(t){this.pa=0,this.g=[],this.c=new Gt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Cn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Cn("baseRetryDelayMs",5e3,t),this.Ma=Cn("retryDelaySeedMs",1e4,t),this.Ja=Cn("forwardChannelMaxRetries",2,t),this.ma=Cn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ye(t&&t.concurrentRequestLimit),this.ka=new an,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Tn(t){if(Sn(t),3==t.v){var e=t.R++,n=Ae(t.B);De(n,"SID",t.J),De(n,"RID",e),De(n,"TYPE","terminate"),Nn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Me(Ae(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=zn(e.g,null),e.a.ba(e.i)),e.u=b(),ve(e)}qn(t)}function xn(t){t.a&&(Mn(t),t.a.cancel(),t.a=null)}function Sn(t){xn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Un(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function kn(t,e){t.g.push(new Qe(t.La++,e)),3==t.v&&An(t)}function An(t){Ze(t.b)||t.h||(t.h=!0,Pt(t.Ba,t),t.u=0)}function On(t,e){var n;n=e?e.f:t.R++;var r=Ae(t.B);De(r,"SID",t.J),De(r,"RID",n),De(r,"AID",t.P),Nn(t,r),t.i&&t.l&&En(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),nn(t.b,n),de(n,r,e)}function Nn(t,e){t.f&&Ce({},function(t,n){De(e,n,t)})}function Pn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?v(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),a=!1;else try{un(c,s,"req"+l+"_")}catch(h){r&&r(c)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rn(t){t.a||t.j||(t.U=1,Pt(t.Aa,t),t.o=0)}function Dn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=Zt(v(t.Aa,t),jn(t,t.o)),t.o++,0))}function Mn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Ln(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ae(t.la);De(e,"RID","rpc"),De(e,"SID",t.J),De(e,"CI",t.H?"0":"1"),De(e,"AID",t.P),Nn(t,e),De(e,"TYPE","xmlhttp"),t.i&&t.l&&En(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Me(Ae(e)),n.j=null,n.I=!0,pe(n,t)}function Un(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Vn(t,e){var n=null;if(t.a==e){Un(t),Mn(t),t.a=null;var r=2}else{if(!en(t.b,e))return;n=e.s,rn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.u;var i=t.u;(r=Wt()).dispatchEvent(new Jt(r,n,e,i)),An(t)}else Rn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(tn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=Zt(v(t.Ba,t,e),jn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Dn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Fn(t,5);break;case 4:Fn(t,10);break;case 3:Fn(t,6);break;default:Fn(t,2)}}function jn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Fn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=v(t.Xa,t);n||(n=new ke("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Oe(n,"https"),Me(n)),function(t,e){var n=new Gt;if(u.Image){var r=new Image;r.onload=y(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=y(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yt(2);t.v=0,t.f&&t.f.ra(e),qn(t),Sn(t)}function qn(t){t.v=0,t.I=-1,t.f&&(0==on(t.b).length&&0==t.g.length||(t.b.c.length=0,T(t.g),t.g.length=0),t.f.qa())}function Bn(t,e,n){var r=function(t){return t instanceof ke?Ae(t):new ke(t,void 0)}(n);if(""!=r.c)e&&Ne(r,e+"."+r.c),Pe(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new ke(null,void 0);return t&&Oe(i,t),e&&Ne(i,e),n&&Pe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&R(t.W,function(t,e){De(r,e,t)}),n=t.na,(e=t.A)&&n&&De(r,e,n),De(r,"VER",t.ha),Nn(t,r),r}function zn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hn(t.Ka)).F=t.C,e}function Gn(){}function Hn(){if(q&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function $n(t,e){Ct.call(this),this.a=new In(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Xn(this)}function Wn(t){se.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Kn(){ae.call(this),this.status=1}function Xn(t){this.a=t}(o=hn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ie),this.a.onreadystatechange=v(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void mn(this,o)}t=n||"";var i=new Ie(this.headers);r&&Ce(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=gn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(pn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return q&&Y(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=v(this.xa,this)):this.m=Vt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){mn(this,o)}},o.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bn(this,!0)),hn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?yn(this):this.Ta())},o.Ta=function(){yn(this)},o.X=function(){try{return 2<_n(this)?this.a.status:-1}catch(j){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=In.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?L(r=D(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pn(this,n,e),De(i=Ae(this.B),"RID",t),De(i,"CVER",22),this.A&&De(i,"X-HTTP-Session-Id",this.A),Nn(this,i),this.i&&r&&En(i,this.i,r),nn(this.b,n),this.Ga&&De(i,"TYPE","init"),this.da?(De(i,"$req",e),De(i,"SID","null"),n.V=!0,de(n,i,null)):de(n,i,e),this.v=2}}else 3==this.v&&(t?On(this,t):0==this.g.length||Ze(this.b)||On(this))},o.Aa=function(){if(this.j=null,Ln(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Zt(v(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xn(this),Ln(this))},o.Ra=function(){null!=this.m&&(this.m=null,xn(this),Dn(this),Yt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Yt(2)):(this.c.info("Failed to ping google.com"),Yt(1))},(o=Gn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Hn.prototype.a=function(t,e){return new $n(t,e)},w($n,Ct),(o=$n.prototype).addEventListener=function(t,e,n,r){$n.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){$n.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Yt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Bn(t,null,t.fa),An(t)},o.close=function(){Tn(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,kn(this.a,e)}else this.g?((e={}).__data__=Tt(t),kn(this.a,e)):kn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,Tn(this.a),delete this.a,$n.S.G.call(this)},w(Wn,se),w(Kn,ae),w(Xn,Gn),Xn.prototype.ta=function(){this.a.dispatchEvent("a")},Xn.prototype.sa=function(t){this.a.dispatchEvent(new Wn(t))},Xn.prototype.ra=function(t){this.a.dispatchEvent(new Kn(t))},Xn.prototype.qa=function(){this.a.dispatchEvent("b")},Hn.prototype.createWebChannel=Hn.prototype.a,$n.prototype.send=$n.prototype.Pa,$n.prototype.open=$n.prototype.Oa,$n.prototype.close=$n.prototype.close,te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,ee.COMPLETE="complete",re.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",Ct.prototype.listen=Ct.prototype.va,hn.prototype.listenOnce=hn.prototype.wa,hn.prototype.getLastError=hn.prototype.Qa,hn.prototype.getLastErrorCode=hn.prototype.ua,hn.prototype.getStatus=hn.prototype.X,hn.prototype.getResponseJson=hn.prototype.Na,hn.prototype.getResponseText=hn.prototype.$,hn.prototype.send=hn.prototype.ba;var Qn=function(){return new Hn},Yn=te,Jn=ee,Zn=re,tr=hn;e.default={createWebChannelTransport:Qn,ErrorCode:Yn,EventType:Jn,WebChannel:Zn,XhrIo:tr}},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=Array.isArray||(t=>t&&"number"==typeof t.length);function l(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c,f=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:o,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(o))try{o.call(this)}catch(f){e=!0,t=f instanceof h?d(f.errors):[f]}if(u(s))for(a=-1,c=s.length;++a<c;){const n=s[a];if(l(n))try{n.unsubscribe()}catch(f){e=!0,t=t||[],f instanceof h?t=t.concat(d(f.errors)):t.push(f)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends f{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new g(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class m extends g{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(r((s=Object.create(e)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...t){return w(t)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:y}const _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[p])return t[p]()}return t||e||n?new g(t,e,n):new g(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=E(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:w(t)(this)}toPromise(t){return new(t=E(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=(e=>new t(e)),t})();function E(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}C.prototype=Object.create(Error.prototype);const I=C;class T extends f{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends g{constructor(t){super(t),this.destination=t}}const S=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(t){const e=new k(this,this);return e.operator=t,e}next(t){if(this.closed)throw new I;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new I;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new I;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),f.EMPTY):this.isStopped?(t.complete(),f.EMPTY):(this.observers.push(t),new T(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=((t,e)=>new k(t,e)),t})();class k extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):f.EMPTY}}function A(t){return t&&"function"==typeof t.schedule}class O extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const N=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},P=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=R(),M=t=>e=>{const n=t[D]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},L=t=>e=>{const n=t[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},U=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function V(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const j=t=>{if(t instanceof _)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[v])return L(t);if(U(t))return N(t);if(V(t))return P(t);if(t&&"function"==typeof t[D])return M(t);{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function F(t,e,n,r,i=new O(t,n,r)){if(!i.closed)return j(e)(i)}class q extends g{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(t,e))}}class z{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new G(t,this.project,this.thisArg))}}class G extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function H(t,e){return new _(e?n=>{const r=new f;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:N(t))}function $(t,e){if(!e)return t instanceof _?t:new _(j(t));if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new _(e?n=>{const r=new f;return r.add(e.schedule(()=>{const i=t[v]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:L(t))}(t,e);if(V(t))return function(t,e){return new _(e?n=>{const r=new f;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:P(t))}(t,e);if(U(t))return H(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(e?n=>{const r=new f;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[D](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const o=i.next();t=o.value,e=o.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r}:M(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function W(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(W((n,r)=>$(t(n,r)).pipe(B((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new K(t,n)))}class K{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new X(t,this.project,this.concurrent))}}class X extends q{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new O(this,void 0,void 0);this.destination.add(r),F(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Q(t){return t}function Y(t=Number.POSITIVE_INFINITY){return W(Q,t)}function J(){return function(t){return t.lift(new Z(t))}}class Z{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new tt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class tt extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const et=class extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f).add(this.source.subscribe(new rt(this.getSubject(),this))),t.closed?(this._connection=null,t=f.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,nt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}};class rt extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function it(){return new S}const ot="__parameters__";function st(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(ot)?t[ot]:Object.defineProperty(t,ot,{value:[]})[ot];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const at=st("Inject",t=>({token:t})),ut=st("Optional"),lt=st("Self"),ct=st("SkipSelf");var ht=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ft(t){for(let e in t)if(t[e]===ft)return e;throw Error("Could not find renamed property on target object.")}function dt(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return t&&t.hasOwnProperty(gt)?t[gt]:null}const gt=ft({ngInjectableDef:ft});function mt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const vt=ft({__forward_ref__:ft});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return mt(this())},t}function bt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(vt)&&e.__forward_ref__===yt?e():t}function wt(){const t="undefined"!=typeof globalThis&&globalThis,e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,r="undefined"!=typeof global&&global;return t||r||e||n}const _t=wt();let Et,Ct=void 0;function It(t){const e=Ct;return Ct=t,e}function Tt(t,e=ht.Default){return(Et||function(t,e=ht.Default){if(void 0===Ct)throw new Error("inject() must be called from an injection context");return null===Ct?function(t,e,n){const r=pt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ht.Optional)return null;throw new Error(`Injector: NOT_FOUND [${mt(t)}]`)}(t,0,e):Ct.get(t,e&ht.Optional?null:void 0,e)})(t,e)}class xt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=dt({providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const St="__source",kt=new Object,At=new xt("INJECTOR",-1);class Ot{get(t,e=kt){if(e===kt){const e=new Error(`NullInjectorError: No provider for ${mt(t)}!`);throw e.name="NullInjectorError",e}return e}}const Nt=(()=>{class t{static create(t,e){return Array.isArray(t)?new qt(t,e):new qt(t.providers,t.parent,t.name||null)}}return t.THROW_IF_NOT_FOUND=kt,t.NULL=new Ot,t.ngInjectableDef=dt({providedIn:"any",factory:()=>Tt(At)}),t.__NG_ELEMENT_ID__=-1,t})(),Pt=function(t){return t},Rt=[],Dt=Pt,Mt=function(){return Array.prototype.slice.call(arguments)},Lt=ft({provide:String,useValue:ft}),Ut="ngTokenPath",Vt="ngTempTokenPath",jt=/\n/gm,Ft="\u0275";class qt{constructor(t,e=Nt.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Nt,{token:Nt,fn:Pt,deps:Rt,value:this,useNew:!1}),r.set(At,{token:At,fn:Pt,deps:Rt,value:this,useNew:!1}),function t(e,n){if(n)if((n=bt(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Gt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Gt("Unexpected provider",n);{let t=bt(n.provide);const r=function(t){const e=function(t){let e=Rt;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=bt(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof ut||n==ut?r|=1:n instanceof ct||n==ct?r&=-3:n instanceof lt||n==lt?r&=-5:i=n instanceof at?n.token:bt(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:bt(t.useExisting),options:6}];else if(!(n||Lt in t))throw Gt("'deps' required",t);return e}(t);let n=Pt,r=Rt,i=!1,o=bt(t.provide);if(Lt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=bt(t.useClass);else{if("function"!=typeof o)throw Gt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Mt)throw Bt(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Mt,value:Rt});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==Mt)throw Bt(t);e.set(t,r)}}}(r,t)}get(t,e,n=ht.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){let a;if(!n||s&ht.SkipSelf)s&ht.Self||(a=i.get(e,o,ht.Default));else{if((a=n.value)==Dt)throw Error(Ft+"Circular dependency");if(a===Rt){n.value=Dt;let e=void 0,o=n.useNew,s=n.fn,u=n.deps,l=Rt;if(u.length){l=[];for(let e=0;e<u.length;e++){const n=u[e],o=n.options,s=2&o?r.get(n.token):void 0;l.push(t(n.token,s,r,s||4&o?i:Nt.NULL,1&o?null:Nt.THROW_IF_NOT_FOUND,ht.Default))}}n.value=a=o?new s(...l):s.apply(e,l)}}return a}(e,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[Vt]=a[Vt]||[]).unshift(e),n&&n.value==Dt&&(n.value=Rt),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[Vt];throw e[St]&&i.unshift(e[St]),t.message=zt("\n"+t.message,i,"StaticInjectorError",r),t[Ut]=i,t[Vt]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(mt(n))),`StaticInjector[${t.join(", ")}]`}}function Bt(t){return Gt("Cannot mix multi providers and regular providers",t)}function zt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Ft?t.substr(2):t;let i=mt(e);if(e instanceof Array)i=e.map(mt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):mt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jt,"\n  ")}`}function Gt(t,e){return new Error(zt(t,e,"StaticInjectorError"))}const Ht="ngDebugContext",$t="ngOriginalError",Wt="ngErrorLogger",Kt=new xt("AnalyzeForEntryComponents"),Xt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Qt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_t))();function Yt(t){return t[Ht]}function Jt(t){return t[$t]}function Zt(t,...e){t.error(...e)}class te{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Wt]||Zt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Yt(t)?Yt(t):this._findContext(Jt(t)):null}_findOriginalError(t){let e=Jt(t);for(;e&&Jt(e);)e=Jt(e);return e}}let ee=!0,ne=!1;function re(){return ne=!0,ee}class ie{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const n=(new window.DOMParser).parseFromString(t,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const oe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,se=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ae(t){return(t=String(t)).match(oe)||t.match(se)?t:(re()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ue(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function le(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ce=ue("area,br,col,hr,img,wbr"),he=ue("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fe=ue("rp,rt"),de=le(fe,he),pe=le(ce,le(he,ue("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),le(fe,ue("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),de),ge=ue("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),me=ue("srcset"),ve=le(ge,me,ue("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ue("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ye=ue("script,style,template");class be{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!pe.hasOwnProperty(e))return this.sanitizedSomething=!0,!ye.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ve.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ge[o]&&(s=ae(s)),me[o]&&(r=s,s=(r=String(r)).split(",").map(t=>ae(t.trim())).join(", ")),this.buf.push(" ",e,'="',Ee(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();pe.hasOwnProperty(e)&&!ce.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ee(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const we=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_e=/([^\#-~ |!])/g;function Ee(t){return t.replace(/&/g,"&amp;").replace(we,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(_e,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ce;function Ie(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Te=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class xe{}const Se=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ke=/^url\(([^)]+)\)$/,Ae=/([A-Z])/g;function Oe(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Ne(t){return!!t&&"function"==typeof t.then}function Pe(t){return!!t&&"function"==typeof t.subscribe}let Re=null;function De(){if(!Re){const t=_t.Symbol;if(t&&t.iterator)Re=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Re=n)}}}return Re}function Me(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Le(t,e){const n=Ve(t),r=Ve(e);if(n&&r)return function(t,e,n){const r=t[De()](),i=e[De()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Le);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||Me(t,e)}}class Ue{constructor(t){this.wrapped=t}static wrap(t){return new Ue(t)}static unwrap(t){return Ue.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ue}}function Ve(t){return!!je(t)&&(Array.isArray(t)||!(t instanceof Map)&&De()in t)}function je(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class Fe{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}const qe=new xt("The presence of this token marks an injector as being the root injector.");class Be{}class ze{}function Ge(t){const e=Error(`No component factory found for ${mt(t)}. Did you add it to @NgModule.entryComponents?`);return e[He]=t,e}const He="ngComponent";class $e{resolveComponentFactory(t){throw Ge(t)}}const We=(()=>{class t{}return t.NULL=new $e,t})();class Ke{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ge(t);return new Xe(e,this._ngModule)}}class Xe extends ze{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}class Qe{}class Ye{}function Je(...t){}const Ze=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=(()=>tn(t)),t})(),tn=Je;class en{}class nn{}const rn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),on=(()=>{class t{}return t.__NG_ELEMENT_ID__=(()=>sn()),t})(),sn=Je;class an{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const un=new an("8.0.3");class ln{constructor(){}supports(t){return Ve(t)}create(t){return new hn(t)}}const cn=(t,e)=>e;class hn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||cn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<gn(n,r,i)?e:n,s=gn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ve(t))throw new Error(`Error trying to diff '${mt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&Me(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Me(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[De()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Me(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Me(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Me(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Me(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new fn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Me(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class pn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new dn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class mn{constructor(){}supports(t){return t instanceof Map||je(t)}create(){return new vn}}class vn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||je(t)))throw new Error(`Error trying to diff '${mt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new yn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Me(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class yn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}const bn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new ut]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=dt({providedIn:"root",factory:()=>new t([new ln])}),t})(),wn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new ut]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=dt({providedIn:"root",factory:()=>new t([new mn])}),t})(),_n=(()=>{class t{}return t.__NG_ELEMENT_ID__=(()=>En()),t})(),En=(...t)=>{},Cn=[new mn],In=new bn([new ln]),Tn=new wn(Cn),xn=(()=>{class t{}return t.__NG_ELEMENT_ID__=(()=>Sn(t,Ze)),t})(),Sn=Je,kn=(()=>{class t{}return t.__NG_ELEMENT_ID__=(()=>An(t,Ze)),t})(),An=Je;function On(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Nn(n,e),n}(i,t)}function Nn(t,e){t[Ht]=e,t[Wt]=e.logError.bind(e)}function Pn(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function Rn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Dn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Mn(t,e){return t.nodes[e]}function Ln(t,e){return t.nodes[e]}function Un(t,e){return t.nodes[e]}function Vn(t,e){return t.nodes[e]}function jn(t,e){return t.nodes[e]}const Fn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},qn=()=>{},Bn=new Map;function zn(t){let e=Bn.get(t);return e||(e=mt(t)+"_"+Bn.size,Bn.set(t,e)),e}function Gn(t,e,n,r){if(Ue.isWrapped(r)){r=Ue.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=Ue.unwrap(t.oldValues[i]);t.oldValues[i]=new Ue(o)}return r}const Hn="$$undefined",$n="$$empty";function Wn(t){return{id:Hn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Kn=0;function Xn(t,e,n,r){return!(!(2&t.state)&&Me(t.oldValues[e.bindingIndex+n],r))}function Qn(t,e,n,r){return!!Xn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Yn(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Le(i,r)){const o=e.bindings[n].name;throw On(Fn.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function Jn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Zn(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function tr(t,e,n,r){try{return Jn(33554432&t.def.nodes[e].flags?Ln(t,e).componentView:t),Fn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function er(t){return t.parent?Ln(t.parent,t.parentNodeDef.nodeIndex):null}function nr(t){return t.parent?t.parentNodeDef.parent:null}function rr(t,e){switch(201347067&e.flags){case 1:return Ln(t,e.nodeIndex).renderElement;case 2:return Mn(t,e.nodeIndex).renderText}}function ir(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function or(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function sr(t){return 1<<t%32}function ar(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=sr(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function ur(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,St,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:zn(n)}})}function lr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Xt.Native?Ln(t,n.renderParent.nodeIndex).renderElement:void 0:e}const cr=new WeakMap;function hr(t){let e=cr.get(t);return e||((e=t(()=>qn)).factory=t,cr.set(t,e)),e}function fr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(rr(t,t.def.lastRenderRootNode))),dr(t,e,0,t.def.nodes.length-1,n,r,i)}function dr(t,e,n,r,i,o,s){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&gr(t,n,e,i,o,s),a+=n.childCount}}function pr(t,e,n,r,i,o){let s=t;for(;s&&!ir(s);)s=s.parent;const a=s.parent,u=nr(s),l=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=l;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&gr(a,t,n,r,i,o),c+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)mr(t,s[e],n,r,i,o)}}function gr(t,e,n,r,i,o){if(8&e.flags)pr(t,e.ngContent.index,n,r,i,o);else{const s=rr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&mr(t,s,n,r,i,o),32&e.bindingFlags&&mr(Ln(t,e.nodeIndex).componentView,s,n,r,i,o)):mr(t,s,n,r,i,o),16777216&e.flags){const s=Ln(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)fr(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&dr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function mr(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const vr=/^:([^:]+):(.+)$/;function yr(t){if(":"===t[0]){const e=t.match(vr);return[e[1],e[2]]}return["",t]}function br(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function wr(t,e,n,r,i,o,s,a,u,l,c,h,f,d,p,g,m,v,y,b){switch(t){case 1:return e+_r(n)+r;case 2:return e+_r(n)+r+_r(i)+o;case 3:return e+_r(n)+r+_r(i)+o+_r(s)+a;case 4:return e+_r(n)+r+_r(i)+o+_r(s)+a+_r(u)+l;case 5:return e+_r(n)+r+_r(i)+o+_r(s)+a+_r(u)+l+_r(c)+h;case 6:return e+_r(n)+r+_r(i)+o+_r(s)+a+_r(u)+l+_r(c)+h+_r(f)+d;case 7:return e+_r(n)+r+_r(i)+o+_r(s)+a+_r(u)+l+_r(c)+h+_r(f)+d+_r(p)+g;case 8:return e+_r(n)+r+_r(i)+o+_r(s)+a+_r(u)+l+_r(c)+h+_r(f)+d+_r(p)+g+_r(m)+v;case 9:return e+_r(n)+r+_r(i)+o+_r(s)+a+_r(u)+l+_r(c)+h+_r(f)+d+_r(p)+g+_r(m)+v+_r(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function _r(t){return null!=t?t.toString():""}const Er=new Object,Cr=zn(Nt),Ir=zn(At),Tr=zn(Qe);function xr(t,e,n,r){return n=bt(n),{index:-1,deps:ur(r,mt(e)),flags:t,token:e,value:n}}function Sr(t,e,n=Nt.THROW_IF_NOT_FOUND){const r=It(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case Cr:case Ir:case Tr:return t}const a=t._def.providersByKey[s];let u;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=kr(t,a)),e===Er?void 0:e}if((u=pt(e.token))&&(i=t,null!=(o=u).providedIn&&(function(t,e){return t._def.modules.indexOf(o.providedIn)>-1}(i)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:e.token},t._providers[n]=Er,t._providers[n]=kr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{It(r)}var i,o}function kr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Sr(t,n[0]));case 2:return new e(Sr(t,n[0]),Sr(t,n[1]));case 3:return new e(Sr(t,n[0]),Sr(t,n[1]),Sr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Sr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Sr(t,n[0]));case 2:return e(Sr(t,n[0]),Sr(t,n[1]));case 3:return e(Sr(t,n[0]),Sr(t,n[1]),Sr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Sr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Sr(t,e.deps[0]);break;case 256:n=e.value}return n===Er||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Er:n}function Ar(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Rr(n,e),Fn.dirtyParentQueries(r),Nr(r),r}function Or(t,e,n){const r=e?rr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);fr(n,2,i,o,void 0)}function Nr(t){fr(t,3,null,null,void 0)}function Pr(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rr(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const Dr=new Object;function Mr(t,e,n,r,i,o){return new Lr(t,e,n,r,i,o)}class Lr extends ze{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=hr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Fn.createRootView(t,e||[],n,i,r,Dr),a=Un(s,o).instance;return n&&s.renderer.setAttribute(Ln(s,0).renderElement,"ng-version",un.full),new Ur(s,new qr(s),a)}}class Ur extends Be{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Ze(Ln(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Hr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Vr(t,e,n){return new jr(t,e,n)}class jr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Ze(this._data.renderElement)}get injector(){return new Hr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=nr(t),t=t.parent;return t?new Hr(t,e):new Hr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Ar(this._data,t);Fn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new qr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof Xe||(i=o.get(Qe));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Pr(i,n,r),function(t,e){const n=er(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(4&n.flags)return;e.parent.def.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(0,e.parentNodeDef)}(e,r),Fn.dirtyParentQueries(r),Or(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,r){const i=t.viewContainer._embeddedViews,o=i[n];Rr(i,n),null==r&&(r=i.length),Pr(i,r,o),Fn.dirtyParentQueries(o),Nr(o),Or(t,r>0?i[r-1]:null,o)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Ar(this._data,t);e&&Fn.destroyView(e)}detach(t){const e=Ar(this._data,t);return e?new qr(e):null}}function Fr(t){return new qr(t)}class qr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return fr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Jn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Fn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Fn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Fn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Nr(this._view),Fn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Br(t,e){return new zr(t,e)}class zr extends xn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new qr(Fn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Ze(Ln(this._parentView,this._def.nodeIndex).renderElement)}}function Gr(t,e){return new Hr(t,e)}class Hr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Nt.THROW_IF_NOT_FOUND){return Fn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:zn(t)},e)}}function $r(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Ln(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Mn(t,n.nodeIndex).renderText;if(20240&n.flags)return Un(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function Wr(t){return new Kr(t.renderer)}class Kr{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=yr(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=yr(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Xr(t,e,n,r){return new Qr(t,e,n,r)}class Qr{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=kr(t,i))}}(this)}get(t,e=Nt.THROW_IF_NOT_FOUND,n=ht.Default){let r=0;return n&ht.SkipSelf?r|=1:n&ht.Self&&(r|=4),Sr(this,{token:t,tokenKey:zn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(We)}destroy(){if(this._destroyed)throw new Error(`The ng module ${mt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Er){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Yr=zn(en),Jr=zn(on),Zr=zn(Ze),ti=zn(kn),ei=zn(xn),ni=zn(_n),ri=zn(Nt),ii=zn(At);function oi(t,e,n,r,i,o,s,a){const u=[];if(s)for(let c in s){const[t,e]=s[c];u[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const l=[];if(a)for(let c in a)l.push({type:1,propName:c,target:null,eventName:a[c]});return ui(t,e|=16384,n,r,i,i,o,u,l)}function si(t,e,n){return ui(-1,t|=16,null,0,e,e,n)}function ai(t,e,n,r,i){return ui(-1,t,e,0,n,r,i)}function ui(t,e,n,r,i,o,s,a,u){const{matchedQueries:l,references:c,matchedQueryIds:h}=ar(n);u||(u=[]),a||(a=[]),o=bt(o);const f=ur(s,mt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:br(a),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}function li(t,e){return di(t,e)}function ci(t,e){let n=t;for(;n.parent&&!ir(n);)n=n.parent;return pi(n.parent,nr(n),!0,e.provider.value,e.provider.deps)}function hi(t,e){const n=pi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!Pe(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(fi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function fi(t,e,n){return r=>tr(t,e,n,r)}function di(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return pi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(mi(t,e,n,i[0]));case 2:return r(mi(t,e,n,i[0]),mi(t,e,n,i[1]));case 3:return r(mi(t,e,n,i[0]),mi(t,e,n,i[1]),mi(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=mi(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return mi(t,e.parent,n,r.deps[0]);case 256:return r.value}}function pi(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(mi(t,e,n,i[0]));case 2:return new r(mi(t,e,n,i[0]),mi(t,e,n,i[1]));case 3:return new r(mi(t,e,n,i[0]),mi(t,e,n,i[1]),mi(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=mi(t,e,n,i[r]);return new r(...s)}}const gi={};function mi(t,e,n,r,i=Nt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===ni&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case Yr:return Wr(vi(a,e,n));case Jr:return vi(a,e,n).renderer;case Zr:return new Ze(Ln(a,e.nodeIndex).renderElement);case ti:return Ln(a,e.nodeIndex).viewContainer;case ei:if(e.element.template)return Ln(a,e.nodeIndex).template;break;case ni:return Fr(vi(a,e,n));case ri:case ii:return Gr(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=Un(a,t.nodeIndex);return e||(e={instance:di(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=ir(a),e=nr(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,gi);return u!==gi||i===gi?u:o.root.ngModule.injector.get(r.token,i)}function vi(t,e,n){let r;if(n)r=Ln(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ir(r);)r=r.parent;return r}function yi(t,e,n,r,i,o){if(32768&n.flags){const e=Ln(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=Ue.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Fe(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function bi(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&_i(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=wi(t,s,e,r)),s=s.parent}}function wi(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&_i(t,i,e.flags&n,r++),i+=e.childCount}return r}function _i(t,e,n,r){const i=Un(t,e);if(!i)return;const o=i.instance;o&&(Fn.setCurrentNode(t,e),1048576&n&&Dn(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Dn(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const Ei=new xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qt});class Ci extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof f&&t.add(s),s}}class Ii{constructor(){this.dirty=!0,this._results=[],this.changes=new Ci,this.length=0}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}[De()](){return this._results[De()]()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ti{}const xi=new xt("Application Initializer"),Si=(()=>(class{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ne(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}))(),ki=new xt("AppId");function Ai(){return`${Oi()}${Oi()}${Oi()}`}function Oi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ni=new xt("Platform Initializer"),Pi=new xt("Platform ID"),Ri=new xt("appBootstrapListener"),Di=(()=>(class{log(t){console.log(t)}warn(t){console.warn(t)}}))();function Mi(){throw new Error("Runtime compiler is not loaded")}const Li=Mi,Ui=Mi,Vi=Mi,ji=Mi,Fi=(()=>(class{constructor(){this.compileModuleSync=Li,this.compileModuleAsync=Ui,this.compileModuleAndAllComponentsSync=Vi,this.compileModuleAndAllComponentsAsync=ji}clearCache(){}clearCacheFor(t){}getModuleId(t){}}))();class qi{}let Bi,zi;function Gi(){const t=_t.wtf;return!(!t||!(Bi=t.trace)||(zi=Bi.events,0))}const Hi=Gi(),$i=Hi?function(t,e=null){return zi.createScope(t,e)}:(t,e)=>(function(t,e){return null}),Wi=Hi?function(t,e){return Bi.leaveScope(t,e),e}:(t,e)=>e,Ki=(()=>Promise.resolve(0))();function Xi(t){"undefined"==typeof Zone?Ki.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Qi{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ci(!1),this.onMicrotaskEmpty=new Ci(!1),this.onStable=new Ci(!1),this.onError=new Ci(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,s)=>{try{return to(e),t.invokeTask(r,i,o,s)}finally{eo(e)}},onInvoke:(t,n,r,i,o,s,a)=>{try{return to(e),t.invoke(r,i,o,s,a)}finally{eo(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Zi(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ji,Yi,Yi);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Yi(){}const Ji={};function Zi(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function to(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eo(t){t._nesting--,Zi(t)}class no{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ci,this.onMicrotaskEmpty=new Ci,this.onStable=new Ci,this.onError=new Ci}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}const ro=(()=>(class{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qi.assertNotInAngularZone(),Xi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xi(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}))(),io=(()=>{class t{constructor(){this._applications=new Map,ao.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ao.findTestabilityInTree(this,t,e)}}return t.ctorParameters=(()=>[]),t})();class oo{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let so,ao=new oo,uo=function(t){return t instanceof Xe};const lo=new xt("AllowMultipleToken");class co{constructor(t,e){this.name=t,this.token=e}}function ho(t,e,n=[]){const r=`Platform: ${e}`,i=new xt(r);return(e=[])=>{let o=fo();if(!o||o.injector.get(lo,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(so&&!so.destroyed&&!so.injector.get(lo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");so=t.get(po);const e=t.get(Ni,null);e&&e.forEach(t=>t())}(Nt.create({providers:t,name:r}))}return function(t){const e=fo();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function fo(){return so&&!so.destroyed?so:null}const po=(()=>(class{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new no:("zone.js"===i?void 0:i)||new Qi({enableLongStackTrace:re()}),r=[{provide:Qi,useValue:n}];var i;return n.run(()=>{const e=Nt.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(te,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>vo(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const i=n();return Ne(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Si);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=go({},e);return function(t,e,n){return t.get(qi).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(mo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${mt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}))();function go(t,e){return Array.isArray(e)?e.reduce(go,t):Object.assign({},t,e)}const mo=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=re(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Qi.assertNotInAngularZone(),Xi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Qi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return A(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:Y(e)(H(t,n))}(s,a.pipe(t=>J()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,nt);return r.source=e,r.subjectFactory=n,r}}(it)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ze?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=uo(n)?null:this._injector.get(Qe),i=n.create(Nt.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(ro,null);return o&&i.injector.get(io).registerApplication(i.location.nativeElement,o),this._loadComponent(i),re()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Wi(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;vo(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ri,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),vo(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=$i("ApplicationRef#tick()"),t})();function vo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yo{}const bo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},wo=(()=>(class{constructor(t,e){this._compiler=t,this._config=e||bo}load(t){return this._compiler instanceof Fi?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>_o(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>_o(t,e,r))}}))();function _o(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Eo{constructor(t,e){this.name=t,this.callback=e}}class Co{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Io&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Io extends Co{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Io&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Io&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Io&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Io)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const To=new Map,xo=function(t){return To.get(t)||null};function So(t){To.set(t.nativeNode,t)}const ko=ho(null,"core",[{provide:Pi,useValue:"unknown"},{provide:po,deps:[Nt]},{provide:io,deps:[]},{provide:Di,deps:[]}]),Ao=new xt("LocaleId");function Oo(){return In}function No(){return Tn}function Po(t){return t||"en-US"}function Ro(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}const Do=(()=>(class{constructor(t){}}))();function Mo(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=ar(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?hr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||qn},provider:null,text:null,query:null,ngContent:null}}function Lo(t,e,n,r,i,o,s=[],a,u,l,c,h){l||(l=qn);const{matchedQueries:f,references:d,matchedQueryIds:p}=ar(n);let g=null,m=null;o&&([g,m]=yr(o)),a=a||[];const v=new Array(a.length);for(let w=0;w<a.length;w++){const[t,e,n]=a[w],[r,i]=yr(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}v[w]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const y=new Array(u.length);for(let w=0;w<u.length;w++){const[t,e]=u[w];y[w]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=yr(t);return[n,r,e]});return h=function(t){if(t&&t.id===Hn){const e=null!=t.encapsulation&&t.encapsulation!==Xt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Kn++}`:$n}return t&&t.id===$n&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:p,references:d,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:br(v),outputs:y,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||qn},provider:null,text:null,query:null,ngContent:null}}function Uo(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=lr(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Xt.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];o.setAttribute(s,e,n,t)}return s}function Vo(t,e,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],u=jo(t,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let l=a.target,c=t;"component"===a.target&&(l=null,c=e);const h=c.renderer.listen(l||r,a.eventName,u);t.disposables[n.outputIndex+s]=h}var i,o}function jo(t,e,n){return r=>tr(t,e,n,r)}function Fo(t,e,n,r){if(!Qn(t,e,n,r))return!1;const i=e.bindings[n],o=Ln(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(Te.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function qo(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:sr(e),bindings:r},ngContent:null}}function Bo(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&or(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&jn(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&jn(t,n).setDirty(),n+=e.childCount}}function zo(t,e){const n=jn(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Go(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Un(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Go(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function Go(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(Ho(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Ln(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Go(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=er(o);s&&s===n&&Go(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Go(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function Ho(t,e,n){if(null!=n)switch(n){case 1:return Ln(t,e.nodeIndex).renderElement;case 0:return new Ze(Ln(t,e.nodeIndex).renderElement);case 2:return Ln(t,e.nodeIndex).template;case 3:return Ln(t,e.nodeIndex).viewContainer;case 4:return Un(t,e.nodeIndex).instance}}function $o(t,e,n){const r=lr(t,e,n);r&&pr(t,n.ngContent.index,1,r,null,void 0)}function Wo(t,e){return Qo(128,t,new Array(e+1))}function Ko(t,e){return Qo(32,t,new Array(e))}function Xo(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return Qo(64,t,i)}function Qo(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:br(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Yo(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Jo(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=lr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Zo(t,e){return(null!=t?t.toString():"")+e.suffix}function ts(t,e,n,r){let i=0,o=0,s=0,a=0,u=0,l=null,c=null,h=!1,f=!1,d=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=l,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,s|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=l?l.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,f=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(ns(l,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(d=t),20224&t.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?l.element.publicProviders[zn(t.provider.token)]=t:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[zn(t.provider.token)]=t),e&&(l.element.componentProvider=t)}if(l?(l.childFlags|=t.flags,l.directChildFlags|=t.flags,l.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(l.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)l=t,es(t)||(c=t);else for(;l&&p===l.nodeIndex+l.childCount;){const t=l.parent;t&&(t.childFlags|=l.childFlags,t.childMatchedQueries|=l.childMatchedQueries),c=(l=t)&&es(l)?l.renderParent:l}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||qn,updateRenderer:r||qn,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:d}}function es(t){return 0!=(1&t.flags)&&null===t.element.name}function ns(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function rs(t,e,n,r){const i=ss(t.root,t.renderer,t,e,n);return as(i,t.component,r),us(i),i}function is(t,e,n){const r=ss(t,t.renderer,null,null,e);return as(r,n,n),us(r),r}function os(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,ss(t.root,o,t,e.element.componentProvider,n)}function ss(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function as(t,e,n){t.component=e,t.context=n}function us(t){let e;ir(t)&&(e=Ln(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Fn.setCurrentNode(t,i),201347067&o.flags){case 1:const n=Uo(t,e,o);let a=void 0;if(33554432&o.flags){const e=hr(o.element.componentView);a=Fn.createComponentView(t,o,e,n)}Vo(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?Br(t,o):void 0},16777216&o.flags&&(s.viewContainer=Vr(t,o,s));break;case 2:s=Jo(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:li(t,o)});break;case 16:s={instance:ci(t,o)};break;case 16384:(s=r[i])||(s={instance:hi(t,o)}),32768&o.flags&&as(Ln(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Ii;break;case 8:$o(t,e,o),s=void 0}r[i]=s}vs(t,ms.CreateViewNodes),_s(t,201326592,268435456,0)}function ls(t){fs(t),Fn.updateDirectives(t,1),ys(t,ms.CheckNoChanges),Fn.updateRenderer(t,1),vs(t,ms.CheckNoChanges),t.state&=-97}function cs(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Rn(t,0,256),fs(t),Fn.updateDirectives(t,0),ys(t,ms.CheckAndUpdate),_s(t,67108864,536870912,0);let e=Rn(t,256,512);bi(t,2097152|(e?1048576:0)),Fn.updateRenderer(t,0),vs(t,ms.CheckAndUpdate),_s(t,134217728,536870912,0),bi(t,8388608|((e=Rn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Rn(t,768,1024)}function hs(t,e,n,r,i,o,s,a,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,s,a,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,u,l,c,h){const f=e.bindings.length;let d=!1;return f>0&&Fo(t,e,0,n)&&(d=!0),f>1&&Fo(t,e,1,r)&&(d=!0),f>2&&Fo(t,e,2,i)&&(d=!0),f>3&&Fo(t,e,3,o)&&(d=!0),f>4&&Fo(t,e,4,s)&&(d=!0),f>5&&Fo(t,e,5,a)&&(d=!0),f>6&&Fo(t,e,6,u)&&(d=!0),f>7&&Fo(t,e,7,l)&&(d=!0),f>8&&Fo(t,e,8,c)&&(d=!0),f>9&&Fo(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,s,a,u,l,c,h);case 2:return function(t,e,n,r,i,o,s,a,u,l,c,h){let f=!1;const d=e.bindings,p=d.length;if(p>0&&Qn(t,e,0,n)&&(f=!0),p>1&&Qn(t,e,1,r)&&(f=!0),p>2&&Qn(t,e,2,i)&&(f=!0),p>3&&Qn(t,e,3,o)&&(f=!0),p>4&&Qn(t,e,4,s)&&(f=!0),p>5&&Qn(t,e,5,a)&&(f=!0),p>6&&Qn(t,e,6,u)&&(f=!0),p>7&&Qn(t,e,7,l)&&(f=!0),p>8&&Qn(t,e,8,c)&&(f=!0),p>9&&Qn(t,e,9,h)&&(f=!0),f){let f=e.text.prefix;p>0&&(f+=Zo(n,d[0])),p>1&&(f+=Zo(r,d[1])),p>2&&(f+=Zo(i,d[2])),p>3&&(f+=Zo(o,d[3])),p>4&&(f+=Zo(s,d[4])),p>5&&(f+=Zo(a,d[5])),p>6&&(f+=Zo(u,d[6])),p>7&&(f+=Zo(l,d[7])),p>8&&(f+=Zo(c,d[8])),p>9&&(f+=Zo(h,d[9]));const g=Mn(t,e.nodeIndex).renderText;t.renderer.setValue(g,f)}return f}(t,e,n,r,i,o,s,a,u,l,c,h);case 16384:return function(t,e,n,r,i,o,s,a,u,l,c,h){const f=Un(t,e.nodeIndex),d=f.instance;let p=!1,g=void 0;const m=e.bindings.length;return m>0&&Xn(t,e,0,n)&&(p=!0,g=yi(t,f,e,0,n,g)),m>1&&Xn(t,e,1,r)&&(p=!0,g=yi(t,f,e,1,r,g)),m>2&&Xn(t,e,2,i)&&(p=!0,g=yi(t,f,e,2,i,g)),m>3&&Xn(t,e,3,o)&&(p=!0,g=yi(t,f,e,3,o,g)),m>4&&Xn(t,e,4,s)&&(p=!0,g=yi(t,f,e,4,s,g)),m>5&&Xn(t,e,5,a)&&(p=!0,g=yi(t,f,e,5,a,g)),m>6&&Xn(t,e,6,u)&&(p=!0,g=yi(t,f,e,6,u,g)),m>7&&Xn(t,e,7,l)&&(p=!0,g=yi(t,f,e,7,l,g)),m>8&&Xn(t,e,8,c)&&(p=!0,g=yi(t,f,e,8,c,g)),m>9&&Xn(t,e,9,h)&&(p=!0,g=yi(t,f,e,9,h,g)),g&&d.ngOnChanges(g),65536&e.flags&&Dn(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,s,a,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,u,l,c,h){const f=e.bindings;let d=!1;const p=f.length;if(p>0&&Qn(t,e,0,n)&&(d=!0),p>1&&Qn(t,e,1,r)&&(d=!0),p>2&&Qn(t,e,2,i)&&(d=!0),p>3&&Qn(t,e,3,o)&&(d=!0),p>4&&Qn(t,e,4,s)&&(d=!0),p>5&&Qn(t,e,5,a)&&(d=!0),p>6&&Qn(t,e,6,u)&&(d=!0),p>7&&Qn(t,e,7,l)&&(d=!0),p>8&&Qn(t,e,8,c)&&(d=!0),p>9&&Qn(t,e,9,h)&&(d=!0),d){const d=Vn(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(f.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=s),p>5&&(g[5]=a),p>6&&(g[6]=u),p>7&&(g[7]=l),p>8&&(g[8]=c),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[f[0].name]=n),p>1&&(g[f[1].name]=r),p>2&&(g[f[2].name]=i),p>3&&(g[f[3].name]=o),p>4&&(g[f[4].name]=s),p>5&&(g[f[5].name]=a),p>6&&(g[f[6].name]=u),p>7&&(g[f[7].name]=l),p>8&&(g[f[8].name]=c),p>9&&(g[f[9].name]=h);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,a);break;case 7:g=t.transform(r,i,o,s,a,u);break;case 8:g=t.transform(r,i,o,s,a,u,l);break;case 9:g=t.transform(r,i,o,s,a,u,l,c);break;case 10:g=t.transform(r,i,o,s,a,u,l,c,h)}}d.value=g}return d}(t,e,n,r,i,o,s,a,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,u,l,c,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Fo(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Qn(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=Zo(n[t],r[t]);i=e.text.prefix+i;const o=Mn(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Un(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)Xn(t,e,a,n[a])&&(o=!0,s=yi(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&Dn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Qn(t,e,o,n[o])&&(i=!0);if(i){const i=Vn(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let e=0;e<n.length;e++)o[r[e].name]=n[e];break;case 128:const t=n[0],i=n.slice(1);o=t.transform(...i)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function fs(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Ln(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Zn(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ds(t,e,n,r,i,o,s,a,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,s,a,u,l,c,h){const f=e.bindings.length;f>0&&Yn(t,e,0,n),f>1&&Yn(t,e,1,r),f>2&&Yn(t,e,2,i),f>3&&Yn(t,e,3,o),f>4&&Yn(t,e,4,s),f>5&&Yn(t,e,5,a),f>6&&Yn(t,e,6,u),f>7&&Yn(t,e,7,l),f>8&&Yn(t,e,8,c),f>9&&Yn(t,e,9,h)}(t,e,r,i,o,s,a,u,l,c,h,f):function(t,e,n){for(let r=0;r<n.length;r++)Yn(t,e,r,n[r])}(t,e,r),!1}function ps(t,e){if(jn(t,e.nodeIndex).dirty)throw On(Fn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function gs(t){if(!(128&t.state)){if(ys(t,ms.Destroy),vs(t,ms.Destroy),bi(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=er(t);if(e){const n=e.template._projectedViews;n&&(Rr(n,n.indexOf(t)),Fn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Ln(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Mn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&jn(t,n).destroy()}}(t),ir(t)&&t.renderer.destroy(),t.state|=128}}const ms=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function vs(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?bs(Ln(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ys(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Ln(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)bs(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function bs(t,e){const n=t.state;switch(e){case ms.CheckNoChanges:0==(128&n)&&(12==(12&n)?ls(t):64&n&&ws(t,ms.CheckNoChangesProjectedViews));break;case ms.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ls(t):64&n&&ws(t,e));break;case ms.CheckAndUpdate:0==(128&n)&&(12==(12&n)?cs(t):64&n&&ws(t,ms.CheckAndUpdateProjectedViews));break;case ms.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?cs(t):64&n&&ws(t,e));break;case ms.Destroy:gs(t);break;case ms.CreateViewNodes:us(t)}}function ws(t,e){ys(t,e),vs(t,e)}function _s(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(Fn.setCurrentNode(t,i.nodeIndex),r){case 0:zo(t,i);break;case 1:ps(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let Es=!1;function Cs(t,e,n,r,i,o){const s=i.injector.get(nn);return is(Ts(t,i,s,e,n),r,o)}function Is(t,e,n,r,i,o){const s=i.injector.get(nn),a=Ts(t,i,new ra(s),e,n),u=Ms(r);return ea(qs.create,is,null,[a,u,o])}function Ts(t,e,n,r,i){const o=e.injector.get(xe),s=e.injector.get(te),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function xs(t,e,n,r){const i=Ms(n);return ea(qs.create,rs,null,[t,e,i,r])}function Ss(t,e,n,r){return n=Ns.get(e.element.componentProvider.provider.token)||Ms(n),ea(qs.create,os,null,[t,e,n,r])}function ks(t,e,n,r){return Xr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===As.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=As.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{Os.forEach((r,i)=>{pt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=As.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=ur(i.deps),r.value=i.value)}if(Os.size>0){let e=new Set(t.modules);Os.forEach((r,i)=>{if(e.has(pt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:ur(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[zn(i)]=e}})}}(t=t.factory(()=>qn)),t):t}(r))}const As=new Map,Os=new Map,Ns=new Map;function Ps(t){let e;As.set(t.token,t),"function"==typeof t.token&&(e=pt(t.token))&&"function"==typeof e.providedIn&&Os.set(t.token,t)}function Rs(t,e){const n=hr(e.viewDefFactory),r=hr(n.nodes[0].element.componentView);Ns.set(t,r)}function Ds(){As.clear(),Os.clear(),Ns.clear()}function Ms(t){if(0===As.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&As.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>qn);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=As.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=ur(n.deps),t.value=n.value)}}}}function Ls(t,e,n,r,i,o,s,a,u,l,c,h,f){const d=t.def.nodes[e];return hs(t,d,n,r,i,o,s,a,u,l,c,h,f),224&d.flags?Vn(t,e).value:void 0}function Us(t,e,n,r,i,o,s,a,u,l,c,h,f){const d=t.def.nodes[e];return ds(t,d,n,r,i,o,s,a,u,l,c,h,f),224&d.flags?Vn(t,e).value:void 0}function Vs(t){return ea(qs.detectChanges,cs,null,[t])}function js(t){return ea(qs.checkNoChanges,ls,null,[t])}function Fs(t){return ea(qs.destroy,gs,null,[t])}const qs=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Bs,zs,Gs;function Hs(t,e){zs=t,Gs=e}function $s(t,e,n,r){return Hs(t,e),ea(qs.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Ws(t,e){if(128&t.state)throw Pn(qs[Bs]);return Hs(t,Ys(t,0)),t.def.updateDirectives(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Xs(t,o,r,i):Qs(t,o,r,i),16384&o.flags&&Hs(t,Ys(t,n)),224&o.flags?Vn(t,o.nodeIndex).value:void 0},t)}function Ks(t,e){if(128&t.state)throw Pn(qs[Bs]);return Hs(t,Js(t,0)),t.def.updateRenderer(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Xs(t,o,r,i):Qs(t,o,r,i),3&o.flags&&Hs(t,Js(t,n)),224&o.flags?Vn(t,o.nodeIndex).value:void 0},t)}function Xs(t,e,n,r){if(hs(t,e,n,...r)){const s=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],a=s[t];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(Ae,(...t)=>"-"+t[1].toLowerCase())}`)]=Oe(a))}const r=e.parent,a=Ln(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(a,e,r):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function Qs(t,e,n,r){ds(t,e,n,...r)}function Ys(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Js(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Zs{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=nr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Ln(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Gr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){ta(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&ta(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!ir(t);)t=t.parent;return t.parent?Ln(t.parent,nr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?rr(this.view,this.nodeDef):rr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?t.error.bind(t,...e):qn),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function ta(t,e,n){for(let r in e.references)n[r]=Ho(t,e,e.references[r])}function ea(t,e,n,r){const i=Bs,o=zs,s=Gs;try{Bs=t;const u=e.apply(n,r);return zs=o,Gs=s,Bs=i,u}catch(a){if(Yt(a)||!zs)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Nn(t,e),t}(a,na())}}function na(){return zs?new Zs(zs,Gs):null}class ra{constructor(t){this.delegate=t}createRenderer(t,e){return new ia(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class ia{constructor(t){this.delegate=t,this.debugContextFactory=na,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){!function(t){To.delete(t.nativeNode)}(xo(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new Io(n,null,r);e.name=t,So(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&So(new Co(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&So(new Co(e,null,n)),e}appendChild(t,e){const n=xo(t),r=xo(e);n&&r&&n instanceof Io&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=xo(t),i=xo(e),o=xo(n);r&&i&&r instanceof Io&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=xo(t),r=xo(e);n&&r&&n instanceof Io&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=na();return r&&So(new Io(n,null,r)),n}setAttribute(t,e,n,r){const i=xo(t);i&&i instanceof Io&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=xo(t);r&&r instanceof Io&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=xo(t);n&&n instanceof Io&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=xo(t);n&&n instanceof Io&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=xo(t);i&&i instanceof Io&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=xo(t);r&&r instanceof Io&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=xo(t);r&&r instanceof Io&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=xo(t);r&&r.listeners.push(new Eo(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function oa(t,e,n){return new sa(t,e,n)}class sa extends Ye{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Es)return;Es=!0;const t=re()?{setCurrentNode:Hs,createRootView:Is,createEmbeddedView:xs,createComponentView:Ss,createNgModuleRef:ks,overrideProvider:Ps,overrideComponentView:Rs,clearOverrides:Ds,checkAndUpdateView:Vs,checkNoChangesView:js,destroyView:Fs,createDebugContext:(t,e)=>new Zs(t,e),handleEvent:$s,updateDirectives:Ws,updateRenderer:Ks}:{setCurrentNode:()=>{},createRootView:Cs,createEmbeddedView:rs,createComponentView:os,createNgModuleRef:Xr,overrideProvider:qn,overrideComponentView:qn,clearOverrides:qn,checkAndUpdateView:cs,checkNoChangesView:ls,destroyView:gs,createDebugContext:(t,e)=>new Zs(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Ls:Us,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Ls:Us,t)};Fn.setCurrentNode=t.setCurrentNode,Fn.createRootView=t.createRootView,Fn.createEmbeddedView=t.createEmbeddedView,Fn.createComponentView=t.createComponentView,Fn.createNgModuleRef=t.createNgModuleRef,Fn.overrideProvider=t.overrideProvider,Fn.overrideComponentView=t.overrideComponentView,Fn.clearOverrides=t.clearOverrides,Fn.checkAndUpdateView=t.checkAndUpdateView,Fn.checkNoChangesView=t.checkNoChangesView,Fn.destroyView=t.destroyView,Fn.resolveDep=mi,Fn.createDebugContext=t.createDebugContext,Fn.handleEvent=t.handleEvent,Fn.updateDirectives=t.updateDirectives,Fn.updateRenderer=t.updateRenderer,Fn.dirtyParentQueries=Bo}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(hr(this._ngModuleDefFactory));return Fn.createNgModuleRef(this.moduleType,t||Nt.NULL,this._bootstrapComponents,e)}}class aa{}class ua{constructor(){this.title="Planning Poker"}}class la{}const ca=new xt("Location Initialized");class ha{}const fa=new xt("appBaseHref"),da=(()=>{class t{constructor(e,n){this._subject=new Ci,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(pa(r)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+t.normalizeQueryParams(n))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,pa(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(e,n="",r=null){this._platformStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}replaceState(e,n="",r=null){this._platformStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}return t})();function pa(t){return t.replace(/\/index.html$/,"")}const ga=(()=>(class extends ha{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=da.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+da.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+da.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),ma=(()=>(class extends ha{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return da.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+da.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+da.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+da.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),va=void 0;var ya=["en",[["a","p"],["AM","PM"],va],[["AM","PM"],va,va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",va,"{1} 'at' {0}",va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const ba={},wa=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),_a=new xt("UseV4Plurals");class Ea{}const Ca=(()=>(class extends Ea{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=ba[e];if(n)return n;const r=e.split("-")[0];if(n=ba[r])return n;if("en"===r)return ya;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[18]}(e||this.locale)(t)){case wa.Zero:return"zero";case wa.One:return"one";case wa.Two:return"two";case wa.Few:return"few";case wa.Many:return"many";default:return"other"}}}))();class Ia{}const Ta=(()=>(class{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ve(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${mt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}))(),xa=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})(),Sa=(()=>(class extends xa{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}))();class ka{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}const Aa=(()=>(class{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){re()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ka(null,this._ngForOf,-1,-1),r),i=new Oa(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(n);else{const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Oa(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}))();class Oa{constructor(t,e){this.record=t,this.view=e}}const Na=(()=>(class{constructor(t,e){this._viewContainer=t,this._context=new Pa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ra("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ra("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateGuard_ngIf(t,e){return!0}}))();class Pa{constructor(){this.$implicit=null,this.ngIf=null}}function Ra(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${mt(e)}'.`)}function Da(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${mt(t)}'`)}class Ma{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class La{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Ua=new La,Va=new Ma,ja=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Me(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Ue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Ne(e))return Ua;if(Pe(e))return Va;throw Da(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t})(),Fa=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Da(t,e);return e.toLowerCase()}}return t})(),qa=(()=>(class{}))(),Ba=new xt("DocumentToken"),za="server";function Ga(t){return t===za}const Ha=(()=>{class t{}return t.ngInjectableDef=dt({providedIn:"root",factory:()=>new $a(Tt(Ba),window,Tt(te))}),t})();class $a{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=(()=>[0,0])}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${t}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${t}']`);if(r)return void this.scrollToElement(r)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const Wa=new _(t=>t.complete());function Ka(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):Wa}function Xa(t){const e=new _(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Qa(...t){let e=t[t.length-1];switch(A(e)?t.pop():e=void 0,t.length){case 0:return Ka(e);case 1:return e?H(t,e):Xa(t[0]);default:return H(t,e)}}class Ya extends S{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value}next(t){super.next(this._value=t)}}function Ja(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ja.prototype=Object.create(Error.prototype);const Za=Ja,tu={};class eu{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new nu(t,this.resultSelector))}}class nu extends q{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(tu),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(F(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===tu?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function ru(t){return new _(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?$(n):Ka()).subscribe(e)})}function iu(){return Y(1)}function ou(t,e){return function(n){return n.lift(new su(t,e))}}class su{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new au(t,this.predicate,this.thisArg))}}class au extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function uu(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}uu.prototype=Object.create(Error.prototype);const lu=uu;function cu(t){return function(e){return 0===t?Ka():e.lift(new hu(t))}}class hu{constructor(t){if(this.total=t,this.total<0)throw new lu}call(t,e){return e.subscribe(new fu(t,this.total))}}class fu extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function du(t,e,n){return function(r){return r.lift(new pu(t,e,n))}}class pu{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new gu(t,this.nextOrObserver,this.error,this.complete))}}class gu extends g{constructor(t,e,n,i){super(t),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=i||y,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||y,this._tapError=e.error||y,this._tapComplete=e.complete||y)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const mu=(t=function(){return new Za})=>du({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function vu(t=null){return e=>e.lift(new yu(t))}class yu{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new bu(t,this.defaultValue))}}class bu extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function wu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ou((e,n)=>t(e,n,r)):Q,cu(1),n?vu(e):mu(()=>new Za))}function _u(t){return function(e){const n=new Eu(t),r=e.lift(n);return n.caught=r}}class Eu{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Cu(t,this.selector,this.caught))}}class Cu extends q{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new O(this,void 0,void 0);this.add(r),F(this,n,void 0,void 0,r)}}}function Iu(t){return e=>0===t?Ka():e.lift(new Tu(t))}class Tu{constructor(t){if(this.total=t,this.total<0)throw new lu}call(t,e){return e.subscribe(new xu(t,this.total))}}class xu extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Su(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ou((e,n)=>t(e,n,r)):Q,Iu(1),n?vu(e):mu(()=>new Za))}class ku{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Au(t,this.predicate,this.thisArg,this.source))}}class Au extends g{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ou(t,e){return"function"==typeof e?n=>n.pipe(Ou((n,r)=>$(t(n,r)).pipe(B((t,i)=>e(n,t,r,i))))):e=>e.lift(new Nu(t))}class Nu{constructor(t){this.project=t}call(t,e){return e.subscribe(new Pu(t,this.project))}}class Pu extends q{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new O(this,void 0,void 0);this.destination.add(i),this.innerSubscription=F(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Ru(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Du(t,e,n))}}class Du{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Mu(t,this.accumulator,this.seed,this.hasSeed))}}class Mu extends g{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Lu(t,e){return W(t,e,1)}class Uu{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Vu(t,this.callback))}}class Vu extends g{constructor(t,e){super(t),this.add(new f(e))}}let ju=null;function Fu(){return ju}class qu{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Bu extends qu{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const zu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Gu=3,Hu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$u={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wu=(()=>{if(_t.Node)return _t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Ku extends Bu{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Ku,ju||(ju=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return zu}contains(t,e){return Wu.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Gu&&$u.hasOwnProperty(e)&&(e=$u[e]))}return Hu[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Qu||(Qu=document.querySelector("base"))?Qu.getAttribute("href"):null;return null==e?null:(n=e,Xu||(Xu=document.createElement("a")),Xu.setAttribute("href",n),"/"===Xu.pathname.charAt(0)?Xu.pathname:"/"+Xu.pathname);var n}resetBaseElement(){Qu=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Xu,Qu=null;function Yu(){return!!window.history.pushState}const Ju=(()=>{class t extends la{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Fu().getLocation(),this._history=Fu().getHistory()}getBaseHrefFromDOM(){return Fu().getBaseHref(this._doc)}onPopState(t){Fu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Fu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Yu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Yu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ctorParameters=(()=>[{type:void 0,decorators:[{type:at,args:[Ba]}]}]),t})(),Zu=new xt("TRANSITION_ID"),tl=[{provide:xi,useFactory:function(t,e,n){return()=>{n.get(Si).donePromise.then(()=>{const n=Fu();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Zu,Ba,Nt],multi:!0}];class el{static init(){var t;t=new el,ao=t}addToWindow(t){_t.getAngularTestability=((e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r}),_t.getAllAngularTestabilities=(()=>t.getAllTestabilities()),_t.getAllAngularRootElements=(()=>t.getAllRootElements()),_t.frameworkStabilizers||(_t.frameworkStabilizers=[]),_t.frameworkStabilizers.push(t=>{const e=_t.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Fu().isShadowRoot(e)?this.findTestabilityInTree(t,Fu().getHost(e),!0):this.findTestabilityInTree(t,Fu().parentElement(e),!0):null}}function nl(t,e){"undefined"!=typeof COMPILED&&COMPILED||((_t.ng=_t.ng||{})[t]=e)}const rl=(()=>({ApplicationRef:mo,NgZone:Qi}))();function il(t){return xo(t)}const ol=new xt("EventManagerPlugins"),sl=(()=>(class{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}))();class al{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Fu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}const ul=(()=>(class{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}))(),ll=(()=>(class extends ul{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Fu().remove(t))}}))(),cl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hl=/%COMP%/g,fl="_nghost-%COMP%",dl="_ngcontent-%COMP%";function pl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pl(t,i,n):(i=i.replace(hl,t),n.push(i))}return n}function gl(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}const ml=(()=>(class{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new vl(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Xt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new wl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Xt.Native:case Xt.ShadowDom:return new _l(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=pl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}))();class vl{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(cl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=`${r}:${e}`;const i=cl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=cl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&rn.DashCase?t.style.setProperty(e,n,r&rn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&rn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){bl(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return bl(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gl(n)):this.eventManager.addEventListener(t,e,gl(n))}}const yl=(()=>"@".charCodeAt(0))();function bl(t,e){if(t.charCodeAt(0)===yl)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class wl extends vl{constructor(t,e,n,r){super(t),this.component=n;const i=pl(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=dl.replace(hl,r+"-"+n.id),this.hostAttr=fl.replace(hl,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class _l extends vl{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Xt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=pl(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const El=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Cl=El("addEventListener"),Il=El("removeEventListener"),Tl={},xl="__zone_symbol__propagationStopped",Sl=(()=>{const t="undefined"!=typeof Zone&&Zone[El("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),kl=function(t){return!!Sl&&Sl.hasOwnProperty(t)},Al=function(t){const e=Tl[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[xl];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}},Ol=(()=>(class extends al{constructor(t,e,n){super(t),this.ngZone=e,n&&Ga(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[xl]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Cl]||Qi.isInAngularZone()&&!kl(e))t.addEventListener(e,r,!1);else{let n=Tl[e];n||(n=Tl[e]=El("ANGULAR"+e+"FALSE"));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const s=kl(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}o||t[Cl](e,Al,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[Il];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=Tl[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,Al,!1]):t.removeEventListener.apply(t,[e,n,!1])}}))(),Nl={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Pl=new xt("HammerGestureConfig"),Rl=new xt("HammerLoader"),Dl=(()=>(class{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}))(),Ml=(()=>(class extends al{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!Nl.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=(()=>{}));r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=(()=>{})}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded(function(){n(t)})};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}))(),Ll=["alt","control","meta","shift"],Ul={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Vl=(()=>{class t extends al{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fu().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Ll.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=Fu().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ll.forEach(r=>{r!=n&&(0,Ul[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t})();class jl{}const Fl=(()=>(class extends jl{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Te.NONE:return e;case Te.HTML:return e instanceof Bl?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Ce=Ce||new ie(t);let r=e?String(e):"";n=Ce.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Ce.getInertBodyElement(r)}while(r!==o);const s=new be,a=s.sanitizeChildren(Ie(n)||n);return re()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Ie(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Te.STYLE:return e instanceof zl?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(ke);return e&&ae(e[1])===e[1]||t.match(Se)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(re()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Te.SCRIPT:if(e instanceof Gl)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Te.URL:return e instanceof $l||e instanceof Hl?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ae(String(e)));case Te.RESOURCE_URL:if(e instanceof $l)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof ql)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Bl(t)}bypassSecurityTrustStyle(t){return new zl(t)}bypassSecurityTrustScript(t){return new Gl(t)}bypassSecurityTrustUrl(t){return new Hl(t)}bypassSecurityTrustResourceUrl(t){return new $l(t)}}))();class ql{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Bl extends ql{getTypeName(){return"HTML"}}class zl extends ql{getTypeName(){return"Style"}}class Gl extends ql{getTypeName(){return"Script"}}class Hl extends ql{getTypeName(){return"URL"}}class $l extends ql{getTypeName(){return"ResourceURL"}}const Wl=ho(ko,"browser",[{provide:Pi,useValue:"browser"},{provide:Ni,useValue:function(){Ku.makeCurrent(),el.init()},multi:!0},{provide:la,useClass:Ju,deps:[Ba]},{provide:Ba,useFactory:function(){return document},deps:[]}]);function Kl(){return new te}const Xl=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:ki,useValue:e.appId},{provide:Zu,useExisting:ki},tl]}}}return t})();"undefined"!=typeof window&&window;class Ql{constructor(t,e){this.id=t,this.url=e}}class Yl extends Ql{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jl extends Ql{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zl extends Ql{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tc extends Ql{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ec extends Ql{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nc extends Ql{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rc extends Ql{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ic extends Ql{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oc extends Ql{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ac{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fc{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const dc=(()=>(class{}))(),pc="primary";class gc{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mc(t){return new gc(t)}const vc="ngNavigationCancelingError";function yc(t){const e=Error("NavigationCancelingError: "+t);return e[vc]=!0,e}function bc(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class wc{constructor(t,e){this.routes=t,this.module=e}}function _c(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ec(r,Cc(e,r))}}function Ec(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==pc)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&_c(t.children,e)}function Cc(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ic(t){const e=t.children&&t.children.map(Ic),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pc&&(n.component=dc),n}function Tc(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(t[i=n[o]]!==e[i])return!1;return!0}function xc(t){return Array.prototype.concat.apply([],t)}function Sc(t){return t.length>0?t[t.length-1]:null}function kc(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ac(t){return Pe(t)?t:Ne(t)?$(Promise.resolve(t)):Qa(t)}function Oc(t,e,n){return n?function(t,e){return Tc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Dc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length){return!!Dc(n.segments.slice(0,i.length),i)&&!r.hasChildren()}if(n.segments.length===i.length){if(!Dc(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Dc(n.segments,t)&&!!n.children[pc]&&e(n.children[pc],r,o)}}(e,n,n.segments)}(t.root,e.root)}class Nc{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mc(this.queryParams)),this._queryParamMap}toString(){return Vc.serialize(this)}}class Pc{constructor(t,e){this.segments=t,this.children=e,this.parent=null,kc(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}}class Rc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mc(this.parameters)),this._parameterMap}toString(){return Hc(this)}}function Dc(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Mc(t,e){let n=[];return kc(t.children,(t,r)=>{r===pc&&(n=n.concat(e(t,r)))}),kc(t.children,(t,r)=>{r!==pc&&(n=n.concat(e(t,r)))}),n}class Lc{}class Uc{parse(t){const e=new Qc(t);return new Nc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return jc(e);if(n){const n=e.children[pc]?t(e.children[pc],!1):"",r=[];return kc(e.children,(e,n)=>{n!==pc&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Mc(e,(n,r)=>r===pc?[t(e.children[pc],!1)]:[`${r}:${t(n,!1)}`]);return`${jc(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${qc(e)}=${qc(t)}`).join("&"):`${qc(e)}=${qc(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Vc=new Uc;function jc(t){return t.segments.map(t=>Hc(t)).join("/")}function Fc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qc(t){return Fc(t).replace(/%3B/gi,";")}function Bc(t){return Fc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zc(t){return decodeURIComponent(t)}function Gc(t){return zc(t.replace(/\+/g,"%20"))}function Hc(t){return`${Bc(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Bc(t)}=${Bc(e[t])}`).join("")}`;var e}const $c=/^[^\/()?;=#]+/;function Wc(t){const e=t.match($c);return e?e[0]:""}const Kc=/^[^=?&#]+/,Xc=/^[^?&#]+/;class Qc{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pc([],{}):new Pc([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[pc]=new Pc(t,e)),n}parseSegment(){const t=Wc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Rc(zc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Wc(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Wc(this.remaining);t&&this.capture(n=t)}t[zc(e)]=zc(n)}parseQueryParam(t){const e=function(t){const e=t.match(Kc);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Xc);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=Gc(e),i=Gc(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Wc(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=pc);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[pc]:new Pc([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Yc{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Jc(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Jc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zc(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zc(t,this._root).map(t=>t.value)}}function Jc(t,e){if(t===e.value)return e;for(const n of e.children){const e=Jc(t,n);if(e)return e}return null}function Zc(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Zc(t,n);if(r.length)return r.unshift(e),r}return[]}class th{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function eh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class nh extends Yc{constructor(t,e){super(t),this.snapshot=e,uh(this,t)}toString(){return this.snapshot.toString()}}function rh(t,e){const n=function(t,e){const n=new sh([],{},{},"",{},pc,e,null,t.root,-1,{});return new ah("",new th(n,[]))}(t,e),r=new Ya([new Rc("",{})]),i=new Ya({}),o=new Ya({}),s=new Ya({}),a=new Ya(""),u=new ih(r,i,s,a,o,pc,e,n.root);return u.snapshot=n.root,new nh(new th(u,[]),n)}class ih{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(B(t=>mc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(t=>mc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class sh{constructor(t,e,n,r,i,o,s,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ah extends Yc{constructor(t,e){super(e),this.url=t,uh(this,e)}toString(){return lh(this._root)}}function uh(t,e){e.value._routerState=t,e.children.forEach(e=>uh(t,e))}function lh(t){const e=t.children.length>0?` { ${t.children.map(lh).join(", ")} } `:"";return`${t.value}${e}`}function ch(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Tc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Tc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hh(t,e){var n,r;return Tc(t.params,e.params)&&Dc(n=t.url,r=e.url)&&n.every((t,e)=>Tc(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||hh(t.parent,e.parent))}function fh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function dh(t,e,n,r,i){let o={};return r&&kc(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Nc(n.root===t?e:function t(e,n,r){const i={};return kc(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Pc(e.segments,i)}(n.root,t,e),o,i)}class ph{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Sc(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gh{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function mh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[pc]:`${t}`}function vh(t,e,n){if(t||(t=new Pc([],{})),0===t.segments.length&&t.hasChildren())return yh(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=mh(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Eh(s,a,e))return o;r+=2}else{if(!Eh(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Pc(t.segments.slice(0,r.pathIndex),{});return e.children[pc]=new Pc(t.segments.slice(r.pathIndex),t.children),yh(e,0,i)}return r.match&&0===i.length?new Pc(t.segments,{}):r.match&&!t.hasChildren()?bh(t,e,n):r.match?yh(t,0,i):bh(t,e,n)}function yh(t,e,n){if(0===n.length)return new Pc(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[pc]:t}:void 0===t[0].outlets?{[pc]:t}:t[0].outlets}(n),i={};return kc(r,(n,r)=>{null!==n&&(i[r]=vh(t.children[r],e,n))}),kc(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Pc(t.segments,i)}}function bh(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=wh(n[i].outlets);return new Pc(r,t)}if(0===i&&fh(n[0])){r.push(new Rc(t.segments[e].path,n[0])),i++;continue}const o=mh(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&fh(s)?(r.push(new Rc(o,_h(s))),i+=2):(r.push(new Rc(o,{})),i++)}return new Pc(r,{})}function wh(t){const e={};return kc(t,(t,n)=>{null!==t&&(e[n]=bh(new Pc([],{}),0,t))}),e}function _h(t){const e={};return kc(t,(t,n)=>e[n]=`${t}`),e}function Eh(t,e,n){return t==n.path&&Tc(e,n.parameters)}const Ch=(t,e,n)=>B(r=>(new Ih(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Ih{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ch(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=eh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),kc(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=eh(t),i=t.value.component?n.children:e;kc(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=eh(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new hc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new lc(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ch(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Th(t.route)}else{const n=function(t){for(let e=r.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Th(t){ch(t.value),t.children.forEach(Th)}function xh(t){return"function"==typeof t}function Sh(t){return t instanceof Nc}class kh{constructor(t){this.segmentGroup=t||null}}class Ah{constructor(t){this.urlTree=t}}function Oh(t){return new _(e=>e.error(new kh(t)))}function Nh(t){return new _(e=>e.error(new Ah(t)))}function Ph(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Rh{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Qe)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,pc).pipe(B(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(_u(t=>{if(t instanceof Ah)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof kh)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,pc).pipe(B(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(_u(t=>{if(t instanceof kh)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Pc([],{[pc]:t}):t;return new Nc(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B(t=>new Pc([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Qa({});const n=[],r=[],i={};return kc(t,(t,o)=>{const s=e(o,t).pipe(B(t=>i[o]=t));o===pc?n.push(s):r.push(s)}),Qa.apply(null,n.concat(r)).pipe(iu(),wu(),B(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Qa(...n).pipe(B(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(_u(t=>{if(t instanceof kh)return Qa(null);throw t}))),iu(),Su(t=>!!t),_u((t,n)=>{if(t instanceof Za||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Qa(new Pc([],{}));throw new kh(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Uh(r)!==o?Oh(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Oh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Nh(i):this.lineralizeSegments(n,i).pipe(W(n=>{const i=new Pc(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:l}=Dh(e,r,i);if(!s)return Oh(e);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Nh(c):this.lineralizeSegments(r,c).pipe(W(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(B(t=>(n._loadedConfig=t,new Pc(r,{})))):Qa(new Pc(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Dh(e,n,r);if(!i)return Oh(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(W(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(n=>Lh(t,e,n)&&Uh(n)!==pc)}(t,n)?{segmentGroup:Mh(new Pc(e,function(t,e){const n={};n[pc]=e;for(const r of t)""===r.path&&Uh(r)!==pc&&(n[Uh(r)]=new Pc([],{}));return n}(r,new Pc(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(n=>Lh(t,e,n))}(t,n)?{segmentGroup:Mh(new Pc(t.segments,function(t,e,n,r){const i={};for(const o of n)Lh(t,e,o)&&!r[Uh(o)]&&(i[Uh(o)]=new Pc([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(B(t=>new Pc(o,t))):0===r.length&&0===s.length?Qa(new Pc(o,{})):this.expandSegment(n,i,r,s,pc,!0).pipe(B(t=>new Pc(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Qa(new wc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Qa(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?$(r).pipe(B(r=>{const i=t.get(r);let o;if(function(t){return t&&xh(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!xh(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ac(o)})).pipe(iu(),(i=(t=>!0===t),t=>t.lift(new ku(i,void 0,t)))):Qa(!0);var i}(t.injector,e,n).pipe(W(n=>n?this.configLoader.load(t.injector,e).pipe(B(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(yc(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Qa(new wc([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Qa(n);if(r.numberOfChildren>1||!r.children[pc])return Ph(t.redirectTo);r=r.children[pc]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Nc(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return kc(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return kc(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Pc(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Dh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||bc)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Mh(t){if(1===t.numberOfChildren&&t.children[pc]){const e=t.children[pc];return new Pc(t.segments.concat(e.segments),e.children)}return t}function Lh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Uh(t){return t.outlet||pc}class Vh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jh{constructor(t,e){this.component=t,this.route=e}}function Fh(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=eh(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dc(t.url,e.url)||!Tc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hh(t,e)||!Tc(t.queryParams,e.queryParams);case"paramsChange":default:return!hh(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);if(l?o.canActivateChecks.push(new Vh(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),l){o.canDeactivateChecks.push(new jh(u&&u.outlet&&u.outlet.component||null,a))}}else a&&Bh(n,u,o),o.canActivateChecks.push(new Vh(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),kc(s,(t,e)=>Bh(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function qh(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Bh(t,e,n){const r=eh(t),i=t.value;kc(r,(t,r)=>{Bh(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new jh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const zh=Symbol("INITIAL_VALUE");function Gh(){return Ou(t=>(function(...t){let e=null,n=null;return A(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),H(t,n).lift(new eu(e))})(...t.map(t=>t.pipe(Iu(1),function(...t){return e=>{let n=t[t.length-1];A(n)?t.pop():n=null;const r=t.length;return function(...t){return iu()(Qa(...t))}(1!==r||n?r>0?H(t,n):Ka(n):Xa(t[0]),e)}}(zh)))).pipe(Ru((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==zh)return t;if(r===zh&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Sh(r))return r}return t},t)},zh),ou(t=>t!==zh),B(t=>Sh(t)?t:!0===t),Iu(1)))}function Hh(t,e){return null!==t&&e&&e(new cc(t)),Qa(!0)}function $h(t,e){return null!==t&&e&&e(new uc(t)),Qa(!0)}function Wh(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Qa(r.map(r=>ru(()=>{const i=qh(r,e,n);let o;if(function(t){return t&&xh(t.canActivate)}(i))o=Ac(i.canActivate(e,t));else{if(!xh(i))throw new Error("Invalid CanActivate guard");o=Ac(i(e,t))}return o.pipe(Su())}))).pipe(Gh()):Qa(!0)}function Kh(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>ru(()=>Qa(e.guards.map(i=>{const o=qh(i,e.node,n);let s;if(function(t){return t&&xh(t.canActivateChild)}(o))s=Ac(o.canActivateChild(r,t));else{if(!xh(o))throw new Error("Invalid CanActivateChild guard");s=Ac(o(r,t))}return s.pipe(Su())})).pipe(Gh())));return Qa(i).pipe(Gh())}class Xh{}class Qh{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=Zh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,pc),r=new sh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pc,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new th(r,n),o=new ah(this.url,i);return this.inheritParamsAndData(o._root),Qa(o)}catch(t){return new _(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=oh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Mc(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===pc?-1:e.value.outlet===pc?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Xh))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Xh}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Xh;if((t.outlet||pc)!==r)throw new Xh;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Sc(n).parameters:{};i=new sh(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nf(t),r,t.component,t,Yh(e),Jh(e)+n.length,rf(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Xh;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||bc)(n,t,e);if(!r)throw new Xh;const i={};kc(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new sh(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nf(t),r,t.component,t,Yh(e),Jh(e)+o.length,rf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=Zh(e,o,s,a,this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new th(i,t)]}if(0===a.length&&0===l.length)return[new th(i,[])];const c=this.processSegment(a,u,l,pc);return[new th(i,c)]}}function Yh(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Jh(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zh(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(n=>tf(t,e,n)&&ef(n)!==pc)}(t,n)){const i=new Pc(e,function(t,e,n,r){const i={};i[pc]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&ef(o)!==pc){const n=new Pc([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ef(o)]=n}return i}(t,e,r,new Pc(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(n=>tf(t,e,n))}(t,n)){const o=new Pc(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(tf(t,n,a)&&!i[ef(a)]){const n=new Pc([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ef(a)]=n}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Pc(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function tf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ef(t){return t.outlet||pc}function nf(t){return t.data||{}}function rf(t){return t.resolve||{}}function of(t,e,n,r){const i=qh(t,e,r);return Ac(i.resolve?i.resolve(e,n):i(e,n))}function sf(t){return function(e){return e.pipe(Ou(e=>{const n=t(e);return n?$(n).pipe(B(()=>e)):$([e])}))}}class af{}class uf{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const lf=new xt("ROUTES");class cf{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new wc(xc(r.injector.get(lf)).map(Ic),r)}))}loadModuleFactory(t){return"string"==typeof t?$(this.loader.load(t)):Ac(t()).pipe(W(t=>t instanceof Ye?Qa(t):$(this.compiler.compileModuleAsync(t))))}}class hf{}class ff{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function df(t){throw t}function pf(t,e,n){return e.parse("/")}function gf(t,e){return Qa(null)}class mf{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=df,this.malformedUriErrorHandler=pf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gf,afterPreactivation:gf},this.urlHandlingStrategy=new ff,this.routeReuseStrategy=new uf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Qe),this.console=i.get(Di);const u=i.get(Qi);this.isNgZoneEnabled=u instanceof Qi,this.resetConfig(a),this.currentUrlTree=new Nc(new Pc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cf(o,s,t=>this.triggerEvent(new sc(t)),t=>this.triggerEvent(new ac(t))),this.routerState=rh(this.currentUrlTree,this.rootComponentType),this.transitions=new Ya({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ou(t=>0!==t.id),B(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ou(t=>{let n=!1,r=!1;return Qa(t).pipe(du(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Ou(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Qa(t).pipe(Ou(t=>{const n=this.transitions.getValue();return e.next(new Yl(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Wa:[t]}),Ou(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(Ou(i=>(function(t,e,n,r,o){return new Rh(t,e,n,i.extractedUrl,o).apply()})(t,e,n,0,r).pipe(B(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),du(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(W(o=>(function(t,e,n,r,i="emptyOnly",o="legacy"){return new Qh(t,e,n,r,i,o).recognize()})(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(B(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),du(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),du(t=>{const n=new ec(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Yl(n,this.serializeUrl(r),i,o);e.next(a);const u=rh(r,this.rootComponentType).snapshot;return Qa(Object.assign({},t,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Wa}),sf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),du(t=>{const e=new nc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),B(t=>Object.assign({},t,{guards:Fh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(W(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Qa(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return $(s).pipe(W(t=>(function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Qa(o.map(o=>{const s=qh(o,e,i);let a;if(function(t){return t&&xh(t.canDeactivate)}(s))a=Ac(s.canDeactivate(t,e,n,r));else{if(!xh(s))throw new Error("Invalid CanDeactivate guard");a=Ac(s(t,e,n,r))}return a.pipe(Su())})).pipe(Gh()):Qa(!0)})(t.component,t.route,n,e,r)),Su(t=>!0!==t,!0))}(0,r,i,t).pipe(W(n=>n&&function(t){return"boolean"==typeof n}()?function(t,e,n,r){return $(o).pipe(Lu(e=>$([$h(e.route.parent,r),Hh(e.route,r),Kh(t,e.path,n),Wh(t,e.route,n)]).pipe(iu(),Su(t=>!0!==t,!0))),Su(t=>!0!==t,!0))}(r,0,t,e):Qa(n)),B(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),du(t=>{if(Sh(t.guardsResult)){const e=yc(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),du(t=>{const e=new rc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ou(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Zl(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),sf(t=>{if(t.guards.canActivateChecks.length)return Qa(t).pipe(du(t=>{const e=new ic(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(W(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?$(i).pipe(Lu(n=>(function(t,e,n,i){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Qa({});if(1===i.length){const o=i[0];return of(t[o],e,n,r).pipe(B(t=>({[o]:t})))}const o={};return $(i).pipe(W(i=>of(t[i],e,n,r).pipe(B(t=>(o[i]=t,t))))).pipe(wu(),B(()=>o))}(t._resolve,t,r,i).pipe(B(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,oh(t,n).resolve),null)))})(n.route,0,t,e)),function(t,e){return arguments.length>=2?function(e){return b(Ru(t,void 0),cu(1),vu(void 0))(e)}:function(e){return b(Ru((e,n,r)=>t(e)),cu(1))(e)}}((t,e)=>t),B(t=>n)):Qa(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),du(t=>{const e=new oc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),sf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),B(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new th(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new ih(new Ya((i=n.value).url),new Ya(i.params),new Ya(i.queryParams),new Ya(i.fragment),new Ya(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new th(r,o)}}var i}(t,e._root,n?n._root:void 0);return new nh(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),du(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Ch(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),du({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Uu(t))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Zl(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),_u(n=>{if(r=!0,function(t){return n&&n[vc]}()){const r=Sh(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Zl(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new tc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return Wa}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_c(t),this.config=t.map(Ic),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;re()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return dh(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ph(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return kc(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ph(n,e,r)}(n);if(o.toRoot())return dh(e.root,new Pc([],{}),e,r,i);const s=function(t,n,r){if(t.isAbsolute)return new gh(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new gh(r.snapshot._urlSegment,!0,0);const i=fh(t.commands[0])?0:1;return function(e,n,o){let s=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;for(;u>a;){if(u-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new gh(s,!1,a-u)}()}(o,0,t),a=s.processChildren?yh(s.segmentGroup,s.index,o.commands):vh(s.segmentGroup,s.index,o.commands);return dh(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,c,l)}navigateByUrl(t,e={skipLocationChange:!1}){re()&&this.isNgZoneEnabled&&!Qi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Sh(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Sh(t))return Oc(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Oc(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Jl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((t,e)=>{o=t,s=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}const vf=(()=>(class{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Jl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){re()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:yf(this.skipLocationChange),replaceUrl:yf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:yf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:yf(this.preserveFragment)})}}))();function yf(t){return""===t||!!t}class bf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wf,this.attachRef=null}}class wf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new bf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const _f=(()=>(class{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ci,this.deactivateEvents=new Ci,this.name=r||pc,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ef(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}))();class Ef{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ih?this.route:t===wf?this.childContexts:this.parent.get(t,e)}}class Cf{}class If{preload(t,e){return e().pipe(_u(()=>Qa(null)))}}class Tf{preload(t,e){return Qa(null)}}const xf=(()=>(class{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new cf(e,n,e=>t.triggerEvent(new sc(e)),e=>t.triggerEvent(new ac(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ou(t=>t instanceof Jl),Lu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Qe);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return $(n).pipe(Y(),B(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(W(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}))();class Sf{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new fc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const kf=new xt("ROUTER_CONFIGURATION"),Af=new xt("ROUTER_FORROOT_GUARD"),Of=[da,{provide:Lc,useClass:Uc},{provide:mf,useFactory:Uf,deps:[mo,Lc,wf,da,Nt,Ti,Fi,lf,kf,[hf,new ut],[af,new ut]]},wf,{provide:ih,useFactory:Vf,deps:[mf]},{provide:Ti,useClass:wo},xf,Tf,If,{provide:kf,useValue:{enableTracing:!1}}];function Nf(){return new co("Router",mf)}const Pf=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Of,Lf(e),{provide:Af,useFactory:Mf,deps:[[mf,new ut,new ct]]},{provide:kf,useValue:n||{}},{provide:ha,useFactory:Df,deps:[la,[new at(fa),new ut],kf]},{provide:Sf,useFactory:Rf,deps:[mf,Ha,kf]},{provide:Cf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Tf},{provide:co,multi:!0,useFactory:Nf},[jf,{provide:xi,multi:!0,useFactory:Ff,deps:[jf]},{provide:Bf,useFactory:qf,deps:[jf]},{provide:Ri,multi:!0,useExisting:Bf}]]}}static forChild(e){return{ngModule:t,providers:[Lf(e)]}}}return t})();function Rf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Sf(t,e,n)}function Df(t,e,n={}){return n.useHash?new ga(t,e):new ma(t,e)}function Mf(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Lf(t){return[{provide:Kt,multi:!0,useValue:t},{provide:lf,multi:!0,useValue:t}]}function Uf(t,e,n,r,i,o,s,a,u={},l,c){const h=new mf(null,e,n,r,i,o,s,xc(a));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Fu();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Vf(t){return t.routerState.root}const jf=(()=>(class{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(ca,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(mf),r=this.injector.get(kf);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?Qa(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(kf),n=this.injector.get(xf),r=this.injector.get(Sf),i=this.injector.get(mf),o=this.injector.get(mo);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}))();function Ff(t){return t.appInitializer.bind(t)}function qf(t){return t.bootstrapListener.bind(t)}const Bf=new xt("Router Initializer");var zf=Wn({encapsulation:2,styles:[],data:{}});function Gf(t){return ts(0,[(t()(),Lo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),oi(1,212992,null,0,_f,[wf,kn,We,[8,null],_n],null,null)],function(t,e){t(e,1,0)},null)}function Hf(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"ng-component",[],null,null,null,Gf,zf)),oi(1,49152,null,0,dc,[],null,null)],null,null)}var $f=Mr("ng-component",dc,Hf,{},{},[]),Wf=n("Wcq6"),Kf=n.n(Wf);class Xf{constructor(t,e){this.auth=t,this.router=e}ngOnInit(){}login(){this.auth.auth.signInWithPopup(this.newGoogleAuthProvider()).then(t=>{this.router.navigateByUrl("/rooms")},t=>{this.logError(t)})}newGoogleAuthProvider(){return new Wf.auth.GoogleAuthProvider}logError(t){console.log(t)}}class Qf extends f{constructor(t,e){super()}schedule(t,e=0){return this}}class Yf extends Qf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Jf extends Yf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}const Zf=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=(()=>Date.now()),t})();class td extends Zf{constructor(t,e=Zf.now){super(t,()=>td.delegate&&td.delegate!==this?td.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return td.delegate&&td.delegate!==this?td.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class ed extends td{}const nd=new ed(Jf),rd=new td(Yf);let id=1;const od={},sd={setImmediate(t){const e=id++;return od[e]=t,Promise.resolve().then(()=>(function(t){const e=od[t];e&&e()})(e)),e},clearImmediate(t){delete od[t]}};class ad extends Yf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=sd.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(sd.clearImmediate(e),t.scheduled=void 0)}}class ud extends td{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const ld=new ud(ad);class cd extends _{constructor(t,e=0,n=ld){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(u(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=ld)}static create(t,e=0,n=ld){return new cd(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(cd.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class hd{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new cd(e,this.delay,this.scheduler).subscribe(t)}}const fd=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Qa(this.value);case"E":return t=this.error,new _(e=>e.error(t));case"C":return Ka()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function dd(t,e=0){return function(n){return n.lift(new pd(t,e))}}class pd{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new gd(t,this.scheduler,this.delay))}}class gd extends g{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(gd.dispatch,this.delay,new md(t,this.destination)))}_next(t){this.scheduleMessage(fd.createNext(t))}_error(t){this.scheduleMessage(fd.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(fd.createComplete()),this.unsubscribe()}}class md{constructor(t,e){this.notification=t,this.destination=e}}function vd(){}class yd{constructor(t,e=nd){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class bd{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vd,{},vd,vd)),e.pipe(du(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class wd{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new yd(Zone.current)),this.insideAngular=t.run(()=>new yd(Zone.current,rd))}}function _d(t,e){return function(n){return Ga(e)&&(n=n.lift(new bd(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new hd(t,e))}}(t.outsideAngular),dd(t.insideAngular))}}var Ed;const Cd=new xt("angularfire2.app.options"),Id=new xt("angularfire2.app.nameOrConfig"),Td=Cd,xd=Id;class Sd{}const kd=new an("5.4.2");function Ad(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Kf.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Kf.a.initializeApp(t,r))}const Od=(()=>Ed=class{constructor(t){Kf.a.registerVersion&&(Kf.a.registerVersion("angularfire",kd.full,t.toString()),Kf.a.registerVersion("angular",un.full))}static initializeApp(t,e){return{ngModule:Ed,providers:[{provide:Td,useValue:t},{provide:xd,useValue:e}]}}})(),Nd=(()=>(class{constructor(t,e,n,r){const i=_d(new wd(r),n);this.auth=r.runOutsideAngular(()=>Ad(t,r,e).auth()),this.authState=new _(t=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(i),this.user=new _(t=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(i),this.idToken=this.user.pipe(Ou(t=>t?$(t.getIdToken()):Qa(null))),this.idTokenResult=this.user.pipe(Ou(t=>t?$(t.getIdTokenResult()):Qa(null)))}}))();var Pd=Wn({encapsulation:0,styles:[["[_nghost-%COMP%]{display:contents}"]],data:{}});function Rd(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"button",[["class","btn btn-lg btn-primary btn-block btn-login"],["type","submit"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.login()&&r),r},null,null)),(t()(),Yo(-1,null,["Login Google"]))],null,null)}function Dd(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-login",[],null,null,null,Rd,Pd)),oi(1,114688,null,0,Xf,[Nd,mf],null,null)],function(t,e){t(e,1,0)},null)}var Md=Mr("app-login",Xf,Dd,{},{},[]);class Ld{constructor(t,e){this.angularFireAuth=t,this.router=e}ngOnInit(){}logout(){this.angularFireAuth.auth.signOut(),this.router.navigateByUrl("/login")}}var Ud=Wn({encapsulation:0,styles:[[".main-title[_ngcontent-%COMP%]{text-decoration:none;color:var(--dark)}.main-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;border:2px solid var(--dark);border-radius:4px;width:22px;height:28px;line-height:21px;box-sizing:border-box;padding:0 0 0 2px;background-color:var(--white);margin-right:-4px;transition-duration:.3s;-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0)}.main-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span.red[_ngcontent-%COMP%]{color:var(--red)}.main-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{transition-duration:.3s;-webkit-transform:rotate(340deg) translate(0,-5px);transform:rotate(340deg) translate(0,-5px);top:-6px}.main-title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:12px;font-weight:700}.user-name[_ngcontent-%COMP%]{text-transform:capitalize}"]],data:{}});function Vd(t){return ts(0,[(t()(),Lo(0,0,null,null,2,"nav",[["class","my-2 my-md-0 mr-md-3 user-name"]],null,null,null,null,null)),(t()(),Yo(1,null,[" "," "])),Wo(2,1)],null,function(t,e){var n=Gn(e,1,0,t(e,2,0,$r(e.parent,0),e.context.ngIf.displayName));t(e,1,0,n)})}function jd(t){return ts(0,[si(0,Fa,[]),(t()(),Lo(1,0,null,null,20,"div",[["class","d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,13,"h5",[["class","my-0 mr-md-auto font-weight-normal"]],null,null,null,null,null)),(t()(),Lo(3,0,null,null,12,"a",[["class","main-title"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==$r(t,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),oi(4,671744,null,0,vf,[mf,ih,ha],{routerLink:[0,"routerLink"]},null),(t()(),Lo(5,0,null,null,8,"span",[["class","icon"]],null,null,null,null,null)),(t()(),Lo(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2660"])),(t()(),Lo(8,0,null,null,1,"span",[["class","red"]],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2665"])),(t()(),Lo(10,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2663"])),(t()(),Lo(12,0,null,null,1,"span",[["class","red"]],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2666"])),(t()(),Lo(14,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(t()(),Yo(-1,null,["Planning Poker"])),(t()(),Mo(16777216,null,null,2,null,Vd)),oi(17,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),si(131072,ja,[_n]),(t()(),Lo(19,0,null,null,2,"a",[["class","btn btn-outline-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==$r(t,20).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.logout()&&r),r},null,null)),oi(20,671744,null,0,vf,[mf,ih,ha],null,null),(t()(),Yo(-1,null,["Sair"]))],function(t,e){var n=e.component;t(e,4,0,"/"),t(e,17,0,Gn(e,17,0,$r(e,18).transform(n.angularFireAuth.user)))},function(t,e){t(e,3,0,$r(e,4).target,$r(e,4).href),t(e,19,0,$r(e,20).target,$r(e,20).href)})}class Fd{constructor(){}ngOnInit(){}}var qd=Wn({encapsulation:0,styles:[[""]],data:{}});function Bd(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-menu",[],null,null,null,jd,Ud)),oi(1,114688,null,0,Ld,[Nd,mf],null,null),(t()(),Lo(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),oi(3,212992,null,0,_f,[wf,kn,We,[8,null],_n],null,null)],function(t,e){t(e,1,0),t(e,3,0)},null)}function zd(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-main",[],null,null,null,Bd,qd)),oi(1,114688,null,0,Fd,[],null,null)],function(t,e){t(e,1,0)},null)}var Gd=Mr("app-main",Fd,zd,{},{},[]);class Hd{constructor(){}ngOnInit(){}}var $d=Wn({encapsulation:0,styles:[[".loading-content[_ngcontent-%COMP%]{width:110px;text-align:center}.loading-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-weight:700;margin-top:10px;display:block}.loading-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;border:2px solid var(--dark);border-radius:4px;width:22px;height:28px;line-height:21px;box-sizing:border-box;padding:0 0 0 2px;background-color:var(--white);margin-right:-4px;transition-duration:.3s;-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0);-webkit-animation-duration:3s;animation-duration:3s;-webkit-animation-play-state:running;animation-play-state:running;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-delay:0;animation-delay:0;-webkit-animation-timing-function:1;animation-timing-function:1;-webkit-animation-direction:normal;animation-direction:normal}.loading-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span.red[_ngcontent-%COMP%]{color:var(--red)}.loading-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-name:spadesAnimation;animation-name:spadesAnimation}.loading-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-name:heartsAnimation;animation-name:heartsAnimation}.loading-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-name:clubsAnimation;animation-name:clubsAnimation}.loading-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-name:diamondsAnimation;animation-name:diamondsAnimation}@-webkit-keyframes spadesAnimation{0%,100%,25%,50%{-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0)}75%{-webkit-transform:rotate(340deg) translate(45px,15px);transform:rotate(340deg) translate(45px,15px)}}@keyframes spadesAnimation{0%,100%,25%,50%{-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0)}75%{-webkit-transform:rotate(340deg) translate(45px,15px);transform:rotate(340deg) translate(45px,15px)}}@-webkit-keyframes heartsAnimation{0%,100%,50%{-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0)}25%{-webkit-transform:rotate(340deg) translate(-15px,-5px);transform:rotate(340deg) translate(-15px,-5px)}75%{-webkit-transform:rotate(340deg) translate(30px,10px);transform:rotate(340deg) translate(30px,10px)}}@keyframes heartsAnimation{0%,100%,50%{-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0)}25%{-webkit-transform:rotate(340deg) translate(-15px,-5px);transform:rotate(340deg) translate(-15px,-5px)}75%{-webkit-transform:rotate(340deg) translate(30px,10px);transform:rotate(340deg) translate(30px,10px)}}@-webkit-keyframes clubsAnimation{0%,100%,50%{-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0)}25%{-webkit-transform:rotate(340deg) translate(-30px,-10px);transform:rotate(340deg) translate(-30px,-10px)}75%{-webkit-transform:rotate(340deg) translate(15px,5px);transform:rotate(340deg) translate(15px,5px)}}@keyframes clubsAnimation{0%,100%,50%{-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0)}25%{-webkit-transform:rotate(340deg) translate(-30px,-10px);transform:rotate(340deg) translate(-30px,-10px)}75%{-webkit-transform:rotate(340deg) translate(15px,5px);transform:rotate(340deg) translate(15px,5px)}}@-webkit-keyframes diamondsAnimation{0%,100%,50%,75%{-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0)}25%{-webkit-transform:rotate(340deg) translate(-45px,-15px);transform:rotate(340deg) translate(-45px,-15px)}}@keyframes diamondsAnimation{0%,100%,50%,75%{-webkit-transform:rotate(340deg) translate(0,0);transform:rotate(340deg) translate(0,0)}25%{-webkit-transform:rotate(340deg) translate(-45px,-15px);transform:rotate(340deg) translate(-45px,-15px)}}"]],data:{}});function Wd(t){return ts(0,[(t()(),Lo(0,0,null,null,11,"div",[["class","loading-content"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,8,"span",[["class","icon"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2660"])),(t()(),Lo(4,0,null,null,1,"span",[["class","red"]],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2665"])),(t()(),Lo(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2663"])),(t()(),Lo(8,0,null,null,1,"span",[["class","red"]],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2666"])),(t()(),Lo(10,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(t()(),Yo(-1,null,[" carregando... "]))],null,null)}class Kd extends q{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=F(this,e[r],null,r);t&&this.add(t)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}const Xd=new xt("NgValueAccessor"),Qd=(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}))(),Yd=new xt("CompositionEventMode"),Jd=(()=>(class{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Fu()?Fu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}))();class Zd{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class tp extends Zd{get formDirective(){return null}get path(){return null}}function ep(){throw new Error("unimplemented")}class np extends Zd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return ep()}get asyncValidator(){return ep()}}class rp{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const ip=(()=>(class extends rp{constructor(t){super(t)}}))(),op=(()=>(class extends rp{constructor(t){super(t)}}))();function sp(t){return null==t||0===t.length}const ap=new xt("NgValidators"),up=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class lp{static min(t){return e=>{if(sp(e.value)||sp(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(sp(e.value)||sp(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return sp(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return sp(t.value)?null:up.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(sp(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return lp.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(sp(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(cp);return 0==e.length?null:function(t){return fp(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(cp);return 0==e.length?null:function(t){return function t(...e){let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),0===e.length?Wa:n?t(e).pipe(B(t=>n(...t))):new _(t=>new Kd(t,e))}(function(t,n){return e.map(e=>e(t))}(t).map(hp)).pipe(B(fp))}}}function cp(t){return null!=t}function hp(t){const e=Ne(t)?$(t):t;if(!Pe(e))throw new Error("Expected validator to return Promise or Observable.");return e}function fp(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function dp(t){return t.validate?e=>t.validate(e):t}function pp(t){return t.validate?e=>t.validate(e):t}const gp=(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}))(),mp=(()=>(class{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}))(),vp=(()=>(class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(np),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=(()=>{t(this.value),this._registry.select(this)})}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}))(),yp={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class bp{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${yp.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${yp.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${yp.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${yp.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${yp.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${yp.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function wp(t,e){return[...e.path,t]}function _p(t,e){t||Tp(e,"Cannot find control with"),e.valueAccessor||Tp(e,"No value accessor for form control with"),t.validator=lp.compose([t.validator,e.validator]),t.asyncValidator=lp.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ep(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ep(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Ep(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Cp(t,e){null==t&&Tp(e,"Cannot find control with"),t.validator=lp.compose([t.validator,e.validator]),t.asyncValidator=lp.composeAsync([t.asyncValidator,e.asyncValidator])}function Ip(t){return Tp(t,"There is no FormControl instance attached to form control element with")}function Tp(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function xp(t){return null!=t?lp.compose(t.map(dp)):null}function Sp(t){return null!=t?lp.composeAsync(t.map(pp)):null}const kp=[Qd,(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}))(),gp,(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=Me}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=(e=>{this.value=this._getOptionValue(e),t(this.value)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}))(),(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=Me}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=((t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)})}else e=((t,e)=>{t._setSelected(!1)});this._optionMap.forEach(e)}registerOnChange(t){this.onChange=(e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}))(),vp],Ap="VALID",Op="INVALID",Np="PENDING",Pp="DISABLED";function Rp(t){const e=Mp(t)?t.validators:t;return Array.isArray(e)?xp(e):e||null}function Dp(t,e){const n=Mp(e)?e.asyncValidators:t;return Array.isArray(n)?Sp(n):n||null}function Mp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Lp{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Ap}get invalid(){return this.status===Op}get pending(){return this.status==Np}get disabled(){return this.status===Pp}get enabled(){return this.status!==Pp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Rp(t)}setAsyncValidators(t){this.asyncValidator=Dp(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Np,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pp,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ap,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ap&&this.status!==Np||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pp:Ap}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Np;const e=hp(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof Vp?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof jp&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ci,this.statusChanges=new Ci}_calculateStatus(){return this._allControlsDisabled()?Pp:this.errors?Op:this._anyControlsHaveStatus(Np)?Np:this._anyControlsHaveStatus(Op)?Op:Ap}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Mp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Up extends Lp{constructor(t=null,e,n){super(Rp(e),Dp(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Vp extends Lp{constructor(t,e,n){super(Rp(e),Dp(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Up?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class jp extends Lp{constructor(t,e,n){super(Rp(e),Dp(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Up?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}class Fp extends tp{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return wp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return xp(this._validators)}get asyncValidator(){return Sp(this._asyncValidators)}_checkParentType(){}}const qp=(()=>(class{}))(),Bp=new xt("NgModelWithFormControlWarning"),zp=(()=>(class extends tp{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Ci}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return _p(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(e,n){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives)}addFormGroup(t){const e=this.form.get(t.path);Cp(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Cp(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Ip(e)),e.valueAccessor.registerOnTouched(()=>Ip(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&_p(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=xp(this._validators);this.form.validator=lp.compose([this.form.validator,t]);const e=Sp(this._asyncValidators);this.form.asyncValidator=lp.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||bp.missingFormException()}}))(),Gp=(()=>(class extends Fp{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){$p(this._parent)&&bp.groupParentException()}}))(),Hp=(()=>(class extends tp{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return wp(this.name,this._parent)}get validator(){return xp(this._validators)}get asyncValidator(){return Sp(this._asyncValidators)}_checkParentType(){$p(this._parent)&&bp.arrayParentException()}}))();function $p(t){return!(t instanceof Gp||t instanceof zp||t instanceof Hp)}const Wp=(()=>{class t extends np{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new Ci,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Tp(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===Jd?n=e:function(t){return kp.some(e=>t.constructor===e)}(e)?(r&&Tp(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Tp(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Tp(t,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(t){bp.disabledAttrWarning()}ngOnChanges(e){var n,r;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Me(e,n.currentValue)}(e,this.viewModel)&&("formControlName",n=t,this,r=this._ngModelWarningConfig,re()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(bp.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return wp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return xp(this._rawValidators)}get asyncValidator(){return Sp(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Gp)&&this._parent instanceof Fp?bp.ngModelGroupException():this._parent instanceof Gp||this._parent instanceof zp||this._parent instanceof Hp||bp.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})(),Kp=(()=>(class{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?lp.required(t):null}registerOnValidatorChange(t){this._onChange=t}}))(),Xp=(()=>(class{}))(),Qp=(()=>(class{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Vp(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Up(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new jp(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Up||t instanceof Vp||t instanceof jp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}))(),Yp=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Bp,useValue:e.warnOnNgModelWithFormControl}]}}}return t})();class Jp{static FieldInvalid(t){return t.invalid&&(t.dirty||t.touched)}static MarkFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&Jp.MarkFormGroupTouched(t)})}}class Zp{constructor(t,e){this.firestore=t,this.router=e,this.loading=!1,this.messageError="",this.form=new Vp({roomName:new Up("",lp.required)})}ngOnInit(){}onSubmit(){this.validateForm()&&(this.loading=!0,this.firestore.collection("rooms").add(Object.assign({name:this.form.get("roomName").value,average:"-",isFlip:!1,currentTask:0,tasks:[],participants:[],votes:[]})).then(t=>{this.loading=!1,this.goToTaskPage(t)}))}goToTaskPage(t){this.router.navigateByUrl(`/tasks/${t.id}`)}validateForm(){return this.messageError="",Jp.MarkFormGroupTouched(this.form),this.form.valid?!this.roomAlreadyExist()||(this.messageError="Esta sala j\xe1 existe \u{1f914}",!1):(this.messageError="Voc\xea se esqueceu de preencher o nome da sala \u{1f61c}",!1)}roomAlreadyExist(){return void 0!==this.rooms.find(t=>t.name.toLowerCase().trim()==this.form.get("roomName").value.toLowerCase().trim())}FieldInvalid(t){return Jp.FieldInvalid(this.form.get(t))}}function tg(t,e){return function(t,e=rd){return new _(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function eg(t,e){return tg(t,e).pipe(B(t=>({payload:t,type:"query"})))}function ng(t,e){return eg(t,e).pipe(B(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function rg(t,e,n){return eg(t,n).pipe(B(t=>t.payload.docChanges()),Ru((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),B(t=>t.map(t=>({type:t.type,payload:t}))))}function ig(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class og{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?ng(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,B(e=>e.filter(e=>t.indexOf(e.type)>-1)),ou(t=>t.length>0)):ng(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ru((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ig(t);return rg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return eg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,B(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return $(this.query.get(t)).pipe(dd(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new sg(this.ref.doc(t),this.afs)}}class sg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=dg(n,e);return new og(r,i,this.afs)}snapshotChanges(){return tg(this.ref,this.afs.schedulers.outsideAngular).pipe(B(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(B(t=>t.payload.data()))}get(t){return $(this.ref.get(t)).pipe(dd(this.afs.schedulers.insideAngular))}}class ag{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ng(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,B(e=>e.filter(e=>t.indexOf(e.type)>-1)),ou(t=>t.length>0)):ng(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ru((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ig(t);return rg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return eg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,B(t=>t.payload.docs.map(t=>t.data())))}get(t){return $(this.query.get(t)).pipe(dd(this.afs.schedulers.insideAngular))}}const ug=new xt("angularfire2.enableFirestorePersistence"),lg=new xt("angularfire2.firestore.persistenceSettings"),cg=new xt("angularfire2.firestore.settings"),hg=parseInt(Kf.a.SDK_VERSION.split(".")[0]),fg=hg<5||5==hg&&parseInt(Kf.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function dg(t,e=(t=>t)){return{query:e(t),ref:t}}const pg=(()=>(class{constructor(t,e,n,r,i,o,s){this.schedulers=new wd(o),this.keepUnstableUntilFirst=_d(this.schedulers,i),this.firestore=o.runOutsideAngular(()=>{const n=Ad(t,o,e).firestore();return n.settings(r||fg),n}),this.persistenceEnabled$=n&&!Ga(i)?o.runOutsideAngular(()=>{try{return $(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return Qa(!1)}}):Qa(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=dg(n,e);return new og(r,i,this)}collectionGroup(t,e){if(hg<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ag(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new sg(e,this)}createId(){return this.firestore.collection("_").doc().id}}))();var gg=Wn({encapsulation:0,styles:[[".loading-content[_ngcontent-%COMP%]{margin:0 auto;width:80px}.form-room[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:0 auto}.hidden[_ngcontent-%COMP%]{display:none}"]],data:{}});function mg(t){return ts(0,[(t()(),Lo(0,0,null,null,5,"div",[["class","loading-content"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(2,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(3,{hidden:0}),(t()(),Lo(4,0,null,null,1,"app-loading",[],null,null,null,Wd,$d)),oi(5,114688,null,0,Hd,[],null,null),(t()(),Lo(6,0,null,null,26,"form",[["class","form-room text-center"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==$r(t,11).onSubmit(n)&&r),"reset"===e&&(r=!1!==$r(t,11).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit()&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(8,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(9,{hidden:0}),oi(10,16384,null,0,qp,[],null,null),oi(11,540672,null,0,zp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),ai(2048,null,tp,null,[zp]),oi(13,16384,null,0,op,[[4,tp]],null,null),(t()(),Lo(14,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Yo(-1,null,["Crie uma sala para come\xe7ar"])),(t()(),Lo(16,0,null,null,13,"div",[],null,null,null,null,null)),(t()(),Lo(17,0,null,null,10,"input",[["class","form-control"],["formControlName","roomName"],["id","validationServer03"],["placeholder","Nome da sala"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==$r(t,21)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==$r(t,21).onTouched()&&r),"compositionstart"===e&&(r=!1!==$r(t,21)._compositionStart()&&r),"compositionend"===e&&(r=!1!==$r(t,21)._compositionEnd(n.target.value)&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(19,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(20,{"is-invalid":0}),oi(21,16384,null,0,Jd,[on,Ze,[2,Yd]],null,null),oi(22,16384,null,0,Kp,[],{required:[0,"required"]},null),ai(1024,null,ap,function(t){return[t]},[Kp]),ai(1024,null,Xd,function(t){return[t]},[Jd]),oi(25,671744,null,0,Wp,[[3,tp],[6,ap],[8,null],[6,Xd],[2,Bp]],{name:[0,"name"]},null),ai(2048,null,np,null,[Wp]),oi(27,16384,null,0,ip,[[4,np]],null,null),(t()(),Lo(28,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(t()(),Yo(29,null,[" "," "])),(t()(),Lo(30,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Lo(31,0,null,null,1,"button",[["class","btn btn-lg btn-primary btn-block"],["type","submit"]],null,null,null,null,null)),(t()(),Yo(-1,null,["Criar"]))],function(t,e){var n=e.component,r=t(e,3,0,!n.loading);t(e,2,0,"loading-content",r),t(e,5,0);var i=t(e,9,0,n.loading);t(e,8,0,"form-room text-center",i),t(e,11,0,n.form);var o=t(e,20,0,n.messageError.length>0);t(e,19,0,"form-control",o),t(e,22,0,""),t(e,25,0,"roomName")},function(t,e){var n=e.component;t(e,6,0,$r(e,13).ngClassUntouched,$r(e,13).ngClassTouched,$r(e,13).ngClassPristine,$r(e,13).ngClassDirty,$r(e,13).ngClassValid,$r(e,13).ngClassInvalid,$r(e,13).ngClassPending),t(e,17,0,$r(e,22).required?"":null,$r(e,27).ngClassUntouched,$r(e,27).ngClassTouched,$r(e,27).ngClassPristine,$r(e,27).ngClassDirty,$r(e,27).ngClassValid,$r(e,27).ngClassInvalid,$r(e,27).ngClassPending),t(e,29,0,n.messageError)})}class vg{constructor(t){this.router=t}ngOnInit(){}goToRoom(t){this.router.navigate(["tasks",t])}}var yg=Wn({encapsulation:0,styles:[[".list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{cursor:pointer}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:var(--dark)}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:nth-child(odd)   span[_ngcontent-%COMP%]{background-color:var(--red)}"]],data:{}});function bg(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"li",[["class","list-group-item d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),Yo(1,null,[" "," "])),(t()(),Lo(2,0,null,null,1,"span",[["class","badge badge-primary badge-pill"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.goToRoom(t.context.$implicit.id)&&r),r},null,null)),(t()(),Yo(-1,null,["Entrar"]))],null,function(t,e){t(e,1,0,e.context.$implicit.name)})}function wg(t){return ts(0,[(t()(),Lo(0,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,bg)),oi(2,278528,null,0,Aa,[kn,xn,bn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.rooms)},null)}class _g{constructor(t){this.firestore=t,this.loading=!1,this.loadRooms()}ngOnInit(){}loadRooms(){this.setLoading(!0),this.firestore.collection("rooms").snapshotChanges().pipe(B(t=>t.map(this.actionToRoomModel))).subscribe(t=>{this.setRooms(t),this.setLoading(!1)})}actionToRoomModel(t){const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)}setRooms(t){this.rooms=t.length<=0?[]:t.sort(this.sort)}sort(t,e){return t.name.localeCompare(e.name)}setLoading(t){this.loading=t}}var Eg=Wn({encapsulation:0,styles:[[".list-room[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:0 auto}.loading-content[_ngcontent-%COMP%]{margin:50px auto;width:80px}.hidden[_ngcontent-%COMP%]{display:none}"]],data:{}});function Cg(t){return ts(0,[(t()(),Lo(0,0,null,null,5,"div",[["class","loading-content"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(2,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(3,{hidden:0}),(t()(),Lo(4,0,null,null,1,"app-loading",[],null,null,null,Wd,$d)),oi(5,114688,null,0,Hd,[],null,null),(t()(),Lo(6,0,null,null,4,"app-rooms-form",[],null,null,null,mg,gg)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(8,278528,null,0,Sa,[Ia],{ngClass:[0,"ngClass"]},null),Xo(9,{hidden:0}),oi(10,114688,null,0,Zp,[pg,mf],{rooms:[0,"rooms"]},null),(t()(),Lo(11,0,null,null,7,"div",[["class","list-room text-center"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(13,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(14,{hidden:0}),(t()(),Lo(15,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Yo(-1,null,["Ou entre em uma sala j\xe1 existente"])),(t()(),Lo(17,0,null,null,1,"app-rooms-list",[],null,null,null,wg,yg)),oi(18,114688,null,0,vg,[mf],{rooms:[0,"rooms"]},null)],function(t,e){var n=e.component,r=t(e,3,0,!n.loading);t(e,2,0,"loading-content",r),t(e,5,0);var i=t(e,9,0,n.loading);t(e,8,0,i),t(e,10,0,n.rooms);var o=t(e,14,0,n.loading);t(e,13,0,"list-room text-center",o),t(e,18,0,n.rooms)},null)}function Ig(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-rooms",[],null,null,null,Cg,Eg)),oi(1,114688,null,0,_g,[pg],null,null)],function(t,e){t(e,1,0)},null)}var Tg=Mr("app-rooms",_g,Ig,{},{},[]);class xg{}class Sg{constructor(t,e,n){this.activatedRoute=t,this.firestore=e,this.router=n,this.room=new xg,this.form=new Vp({taskList:new Up("",[])}),this.roomId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.loadRoom()}loadRoom(){this.roomDoc=this.firestore.doc("rooms/"+this.roomId),this.roomDoc.valueChanges().subscribe(this.loadTaskAndSetRoom.bind(this))}loadTaskAndSetRoom(t){this.setRoom(t),this.loadTasks(t)}loadTasks(t){t.tasks&&this.form.patchValue({taskList:t.tasks.join("\n")})}setRoom(t){this.room=t}saveAndGoVote(){var t=this.getList();this.addTasks(t),this.goVote()}addTasks(t){this.room.currentTask=0,this.room.tasks=t,this.roomDoc.update(this.room)}goVote(){this.router.navigateByUrl(`/votes/${this.roomId}`)}getList(){return this.form.get("taskList").value.split("\n").map(t=>t.trim()).filter(t=>t.length>0)}}var kg=Wn({encapsulation:0,styles:[["textarea.task-list-field[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(0,0,0,.125);border-radius:.25rem;padding:10px 18px;outline:0}"]],data:{}});function Ag(t){return ts(0,[(t()(),Lo(0,0,null,null,2,"div",[["class","pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,1,"h1",[["class","display-4"]],null,null,null,null,null)),(t()(),Yo(2,null,[""," - Lista de tarefas"]))],null,function(t,e){t(e,2,0,e.component.room.name)})}function Og(t){return ts(0,[(t()(),Mo(16777216,null,null,1,null,Ag)),oi(1,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Lo(2,0,null,null,18,"div",[["class","container"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==$r(t,3).onSubmit(n)&&r),"reset"===e&&(r=!1!==$r(t,3).onReset()&&r),r},null,null)),oi(3,540672,null,0,zp,[[8,null],[8,null]],{form:[0,"form"]},null),ai(2048,null,tp,null,[zp]),oi(5,16384,null,0,op,[[4,tp]],null,null),(t()(),Lo(6,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(7,0,null,null,6,"div",[["class","col-12 text-center btn-command"]],null,null,null,null,null)),(t()(),Lo(8,0,null,null,5,"textarea",[["class","task-list-field"],["formControlName","taskList"],["rows","15"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==$r(t,9)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==$r(t,9).onTouched()&&r),"compositionstart"===e&&(r=!1!==$r(t,9)._compositionStart()&&r),"compositionend"===e&&(r=!1!==$r(t,9)._compositionEnd(n.target.value)&&r),r},null,null)),oi(9,16384,null,0,Jd,[on,Ze,[2,Yd]],null,null),ai(1024,null,Xd,function(t){return[t]},[Jd]),oi(11,671744,null,0,Wp,[[3,tp],[8,null],[8,null],[6,Xd],[2,Bp]],{name:[0,"name"]},null),ai(2048,null,np,null,[Wp]),oi(13,16384,null,0,ip,[[4,np]],null,null),(t()(),Lo(14,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(15,0,null,null,2,"div",[["class","col-md-6 text-center btn-command"]],null,null,null,null,null)),(t()(),Lo(16,0,null,null,1,"button",[["class","btn btn-lg btn-primary btn-block"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveAndGoVote()&&r),r},null,null)),(t()(),Yo(-1,null,["Enviar Nova Lista"])),(t()(),Lo(18,0,null,null,2,"div",[["class","col-md-6 text-center btn-command"]],null,null,null,null,null)),(t()(),Lo(19,0,null,null,1,"button",[["class","btn btn-lg btn-primary btn-block"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.goVote()&&r),r},null,null)),(t()(),Yo(-1,null,["Entrar"]))],function(t,e){var n=e.component;t(e,1,0,n.room),t(e,3,0,n.form),t(e,11,0,"taskList")},function(t,e){t(e,2,0,$r(e,5).ngClassUntouched,$r(e,5).ngClassTouched,$r(e,5).ngClassPristine,$r(e,5).ngClassDirty,$r(e,5).ngClassValid,$r(e,5).ngClassInvalid,$r(e,5).ngClassPending),t(e,8,0,$r(e,13).ngClassUntouched,$r(e,13).ngClassTouched,$r(e,13).ngClassPristine,$r(e,13).ngClassDirty,$r(e,13).ngClassValid,$r(e,13).ngClassInvalid,$r(e,13).ngClassPending)})}function Ng(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-tasks",[],null,null,null,Og,kg)),oi(1,114688,null,0,Sg,[ih,pg,mf],null,null)],function(t,e){t(e,1,0)},null)}var Pg=Mr("app-tasks",Sg,Ng,{},{},[]);const Rg=[{emoji:"\u{1f6f4}",description:"Claro o que tem que fazer"},{emoji:"\u{1f6b2}",description:"Ok o que tem que fazer"},{emoji:"\u{1f697}",description:"\xc9 complicado o que tem que fazer"},{emoji:"\u2728",description:"Claro como fazer"},{emoji:"\u{1f9ba}",description:"Ok como fazer"},{emoji:"\u{1f9e8}",description:"\xc9 complicado como fazer"},{emoji:"\u{1f431}\u200d\u{1f4bb}",description:"Desenvolver \xe9 f\xe1cil"},{emoji:"\u{1f469}\u200d\u{1f4bb}",description:"Desenvolver t\xe1 ok"},{emoji:"\u{1f528}",description:"T\xe1 complicado de desenvolver"},{emoji:"\u{1f604}",description:"Reproduzir \xe9 simples"},{emoji:"\u{1f914}",description:"T\xe1 ok para reproduir"},{emoji:"\u{1f921}",description:"T\xe1 complicado de reproduzir"}];class Dg{constructor(t){this.room=t,this.emojis=[],this.whatToDo=["\u{1f6f4}","\u{1f6b2}","\u{1f697}"],this.hotToMake=["\u2728","\u{1f9ba}","\u{1f9e8}"],this.toDevelop=["\u{1f431}\u200d\u{1f4bb}","\u{1f469}\u200d\u{1f4bb}","\u{1f528}"],this.reproduce=["\u{1f604}","\u{1f914}","\u{1f921}"],this.emojis=[...Rg.map(t=>Object.assign({},t))]}report(){var t=this.getEmojisRoom();return{whatToDo:this.countEmojis(t,this.whatToDo),hotToMake:this.countEmojis(t,this.hotToMake),toDevelop:this.countEmojis(t,this.toDevelop),reproduce:this.countEmojis(t,this.reproduce)}}getEmojisRoom(){return this.room.votes.map(t=>t.value.emojis).reduce((t,e)=>[...t,...e])}countEmojis(t,e){var n=t.filter(t=>e.includes(t)).length;return e.map(e=>({emoji:e,description:Rg.find(t=>t.emoji==e).description,quantity:t.filter(t=>t==e).length,percent:100*t.filter(t=>t==e).length/n}))}}class Mg{constructor(t){this.room=t,this.emojis=[],this.emojis=[...Rg.map(t=>Object.assign({},t))]}report(){var t=this.getEmojisRoom();this.countEmojis(t);var e=this.getQuantityTotal();return this.emojis.filter(t=>t.quantity>0).map(t=>({emoji:t.emoji,description:t.description,quantity:t.quantity,percent:100*t.quantity/e}))}getEmojisRoom(){return this.room.votes.map(t=>t.value.emojis).reduce((t,e)=>[...t,...e])}countEmojis(t){t.forEach(t=>{var e=this.emojis.find(e=>e.emoji==t);e.quantity||(e.quantity=0),e.quantity++})}getQuantityTotal(){return this.emojis.filter(t=>t.quantity>0).map(t=>t.quantity).reduce((t,e)=>t+e)}}class Lg{constructor(){this.showReport=!1,this.generalReport=[]}ngOnInit(){this.showReport=this.getEmojisRoom().length>0,this.showReport&&(this.categoryReport=new Dg(this.room).report(),this.generalReport=new Mg(this.room).report())}reportCategory(){}getEmojisRoom(){return this.room.votes.map(t=>t.value.emojis).reduce((t,e)=>[...t,...e],[])}}var Ug=Wn({encapsulation:0,styles:[[".list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{cursor:pointer}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:var(--dark)}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:nth-child(odd)   span[_ngcontent-%COMP%]{background-color:var(--red)}"]],data:{}});function Vg(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"li",[["class","list-group-item d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),Yo(1,null,[" "," "," "])),(t()(),Lo(2,0,null,null,1,"span",[["class","badge badge-primary badge-pill"]],null,null,null,null,null)),(t()(),Yo(3,null,["","%"]))],null,function(t,e){t(e,1,0,e.context.$implicit.emoji,e.context.$implicit.description),t(e,3,0,e.context.$implicit.percent)})}function jg(t){return ts(0,[(t()(),Lo(0,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,Vg)),oi(2,278528,null,0,Aa,[kn,xn,bn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.categoryReport.whatToDo)},null)}function Fg(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"li",[["class","list-group-item d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),Yo(1,null,[" "," "," "])),(t()(),Lo(2,0,null,null,1,"span",[["class","badge badge-primary badge-pill"]],null,null,null,null,null)),(t()(),Yo(3,null,["","%"]))],null,function(t,e){t(e,1,0,e.context.$implicit.emoji,e.context.$implicit.description),t(e,3,0,e.context.$implicit.percent)})}function qg(t){return ts(0,[(t()(),Lo(0,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,Fg)),oi(2,278528,null,0,Aa,[kn,xn,bn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.categoryReport.hotToMake)},null)}function Bg(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"li",[["class","list-group-item d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),Yo(1,null,[" "," "," "])),(t()(),Lo(2,0,null,null,1,"span",[["class","badge badge-primary badge-pill"]],null,null,null,null,null)),(t()(),Yo(3,null,["","%"]))],null,function(t,e){t(e,1,0,e.context.$implicit.emoji,e.context.$implicit.description),t(e,3,0,e.context.$implicit.percent)})}function zg(t){return ts(0,[(t()(),Lo(0,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,Bg)),oi(2,278528,null,0,Aa,[kn,xn,bn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.categoryReport.toDevelop)},null)}function Gg(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"li",[["class","list-group-item d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),Yo(1,null,[" "," "," "])),(t()(),Lo(2,0,null,null,1,"span",[["class","badge badge-primary badge-pill"]],null,null,null,null,null)),(t()(),Yo(3,null,["","%"]))],null,function(t,e){t(e,1,0,e.context.$implicit.emoji,e.context.$implicit.description),t(e,3,0,e.context.$implicit.percent)})}function Hg(t){return ts(0,[(t()(),Lo(0,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,Gg)),oi(2,278528,null,0,Aa,[kn,xn,bn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.categoryReport.reproduce)},null)}function $g(t){return ts(0,[(t()(),Lo(0,0,null,null,22,"section",[],null,null,null,null,null)),(t()(),Lo(1,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,4,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Lo(3,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Yo(-1,null,["O que fazer"])),(t()(),Mo(16777216,null,null,1,null,jg)),oi(6,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Lo(7,0,null,null,4,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Lo(8,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Yo(-1,null,["Como fazer"])),(t()(),Mo(16777216,null,null,1,null,qg)),oi(11,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Lo(12,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(13,0,null,null,4,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Lo(14,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Yo(-1,null,["Desenvolver"])),(t()(),Mo(16777216,null,null,1,null,zg)),oi(17,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Lo(18,0,null,null,4,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Lo(19,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Yo(-1,null,["Reproduzir"])),(t()(),Mo(16777216,null,null,1,null,Hg)),oi(22,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,6,0,n.categoryReport.whatToDo),t(e,11,0,n.categoryReport.hotToMake),t(e,17,0,n.categoryReport.toDevelop),t(e,22,0,n.categoryReport.reproduce)},null)}function Wg(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"li",[["class","list-group-item d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),Yo(1,null,[" "," "," "])),(t()(),Lo(2,0,null,null,1,"span",[["class","badge badge-primary badge-pill"]],null,null,null,null,null)),(t()(),Yo(3,null,["","%"]))],null,function(t,e){t(e,1,0,e.context.$implicit.emoji,e.context.$implicit.description),t(e,3,0,e.context.$implicit.percent)})}function Kg(t){return ts(0,[(t()(),Lo(0,0,null,null,9,"section",[],null,null,null,null,null)),(t()(),Lo(1,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,$g)),oi(3,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Lo(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Lo(5,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Yo(-1,null,["Geral"])),(t()(),Lo(7,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,Wg)),oi(9,278528,null,0,Aa,[kn,xn,bn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.categoryReport),t(e,9,0,n.generalReport)},null)}function Xg(t){return ts(0,[(t()(),Mo(16777216,null,null,1,null,Kg)),oi(1,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.showReport)},null)}class Qg{constructor(){}ngOnInit(){}isHeart(t){return Number(t)<=3}isDiamond(t){return Number(t)>3&&Number(t)<=10}isSpade(t){return Number(t)>10}}var Yg=Wn({encapsulation:0,styles:[[".red[_ngcontent-%COMP%]{color:var(--red)}"]],data:{}});function Jg(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2665"]))],null,null)}function Zg(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2666"]))],null,null)}function tm(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2660"]))],null,null)}function em(t){return ts(0,[(t()(),Lo(0,0,null,null,14,"div",[["class","card-deck mb-3 text-center"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,13,"div",[["class","card mb-12 box-shadow"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,12,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Lo(3,0,null,null,11,"h1",[["class","card-title pricing-card-title"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(5,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ko(6,6),Xo(7,{red:0}),(t()(),Yo(8,null,[""," "])),(t()(),Mo(16777216,null,null,1,null,Jg)),oi(10,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,Zg)),oi(12,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,tm)),oi(14,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,r=t(e,7,0,t(e,6,0,"0","1","2","3","5","8").includes(n.room.average));t(e,5,0,"card-title pricing-card-title",r),t(e,10,0,n.isHeart(n.room.average)),t(e,12,0,n.isDiamond(n.room.average)),t(e,14,0,n.isSpade(n.room.average))},function(t,e){t(e,8,0,e.component.room.average)})}function nm(t){return ts(0,[(t()(),Mo(16777216,null,null,1,null,em)),oi(1,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.room)},null)}class rm{constructor(){this.isFlip=!1,this.emojisAndDescriptions=Rg}getTitle(t){var e=this.emojisAndDescriptions.find(e=>e.emoji==t);return e?e.description:""}ngOnInit(){}}var im=Wn({encapsulation:0,styles:[["@charset \"UTF-8\";.row[_ngcontent-%COMP%]{padding:20px}.card[_ngcontent-%COMP%]{text-transform:capitalize}.card-header[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis;cursor:context-menu}.flip-card[_ngcontent-%COMP%]{background-color:transparent;width:150px;height:150px;-webkit-perspective:1000px;perspective:1000px;margin:18px 0}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:-webkit-transform .6s;transition:transform .6s;transition:transform .6s,-webkit-transform .6s;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;box-shadow:0 4px 8px 0 rgba(0,0,0,.2)}.show-card[_ngcontent-%COMP%]   .flip-card-inner[_ngcontent-%COMP%]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.flip-card-back[_ngcontent-%COMP%], .flip-card-front[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden}.flip-card-front[_ngcontent-%COMP%]{background-color:var(--light)!important;background-origin:content-box;border:2px solid var(--light);outline:12px solid var(--light);box-shadow:0 0 0 12px var(--light),0 0 0 13px rgba(0,0,0,.125),rgba(99,99,99,.2) 0 2px 8px 14px}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;margin:0}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--dark)}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{text-align:left;height:24px}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{position:absolute;-webkit-transform:rotate(270deg);transform:rotate(270deg);margin-top:-18px;font-size:26px;font-weight:700;line-height:24px;margin-left:10px;text-align:center}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   span.pass[_ngcontent-%COMP%]{position:initial;-webkit-transform:none;transform:none;margin-top:0;font-size:26px;font-weight:700;line-height:0;margin-left:-2px;text-align:left}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   p.emojis[_ngcontent-%COMP%]{margin-top:-5px;position:absolute;right:0}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   p.emojis[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{cursor:default}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{border:2px solid var(--dark);margin:0 20px;height:96px;border-radius:6px}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:60px;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-writing-mode:tb-rl;-ms-writing-mode:tb-rl;writing-mode:tb-rl;margin-right:9px;height:100%;line-height:20px}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .square.k[_ngcontent-%COMP%]{background:url(k.df74294671fb9dbccdf8.png) center center no-repeat}.flip-card-front[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{text-align:right;padding-top:5px;font-weight:700;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis;cursor:context-menu}.flip-card-front[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--red)}.flip-card-front[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{border:2px solid var(--red)}.flip-card-back[_ngcontent-%COMP%]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg);background-image:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='10px' height='14px'><text x='0' y='12' fill='%23343a40' font-size='20'>\u2666</text></svg>\");background-color:var(--light)!important;padding:31px 30px;background-origin:content-box;box-shadow:0 0 0 2px var(--dark),0 0 0 12px var(--light),0 0 0 13px rgba(0,0,0,.125),rgba(99,99,99,.2) 0 2px 8px 14px}.flip-card-back[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{height:27px;padding:0;margin:0;flex:none;color:var(--dark);font-weight:700;display:inline-block;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis;cursor:context-menu;border-radius:3px;border:2px solid var(--light);background:var(--dark);color:var(--light);outline:3px solid var(--dark)}.flip-card-back.red[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='10px' height='14px'><text x='0' y='12' fill='%23dc3545' font-size='20'>\u2666</text></svg>\");background-color:var(--light)!important;border:2px solid var(--red);outline:12px solid var(--light)}.flip-card-back.red[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background:var(--red);outline:3px solid var(--red)}"]],data:{}});function om(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Yo(1,null,["",""])),(t()(),Lo(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2665"]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.value.description)})}function sm(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Yo(1,null,["",""])),(t()(),Lo(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2666"]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.value.description)})}function am(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Yo(1,null,["",""])),(t()(),Lo(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2660"]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.value.description)})}function um(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Yo(1,null,["",""])),(t()(),Lo(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2663"]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.value.description)})}function lm(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[["class","pass"]],null,null,null,null,null)),(t()(),Yo(1,null,[""," \u2663"]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.value.description)})}function cm(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"b",[],[[8,"title",0]],null,null,null,null)),(t()(),Yo(1,null,["",""]))],null,function(t,e){t(e,0,0,e.component.getTitle(e.context.$implicit)),t(e,1,0,e.context.$implicit)})}function hm(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2665"]))],null,null)}function fm(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2666"]))],null,null)}function dm(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2660"]))],null,null)}function pm(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2663"]))],null,null)}function gm(t){return ts(0,[(t()(),Lo(0,0,null,null,40,"ul",[],null,null,null,null,null)),(t()(),Lo(1,0,null,null,18,"li",[["class","value"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,2,null,om)),oi(3,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),Ko(4,4),(t()(),Mo(16777216,null,null,2,null,sm)),oi(6,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),Ko(7,2),(t()(),Mo(16777216,null,null,2,null,am)),oi(9,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),Ko(10,5),(t()(),Mo(16777216,null,null,2,null,um)),oi(12,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),Ko(13,1),(t()(),Mo(16777216,null,null,2,null,lm)),oi(15,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),Ko(16,1),(t()(),Lo(17,0,null,null,2,"p",[["class","emojis"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,cm)),oi(19,278528,null,0,Aa,[kn,xn,bn],{ngForOf:[0,"ngForOf"]},null),(t()(),Lo(20,0,null,null,17,"li",[],null,null,null,null,null)),(t()(),Lo(21,0,null,null,16,"div",[["class","square"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(23,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ko(24,1),Xo(25,{k:0}),(t()(),Mo(16777216,null,null,2,null,hm)),oi(27,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),Ko(28,4),(t()(),Mo(16777216,null,null,2,null,fm)),oi(30,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),Ko(31,2),(t()(),Mo(16777216,null,null,2,null,dm)),oi(33,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),Ko(34,5),(t()(),Mo(16777216,null,null,2,null,pm)),oi(36,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),Ko(37,2),(t()(),Lo(38,0,null,null,2,"li",[["class","name"]],null,null,null,null,null)),(t()(),Yo(39,null,["",""])),Wo(40,1)],function(t,e){var n=t(e,4,0,"0","A","2","3").includes(e.parent.context.$implicit.value.description);t(e,3,0,n);var r=t(e,7,0,"5","8").includes(e.parent.context.$implicit.value.description);t(e,6,0,r);var i=t(e,10,0,"K","21","34","55","89").includes(e.parent.context.$implicit.value.description);t(e,9,0,i);var o=t(e,13,0,"?").includes(e.parent.context.$implicit.value.description);t(e,12,0,o);var s=t(e,16,0,"Pass").includes(e.parent.context.$implicit.value.description);t(e,15,0,s),t(e,19,0,e.parent.context.$implicit.value.emojis);var a=t(e,25,0,t(e,24,0,"K").includes(e.parent.context.$implicit.value.description));t(e,23,0,"square",a);var u=t(e,28,0,"0","A","2","3").includes(e.parent.context.$implicit.value.description);t(e,27,0,u);var l=t(e,31,0,"5","8").includes(e.parent.context.$implicit.value.description);t(e,30,0,l);var c=t(e,34,0,"13","21","34","55","89").includes(e.parent.context.$implicit.value.description);t(e,33,0,c);var h=t(e,37,0,"?","Pass").includes(e.parent.context.$implicit.value.description);t(e,36,0,h)},function(t,e){var n=Gn(e,39,0,t(e,40,0,$r(e.parent.parent,0),e.parent.context.$implicit.displayName));t(e,39,0,n)})}function mm(t){return ts(0,[(t()(),Lo(0,0,null,null,16,"div",[["class","col-sm-3 text-center flip-card"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,15,"div",[["class","flip-card-inner"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,7,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),Lo(3,0,null,null,6,"div",[["class","card-body"]],[[8,"title",0]],null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(5,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ko(6,6),Xo(7,{red:0}),(t()(),Mo(16777216,null,null,1,null,gm)),oi(9,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Lo(10,0,null,null,6,"div",[["class","card text-white bg-info mb-3 flip-card-back"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(12,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(13,{red:0}),(t()(),Lo(14,0,null,null,2,"div",[["class","card-body"]],[[8,"title",0]],null,null,null,null)),(t()(),Yo(15,null,["",""])),Wo(16,1)],function(t,e){var n=e.component,r=t(e,7,0,t(e,6,0,"0","A","2","3","5","8").includes(e.context.$implicit.value.description));t(e,5,0,"card-body",r),t(e,9,0,n.room.isFlip);var i=t(e,13,0,e.context.$implicit.isRedCard);t(e,12,0,"card text-white bg-info mb-3 flip-card-back",i)},function(t,e){t(e,2,0,wr(1,"card text-white bg-",e.context.$implicit.value.class," mb-3 flip-card-front")),t(e,3,0,e.context.$implicit.displayName),t(e,14,0,e.context.$implicit.displayName);var n=Gn(e,15,0,t(e,16,0,$r(e.parent,0),e.context.$implicit.displayName));t(e,15,0,n)})}function vm(t){return ts(0,[si(0,Fa,[]),(t()(),Lo(1,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(3,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(4,{"show-card":0}),(t()(),Mo(16777216,null,null,1,null,mm)),oi(6,278528,null,0,Aa,[kn,xn,bn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component,r=t(e,4,0,!n.isFlip);t(e,3,0,"row",r),t(e,6,0,n.room.votes)},null)}const ym=[{value:0,description:"0",class:"primary"},{value:1,description:"A",class:"primary"},{value:2,description:"2",class:"primary"},{value:3,description:"3",class:"primary"},{value:5,description:"5",class:"primary"},{value:8,description:"8",class:"primary"},{value:13,description:"K",class:"success"},{value:21,description:"21",class:"success"},{value:34,description:"34",class:"success"},{value:55,description:"55",class:"success"},{value:89,description:"89",class:"success"},{value:99,description:"?",class:"warning"},{value:-1,description:"Pass",class:"secondary"}];class bm{constructor(){this.activeCard=ym.find(t=>1==t.value),this.activeCardEvent=new Ci}ngOnInit(){}setActive(t){this.activeCard=t,this.activeCardEvent.emit(this.activeCard)}getFibonacciSequenci(){return ym}}var wm=Wn({encapsulation:0,styles:[[".deck-content[_ngcontent-%COMP%]{overflow:hidden}.deck-custom[_ngcontent-%COMP%]{height:122px;padding:20px 0 0 79px;overflow:hidden;position:relative;border-bottom:1px solid #d9dadb}.deck-custom[_ngcontent-%COMP%]   .card-deck-custom[_ngcontent-%COMP%]{position:absolute;margin-left:-55px;width:100%;box-shadow:-2px 5px 7px #000000a8;max-width:216px;cursor:pointer;transition:margin .5s;height:400px;color:var(--red)!important;background-color:#f8f9fa!important}.deck-custom[_ngcontent-%COMP%]   .card-deck-custom[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h1.card-title[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.deck-custom[_ngcontent-%COMP%]   .card-deck-custom.text-secondary[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h1.card-title[_ngcontent-%COMP%], .deck-custom[_ngcontent-%COMP%]   .card-deck-custom.text-success[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h1.card-title[_ngcontent-%COMP%], .deck-custom[_ngcontent-%COMP%]   .card-deck-custom.text-warning[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h1.card-title[_ngcontent-%COMP%]{color:var(--dark)}.deck-custom[_ngcontent-%COMP%]   .card-deck-custom.active[_ngcontent-%COMP%]{margin-top:-20px}.deck-custom[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:16px 1.25rem 1.25rem 16px}.deck-custom[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;text-align:center;line-height:38px}.col-custom-13-full[_ngcontent-%COMP%]{flex:0 0 7.6%;max-width:7.6%}@media only screen and (max-width:991px){.deck-custom[_ngcontent-%COMP%]{height:200px}.col-custom-13-full[_ngcontent-%COMP%]{flex:0 0 14%;max-width:14%}}@media only screen and (max-width:579px){.card-body[_ngcontent-%COMP%]{padding-left:6px}}@media only screen and (max-width:475px){.deck-custom[_ngcontent-%COMP%]{height:186px}.card-body[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media only screen and (max-width:400px){.deck-custom[_ngcontent-%COMP%]{height:175px}.card-body[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width:300px){.card-body[_ngcontent-%COMP%]{padding-left:2px}}@media only screen and (max-width:260px){.deck-custom[_ngcontent-%COMP%]{height:168px}.card-body[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px}}"]],data:{}});function _m(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2665"]))],null,null)}function Em(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2666"]))],null,null)}function Cm(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2660"]))],null,null)}function Im(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(-1,null,["\u2663"]))],null,null)}function Tm(t){return ts(0,[(t()(),Lo(0,0,null,null,16,"div",[["class","col-custom-13-full"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,15,"div",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setActive(t.context.$implicit)&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(3,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(4,{active:0}),(t()(),Lo(5,0,null,null,11,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Lo(6,0,null,null,10,"h1",[["class","card-title"]],null,null,null,null,null)),(t()(),Yo(7,null,["",""])),(t()(),Lo(8,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,_m)),oi(10,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,Em)),oi(12,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,Cm)),oi(14,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,Im)),oi(16,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,r=wr(2,"card card-deck-custom text-white bg-",e.context.$implicit.class," text-",e.context.$implicit.class," mb-3"),i=t(e,4,0,n.activeCard.value==e.context.$implicit.value);t(e,3,0,r,i),t(e,10,0,e.context.$implicit.value<=3&&-1!=e.context.$implicit.value),t(e,12,0,e.context.$implicit.value>3&&e.context.$implicit.value<=8),t(e,14,0,e.context.$implicit.value>8&&e.context.$implicit.value<=89),t(e,16,0,e.context.$implicit.value>89||-1==e.context.$implicit.value)},function(t,e){t(e,7,0,e.context.$implicit.description)})}function xm(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"div",[["class","deck-content"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,2,"div",[["class","row deck-custom"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,Tm)),oi(3,278528,null,0,Aa,[kn,xn,bn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,3,0,e.component.getFibonacciSequenci())},null)}class Sm{}class km{constructor(){this.info={label:"",first:{icons:["\u{1f919}","\u{1f91e}","\u{1f44e}"],label:"",description:""},second:{icons:["\u{1f60e}","\u{1f605}","\u{1f632}"],label:"",description:""}},this.listenerRisk=new Ci,this.selectedDevelopment=0,this.selectedToProduce=0,this.risk={value:0,emojis:[]}}ngOnInit(){}setImpact(t){this.selectedDevelopment=this.selectedDevelopment==t?0:t}setProbability(t){this.selectedToProduce=this.selectedToProduce==t?0:t}setImpactAndCalcRisk(t){this.setImpact(t),this.calcRisk()}setProbabilityAndCalcRisk(t){this.setProbability(t),this.calcRisk()}calcRisk(){this.setAndSendRisk(this.selectedDevelopment*this.selectedToProduce)}setAndSendRisk(t){var e=this.buildRiskModel(t);this.setRisk(e),this.sendRisk(e)}buildRiskModel(t){var e=new Sm;return e.value=t,e.emojis=this.getEmojis(t),e}sendRisk(t){this.listenerRisk.emit(t)}setRisk(t){this.risk=t}getEmojis(t){switch(t){case 5:return this.getEmojisByIndex(0,0);case 10:return this.getEmojisByIndex(1,0);case 15:return this.getEmojisByIndex(2,0);case 6:return this.getEmojisByIndex(0,1);case 12:return this.getEmojisByIndex(1,1);case 18:return this.getEmojisByIndex(2,1);case 7:return this.getEmojisByIndex(0,2);case 14:return this.getEmojisByIndex(1,2);case 21:return this.getEmojisByIndex(2,2);default:return[]}}getEmojisByIndex(t,e){return[this.info.first.icons[t],this.info.second.icons[e]]}}var Am=Wn({encapsulation:0,styles:[[".mb-3[_ngcontent-%COMP%]{font-size:1.5rem;cursor:default}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:220px;height:220px;padding:0;margin:0 auto}.container[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:0 0 33.333333%;width:33.333333vh;color:#fff;text-align:center;line-height:73px;font-size:36px;font-weight:700;opacity:.5;box-sizing:border-box;transition:opacity .3s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:0;height:0;display:block;opacity:0}.container[_ngcontent-%COMP%]   .cell.active[_ngcontent-%COMP%]{opacity:1;line-height:calc(73px - 10px);font-size:46px}.container[_ngcontent-%COMP%]   .cell.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto;height:auto;display:inline-block;opacity:1}.container[_ngcontent-%COMP%]   .cell.warning[_ngcontent-%COMP%]{background:var(--warning)}.container[_ngcontent-%COMP%]   .cell.warning.active[_ngcontent-%COMP%]{border:5px solid var(--orange)}.container[_ngcontent-%COMP%]   .cell.danger[_ngcontent-%COMP%]{background:var(--danger)}.container[_ngcontent-%COMP%]   .cell.danger.active[_ngcontent-%COMP%]{border:5px solid var(--pink)}.container[_ngcontent-%COMP%]   .cell.success[_ngcontent-%COMP%]{background:var(--success)}.container[_ngcontent-%COMP%]   .cell.success.active[_ngcontent-%COMP%]{border:5px solid var(--teal)}.container.line[_ngcontent-%COMP%]{height:73px}.container.line[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{cursor:pointer;transition:font-size .5s}.container.line[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]:hover{font-size:46px;opacity:1}.container.line[_ngcontent-%COMP%]:not(.not-selected-item)   .cell.warning[_ngcontent-%COMP%]:hover:not(.active){background:#ffc1077f}.container.line[_ngcontent-%COMP%]:not(.not-selected-item)   .cell.danger[_ngcontent-%COMP%]:hover:not(.active){background:#dc35457f}.container.line[_ngcontent-%COMP%]:not(.not-selected-item)   .cell.success[_ngcontent-%COMP%]:hover:not(.active){background:#28a7457f}.container.not-selected-item[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{opacity:1}.lines[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:not(:first-child){padding-top:9px}.matrix[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;overflow:hidden}.matrix[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{transition:all .5s ease;width:73px;height:73px}.matrix[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{width:220px;height:220px;position:absolute;line-height:220px;z-index:1}@media only screen and (max-width:768px){.lines[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important}.matrix[_ngcontent-%COMP%]{padding-top:9px;display:flex!important;justify-content:center!important}}"]],data:{}});function Om(t){return ts(0,[(t()(),Lo(0,0,null,null,117,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,44,"div",[["class","col-md-6 lines d-flex justify-content-end"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,43,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(3,0,null,null,42,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Lo(4,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],[[8,"title",0]],null,null,null,null)),(t()(),Yo(5,null,[" "," "])),(t()(),Lo(6,0,null,null,18,"div",[["class","container line"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(8,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(9,{"not-selected-item":0}),(t()(),Lo(10,0,null,null,4,"div",[["class","cell success"],["title","Pouco"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setImpactAndCalcRisk(1)&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(12,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(13,{active:0}),(t()(),Yo(14,null,["",""])),(t()(),Lo(15,0,null,null,4,"div",[["class","cell warning"],["title","Medio"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setImpactAndCalcRisk(2)&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(17,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(18,{active:0}),(t()(),Yo(19,null,["",""])),(t()(),Lo(20,0,null,null,4,"div",[["class","cell danger"],["title","Muito"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setImpactAndCalcRisk(3)&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(22,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(23,{active:0}),(t()(),Yo(24,null,["",""])),(t()(),Lo(25,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],[[8,"title",0]],null,null,null,null)),(t()(),Yo(26,null,["",""])),(t()(),Lo(27,0,null,null,18,"div",[["class","container line"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(29,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(30,{"not-selected-item":0}),(t()(),Lo(31,0,null,null,4,"div",[["class","cell success"],["title","Pouco"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setProbabilityAndCalcRisk(5)&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(33,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(34,{active:0}),(t()(),Yo(35,null,["",""])),(t()(),Lo(36,0,null,null,4,"div",[["class","cell warning"],["title","Medio"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setProbabilityAndCalcRisk(6)&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(38,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(39,{active:0}),(t()(),Yo(40,null,["",""])),(t()(),Lo(41,0,null,null,4,"div",[["class","cell danger"],["title","Muito"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setProbabilityAndCalcRisk(7)&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(43,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(44,{active:0}),(t()(),Yo(45,null,["",""])),(t()(),Lo(46,0,null,null,71,"div",[["class","col-md-6 matrix"]],null,null,null,null,null)),(t()(),Lo(47,0,null,null,70,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(48,0,null,null,69,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Lo(49,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal text-center"]],null,null,null,null,null)),(t()(),Yo(50,null,["",""])),(t()(),Lo(51,0,null,null,66,"div",[["class","container"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(53,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(54,{"not-selected-item":0}),(t()(),Lo(55,0,null,null,6,"div",[["class","cell success"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(57,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(58,{active:0}),(t()(),Yo(-1,null,["P"])),(t()(),Lo(60,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(61,null,["","",""])),(t()(),Lo(62,0,null,null,6,"div",[["class","cell warning"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(64,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(65,{active:0}),(t()(),Yo(-1,null,["M"])),(t()(),Lo(67,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(68,null,["","",""])),(t()(),Lo(69,0,null,null,6,"div",[["class","cell warning"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(71,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(72,{active:0}),(t()(),Lo(73,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(74,null,["","",""])),(t()(),Yo(-1,null,["M"])),(t()(),Lo(76,0,null,null,6,"div",[["class","cell warning"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(78,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(79,{active:0}),(t()(),Yo(-1,null,["M"])),(t()(),Lo(81,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(82,null,["","",""])),(t()(),Lo(83,0,null,null,6,"div",[["class","cell warning"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(85,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(86,{active:0}),(t()(),Yo(-1,null,["M"])),(t()(),Lo(88,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(89,null,["","",""])),(t()(),Lo(90,0,null,null,6,"div",[["class","cell danger"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(92,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(93,{active:0}),(t()(),Lo(94,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(95,null,["","",""])),(t()(),Yo(-1,null,["G"])),(t()(),Lo(97,0,null,null,6,"div",[["class","cell warning"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(99,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(100,{active:0}),(t()(),Yo(-1,null,["M"])),(t()(),Lo(102,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(103,null,["","",""])),(t()(),Lo(104,0,null,null,6,"div",[["class","cell danger"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(106,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(107,{active:0}),(t()(),Yo(-1,null,["G"])),(t()(),Lo(109,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(110,null,["","",""])),(t()(),Lo(111,0,null,null,6,"div",[["class","cell danger"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(113,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(114,{active:0}),(t()(),Lo(115,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(116,null,["","",""])),(t()(),Yo(-1,null,["G"]))],function(t,e){var n=e.component,r=t(e,9,0,0==n.selectedDevelopment);t(e,8,0,"container line",r);var i=t(e,13,0,1==n.selectedDevelopment);t(e,12,0,"cell success",i);var o=t(e,18,0,2==n.selectedDevelopment);t(e,17,0,"cell warning",o);var s=t(e,23,0,3==n.selectedDevelopment);t(e,22,0,"cell danger",s);var a=t(e,30,0,0==n.selectedToProduce);t(e,29,0,"container line",a);var u=t(e,34,0,5==n.selectedToProduce);t(e,33,0,"cell success",u);var l=t(e,39,0,6==n.selectedToProduce);t(e,38,0,"cell warning",l);var c=t(e,44,0,7==n.selectedToProduce);t(e,43,0,"cell danger",c);var h=t(e,54,0,0==n.risk.value);t(e,53,0,"container",h);var f=t(e,58,0,5==n.risk.value);t(e,57,0,"cell success",f);var d=t(e,65,0,10==n.risk.value);t(e,64,0,"cell warning",d);var p=t(e,72,0,15==n.risk.value);t(e,71,0,"cell warning",p);var g=t(e,79,0,6==n.risk.value);t(e,78,0,"cell warning",g);var m=t(e,86,0,12==n.risk.value);t(e,85,0,"cell warning",m);var v=t(e,93,0,18==n.risk.value);t(e,92,0,"cell danger",v);var y=t(e,100,0,7==n.risk.value);t(e,99,0,"cell warning",y);var b=t(e,107,0,14==n.risk.value);t(e,106,0,"cell danger",b);var w=t(e,114,0,21==n.risk.value);t(e,113,0,"cell danger",w)},function(t,e){var n=e.component;t(e,4,0,n.info.first.description),t(e,5,0,n.info.first.label),t(e,14,0,n.info.first.icons[0]),t(e,19,0,n.info.first.icons[1]),t(e,24,0,n.info.first.icons[2]),t(e,25,0,n.info.second.description),t(e,26,0,n.info.second.label),t(e,35,0,n.info.second.icons[0]),t(e,40,0,n.info.second.icons[1]),t(e,45,0,n.info.second.icons[2]),t(e,50,0,n.info.label),t(e,61,0,n.info.first.icons[0],n.info.second.icons[0]),t(e,68,0,n.info.first.icons[1],n.info.second.icons[0]),t(e,74,0,n.info.first.icons[2],n.info.second.icons[0]),t(e,82,0,n.info.first.icons[0],n.info.second.icons[1]),t(e,89,0,n.info.first.icons[1],n.info.second.icons[1]),t(e,95,0,n.info.first.icons[2],n.info.second.icons[1]),t(e,103,0,n.info.first.icons[0],n.info.second.icons[2]),t(e,110,0,n.info.first.icons[1],n.info.second.icons[2]),t(e,116,0,n.info.first.icons[2],n.info.second.icons[2])})}class Nm{constructor(){this.isOpen=!1,this.answer=new S}ngOnInit(){}getAnswer(){return this.answer}setValue(t){this.answer.next(t)}open(){this.isOpen=!0}close(){this.isOpen=!1}}var Pm=Wn({encapsulation:0,styles:[[".confirm-content[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;position:fixed;z-index:1}.confirm-content[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;position:fixed;opacity:.5;background-color:#000}.confirm-content[_ngcontent-%COMP%]   .confirm-popup[_ngcontent-%COMP%]{position:fixed;width:300px;background-color:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:20px;border-radius:6px}.confirm-content[_ngcontent-%COMP%]   .confirm-popup[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{text-align:center;padding-bottom:12px}.confirm-content[_ngcontent-%COMP%]   .confirm-popup[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{width:100%}.confirm-content[_ngcontent-%COMP%]   .confirm-popup[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .buttons-content[_ngcontent-%COMP%]{margin:0 auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.confirm-content[_ngcontent-%COMP%]   .confirm-popup[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .buttons-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--warning);border:0;color:#fff;font-weight:700;width:38px;height:38px;margin-left:2px;margin-right:2px;cursor:pointer}"]],data:{}});function Rm(t){return ts(0,[(t()(),Lo(0,0,null,null,10,"div",[["class","confirm-content"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,0,"div",[["class","background"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,8,"div",[["class","confirm-popup"]],null,null,null,null,null)),(t()(),Lo(3,0,null,null,1,"div",[["class","message"]],null,null,null,null,null)),(t()(),Yo(-1,null,[" Qual a pontua\xe7\xe3o voc\xea acha mais adequado? "])),(t()(),Lo(5,0,null,null,5,"div",[["class","buttons"]],null,null,null,null,null)),(t()(),Lo(6,0,null,null,4,"div",[["class","buttons-content"]],null,null,null,null,null)),(t()(),Lo(7,0,null,null,1,"button",[["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setValue(3)&&r),r},null,null)),(t()(),Yo(-1,null,["3"])),(t()(),Lo(9,0,null,null,1,"button",[["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setValue(5)&&r),r},null,null)),(t()(),Yo(-1,null,["5"]))],null,null)}function Dm(t){return ts(0,[(t()(),Mo(16777216,null,null,1,null,Rm)),oi(1,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.isOpen)},null)}const Mm=(()=>{class t{constructor(t){this.firestore=t}updateRoom(t){this.firestore.doc("rooms/"+t.id).update(t)}updatePartialRoom(t,e){this.firestore.doc("rooms/"+e).update(t)}listenerRoom(t){return this.firestore.doc("rooms/"+t).valueChanges()}}return t.ngInjectableDef=dt({factory:function(){return new t(Tt(pg))},token:t,providedIn:"root"}),t})(),Lm=(()=>{class t{constructor(t,e){this.fireAuth=t,this.roomService=e}getUser(){return this.fireAuth.user}getUserAndAddUserToRoomIfNotExist(t){this.getUser().pipe(Su()).subscribe(e=>{this.addUserToRoomIfNotExist(t,e)})}userAlreadyExistInRoom(t,e){return null!=t.participants.find(t=>t.uid==e.uid)}addUserToRoomIfNotExist(t,e){this.userAlreadyExistInRoom(t,e)||this.addParticipant(t,e)}addParticipant(t,e){this.addUserToRoom(t,e),this.updateRoom(t)}addUserToRoom(t,e){t.participants.push({uid:e.uid,displayName:e.displayName,email:e.email})}updateRoom(t){this.roomService.updateRoom(t)}}return t.ngInjectableDef=dt({factory:function(){return new t(Tt(Nd),Tt(Mm))},token:t,providedIn:"root"}),t})(),Um=(()=>{class t{constructor(t,e){this.userService=t,this.roomService=e,this.loadUser()}loadUser(){this.userService.getUser().subscribe(t=>{this.user=t})}activeCardEvent(t,e){var n=this.getUserVote(t);this.hasVote(n)&&this.removeVote(t,n),this.addVote(t,e)}getUserVote(t){return t.votes.find(t=>t.uid==this.user.uid)}removeVote(t,e){this.updatePartialRoom(t,{votes:Wf.firestore.FieldValue.arrayRemove(e)})}addVote(t,e){this.updatePartialRoom(t,{votes:Wf.firestore.FieldValue.arrayUnion({uid:this.user.uid,displayName:this.user.displayName,value:e,isRedCard:this.getRandomBooleanValue()})})}hasVote(t){return null!=t||null!=t}updatePartialRoom(t,e){this.roomService.updatePartialRoom(e,t.id.toString())}getRandomBooleanValue(){return Math.random()<.5}listenerActiveVote(t){return this.roomService.listenerRoom(t).pipe(B(t=>t.votes.find(t=>t.uid==this.user.uid)))}}return t.ngInjectableDef=dt({factory:function(){return new t(Tt(Lm),Tt(Mm))},token:t,providedIn:"root"}),t})();class Vm{constructor(t){this.userService=t,this.selectedUncertainty={value:0,emojis:[]},this.selectedComplexity={value:0,emojis:[]},this.risk={value:0,emojis:[]}}set setUncertaintyAndCalcRisk(t){this.setUncertainty(t),this.calcRisk()}set setComplexityAndCalcRisk(t){this.setComplexity(t),this.calcRisk()}ngOnInit(){}getEmojis(t,e){return[...t.emojis,...e.emojis].join("")}setUncertainty(t){this.selectedUncertainty=t}setComplexity(t){this.selectedComplexity=t}buildRisk(){var t=new Sm;return t.value=this.selectedUncertainty.value*this.selectedComplexity.value,t.emojis=[...this.selectedUncertainty.emojis,...this.selectedComplexity.emojis],t}calcRisk(){this.risk=this.buildRisk();var t=this.getMatrixRisk(this.risk.value);this.getFibonacciSequenciAndSelectCard(t)}getMatrixRisk(t){return[5].includes(t)?1:[10,6].includes(t)?2:[15,12,7].includes(t)?5:[18,14].includes(t)?8:[21].includes(t)?13:[0].includes(t)?0:void 0}getFibonacciSequenci(t){return ym.find(e=>e.value==t)}getFibonacciSequenciAndSelectCard(t){12!=this.risk.value?this.selectCardAndAddEmojis(t):this.chosenRisk()}chosenRisk(){this.confirm.open();var t=this.confirm.getAnswer().subscribe(e=>{this.selectCardAndAddEmojis(e),this.confirm.close(),t.unsubscribe()})}selectCardAndAddEmojis(t){var e=this.getFibonacciSequenci(t);this.room&&0!=e.value&&(this.addEmojis(e),this.userService.activeCardEvent(this.room,e))}addEmojis(t){return t.emojis=[...this.selectedUncertainty.emojis,...this.selectedComplexity.emojis],t}}var jm=Wn({encapsulation:0,styles:[[".mb-3[_ngcontent-%COMP%]{font-size:1.5rem}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:522px;height:522px;padding:0;margin:0 auto}.container[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:0 0 33.333333%;width:33.333333vh;color:#fff;text-align:center;line-height:174px;font-size:76px;font-weight:700;opacity:.5;box-sizing:border-box;transition:opacity .3s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:0;height:0;display:block;opacity:0}.container[_ngcontent-%COMP%]   .cell.active[_ngcontent-%COMP%]{opacity:1;font-size:70px}.container[_ngcontent-%COMP%]   .cell.active[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]{width:100%;margin:0;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.container[_ngcontent-%COMP%]   .cell.active[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0;line-height:48px;font-size:82px}.container[_ngcontent-%COMP%]   .cell.active[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto;height:auto;display:inline-block;opacity:1}.container[_ngcontent-%COMP%]   .cell.warning[_ngcontent-%COMP%]{background:var(--warning)}.container[_ngcontent-%COMP%]   .cell.warning.active[_ngcontent-%COMP%]{border:5px solid var(--orange)}.container[_ngcontent-%COMP%]   .cell.danger[_ngcontent-%COMP%]{background:var(--danger)}.container[_ngcontent-%COMP%]   .cell.danger.active[_ngcontent-%COMP%]{border:5px solid var(--pink)}.container[_ngcontent-%COMP%]   .cell.success[_ngcontent-%COMP%]{background:var(--success)}.container[_ngcontent-%COMP%]   .cell.success.active[_ngcontent-%COMP%]{border:5px solid var(--teal)}.container.line[_ngcontent-%COMP%]{height:174px}.container.not-selected-item[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{opacity:1}.lines[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:not(:first-child){padding-top:9px}.matrix[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;overflow:hidden}.matrix[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{transition:all .5s ease;width:174px;height:174px}.matrix[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{width:522px;height:522px;position:absolute;z-index:1}@media only screen and (max-width:768px){.lines[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important}.matrix[_ngcontent-%COMP%]{padding-top:9px;display:flex!important;justify-content:center!important}}@media only screen and (max-width:574px){.container[_ngcontent-%COMP%]{width:314px;height:314px}.container[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{font-size:40px;line-height:104px}.container[_ngcontent-%COMP%]   .cell.active[_ngcontent-%COMP%]{font-size:40px}.container.line[_ngcontent-%COMP%]{height:104px}.matrix[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{width:104px;height:104px}.matrix[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{width:314px;height:314px}}"]],data:{}});function Fm(t){return ts(0,[qo(671088640,1,{confirm:0}),(t()(),Lo(1,0,null,null,90,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,89,"div",[["class","col-md-12 matrix"]],null,null,null,null,null)),(t()(),Lo(3,0,null,null,88,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(4,0,null,null,87,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Lo(5,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal text-center"]],null,null,null,null,null)),(t()(),Yo(-1,null,["Incerteza + Complexidade"])),(t()(),Lo(7,0,null,null,84,"div",[["class","container"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(9,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(10,{"not-selected-item":0}),(t()(),Lo(11,0,null,null,8,"div",[["class","cell success"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(13,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(14,{active:0}),(t()(),Lo(15,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(t()(),Lo(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Yo(-1,null,["1"])),(t()(),Lo(18,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(19,null,["",""])),(t()(),Lo(20,0,null,null,8,"div",[["class","cell success"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(22,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(23,{active:0}),(t()(),Lo(24,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(t()(),Lo(25,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Yo(-1,null,["2"])),(t()(),Lo(27,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(28,null,["",""])),(t()(),Lo(29,0,null,null,8,"div",[["class","cell warning"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(31,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(32,{active:0}),(t()(),Lo(33,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(t()(),Lo(34,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Yo(-1,null,["5"])),(t()(),Lo(36,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(37,null,["",""])),(t()(),Lo(38,0,null,null,8,"div",[["class","cell success"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(40,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(41,{active:0}),(t()(),Lo(42,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(t()(),Lo(43,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Yo(-1,null,["2"])),(t()(),Lo(45,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(46,null,["",""])),(t()(),Lo(47,0,null,null,8,"div",[["class","cell warning"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(49,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(50,{active:0}),(t()(),Lo(51,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(t()(),Lo(52,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Yo(-1,null,["3/5"])),(t()(),Lo(54,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(55,null,["",""])),(t()(),Lo(56,0,null,null,8,"div",[["class","cell danger"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(58,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(59,{active:0}),(t()(),Lo(60,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(t()(),Lo(61,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Yo(-1,null,["8"])),(t()(),Lo(63,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(64,null,["",""])),(t()(),Lo(65,0,null,null,8,"div",[["class","cell warning"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(67,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(68,{active:0}),(t()(),Lo(69,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(t()(),Lo(70,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Yo(-1,null,["5"])),(t()(),Lo(72,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(73,null,["",""])),(t()(),Lo(74,0,null,null,8,"div",[["class","cell danger"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(76,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(77,{active:0}),(t()(),Lo(78,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(t()(),Lo(79,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Yo(-1,null,["8"])),(t()(),Lo(81,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(82,null,["",""])),(t()(),Lo(83,0,null,null,8,"div",[["class","cell danger"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(85,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(86,{active:0}),(t()(),Lo(87,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(t()(),Lo(88,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Yo(-1,null,["13"])),(t()(),Lo(90,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Yo(91,null,["",""])),(t()(),Lo(92,0,null,null,1,"app-confirm",[],null,null,null,Dm,Pm)),oi(93,114688,[[1,4],["confirm",4]],0,Nm,[],null,null)],function(t,e){var n=e.component,r=t(e,10,0,0==n.risk.value);t(e,9,0,"container",r);var i=t(e,14,0,5==n.risk.value);t(e,13,0,"cell success",i);var o=t(e,23,0,10==n.risk.value);t(e,22,0,"cell success",o);var s=t(e,32,0,15==n.risk.value);t(e,31,0,"cell warning",s);var a=t(e,41,0,6==n.risk.value);t(e,40,0,"cell success",a);var u=t(e,50,0,12==n.risk.value);t(e,49,0,"cell warning",u);var l=t(e,59,0,18==n.risk.value);t(e,58,0,"cell danger",l);var c=t(e,68,0,7==n.risk.value);t(e,67,0,"cell warning",c);var h=t(e,77,0,14==n.risk.value);t(e,76,0,"cell danger",h);var f=t(e,86,0,21==n.risk.value);t(e,85,0,"cell danger",f),t(e,93,0)},function(t,e){var n=e.component;t(e,19,0,n.getEmojis(n.selectedUncertainty,n.selectedComplexity)),t(e,28,0,n.getEmojis(n.selectedUncertainty,n.selectedComplexity)),t(e,37,0,n.getEmojis(n.selectedUncertainty,n.selectedComplexity)),t(e,46,0,n.getEmojis(n.selectedUncertainty,n.selectedComplexity)),t(e,55,0,n.getEmojis(n.selectedUncertainty,n.selectedComplexity)),t(e,64,0,n.getEmojis(n.selectedUncertainty,n.selectedComplexity)),t(e,73,0,n.getEmojis(n.selectedUncertainty,n.selectedComplexity)),t(e,82,0,n.getEmojis(n.selectedUncertainty,n.selectedComplexity)),t(e,91,0,n.getEmojis(n.selectedUncertainty,n.selectedComplexity))})}class qm{constructor(){this.uncertainty={value:0,emojis:[]},this.complexity={value:0,emojis:[]},this.uncertaintyInfo={label:"Incerteza",first:{icons:["\u{1f6f4}","\u{1f6b2}","\u{1f697}"],label:"O que fazer",description:"Est\xf3ria t\xe1 clara?"},second:{icons:["\u2728","\u{1f9ba}","\u{1f9e8}"],label:"Como fazer",description:"Como seria se o projeto n\xe3o fosse legado?"}},this.reproduceInfo={label:"Complexidade",first:{icons:["\u{1f431}\u200d\u{1f4bb}","\u{1f469}\u200d\u{1f4bb}","\u{1f528}"],label:"Desenvolver",description:"E agora com o projeto que temos, como vai ser?"},second:{icons:["\u{1f604}","\u{1f914}","\u{1f921}"],label:"Reproduzir",description:"E para testar, t\xe1 legal?"}}}ngOnInit(){}listenerUncertaintyRisk(t){var e=new Sm;e.value=this.getUncertaintyRiskNumber(t.value),e.emojis=t.emojis,this.uncertainty=e}listenerComplexityRisk(t){var e=new Sm;e.value=this.getComplexityRiskNumber(t.value),e.emojis=t.emojis,this.complexity=e}getUncertaintyRiskNumber(t){return[5].includes(t)?1:[10,12,15,6,7].includes(t)?2:[18,14,21].includes(t)?3:[0].includes(t)?0:void 0}getComplexityRiskNumber(t){return[5].includes(t)?5:[10,12,15,6,7].includes(t)?6:[18,14,21].includes(t)?7:[0].includes(t)?0:void 0}}var Bm=Wn({encapsulation:0,styles:[[".left-content[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto 0 auto auto}@media only screen and (max-width:992px){.left-content[_ngcontent-%COMP%]{margin:0 auto}.col-lg-6[_ngcontent-%COMP%]:last-child{justify-content:center!important}}"]],data:{}});function zm(t){return ts(0,[(t()(),Lo(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,6,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,5,"div",[["class","left-content"]],null,null,null,null,null)),(t()(),Lo(3,0,null,null,1,"app-risk-matrix-develop-reproduce",[],null,[[null,"listenerRisk"]],function(t,e,n){var r=!0;return"listenerRisk"===e&&(r=!1!==t.component.listenerUncertaintyRisk(n)&&r),r},Om,Am)),oi(4,114688,null,0,km,[],{info:[0,"info"]},{listenerRisk:"listenerRisk"}),(t()(),Lo(5,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Lo(6,0,null,null,1,"app-risk-matrix-develop-reproduce",[],null,[[null,"listenerRisk"]],function(t,e,n){var r=!0;return"listenerRisk"===e&&(r=!1!==t.component.listenerComplexityRisk(n)&&r),r},Om,Am)),oi(7,114688,null,0,km,[],{info:[0,"info"]},{listenerRisk:"listenerRisk"}),(t()(),Lo(8,0,null,null,2,"div",[["class","col-lg-6 d-flex justify-content-start"]],null,null,null,null,null)),(t()(),Lo(9,0,null,null,1,"app-risk-matrix-uncertainty-complexity",[],null,null,null,Fm,jm)),oi(10,114688,null,0,Vm,[Um],{setUncertaintyAndCalcRisk:[0,"setUncertaintyAndCalcRisk"],setComplexityAndCalcRisk:[1,"setComplexityAndCalcRisk"],room:[2,"room"]},null)],function(t,e){var n=e.component;t(e,4,0,n.uncertaintyInfo),t(e,7,0,n.reproduceInfo),t(e,10,0,n.uncertainty,n.complexity,n.room)},null)}function Gm(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-risk-matrix",[],null,null,null,zm,Bm)),oi(1,114688,null,0,qm,[],null,null)],function(t,e){t(e,1,0)},null)}var Hm=Mr("app-risk-matrix",qm,Gm,{room:"room"},{},[]);class $m{constructor(t){this.voteService=t,this.isOpenRisk=!1,this.activeCard=ym.find(t=>1==t.value)}ngOnInit(){this.loadActiveCard()}loadActiveCard(){this.voteService.listenerActiveVote(this.room.id).subscribe(t=>{t&&(this.activeCard=t.value)})}activeCardEvent(t){t.emojis=[],this.voteService.activeCardEvent(this.room,t)}toggleOpenRisk(){this.isOpenRisk=!this.isOpenRisk}}var Wm=Wn({encapsulation:0,styles:[[".risk-content[_ngcontent-%COMP%]{position:fixed;top:73px;right:-100%;bottom:0;background:#fff;padding-top:18px;width:100%;transition:right 1s ease;box-shadow:rgba(60,64,67,.3) 0 1px 2px 0,rgba(60,64,67,.15) 0 1px 3px 1px;overflow:hidden;overflow-y:auto}.risk-content.open[_ngcontent-%COMP%]{right:0}.button-toggle-risk[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;transition:all 1s ease}.button-toggle-risk.open[_ngcontent-%COMP%]{-webkit-transform:rotate(-50deg) translate(-42px,38px);transform:rotate(-50deg) translate(-42px,38px)}@media only screen and (max-width:768px){.risk-content[_ngcontent-%COMP%]{top:141px}}@media only screen and (max-width:600px){.button-toggle-risk[_ngcontent-%COMP%]{width:50px}.button-toggle-risk.open[_ngcontent-%COMP%]{-webkit-transform:rotate(-50deg) translate(-18px,16px);transform:rotate(-50deg) translate(-18px,16px)}}"]],data:{}});function Km(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-fibonacci-deck",[],null,[[null,"activeCardEvent"]],function(t,e,n){var r=!0;return"activeCardEvent"===e&&(r=!1!==t.component.activeCardEvent(n)&&r),r},xm,wm)),oi(1,114688,null,0,bm,[],{activeCard:[0,"activeCard"]},{activeCardEvent:"activeCardEvent"})],function(t,e){t(e,1,0,e.component.activeCard)},null)}function Xm(t){return ts(0,[(t()(),Lo(0,0,null,null,5,"div",[["class","risk-content"]],null,null,null,null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(2,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(3,{open:0}),(t()(),Lo(4,0,null,null,1,"app-risk-matrix",[],null,null,null,zm,Bm)),oi(5,114688,null,0,qm,[],{room:[0,"room"]},null)],function(t,e){var n=e.component,r=t(e,3,0,n.isOpenRisk);t(e,2,0,"risk-content",r),t(e,5,0,n.room)},null)}function Qm(t){return ts(0,[(t()(),Lo(0,0,null,null,3,"img",[["class","button-toggle-risk"],["src","assets/ace-up-the-sleeve.png"],["title","Carta na manga"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleOpenRisk()&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(2,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(3,{open:0})],function(t,e){var n=t(e,3,0,e.component.isOpenRisk);t(e,2,0,"button-toggle-risk",n)},null)}function Ym(t){return ts(0,[(t()(),Mo(16777216,null,null,1,null,Km)),oi(1,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,Xm)),oi(3,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,Qm)),oi(5,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.room.isFlip),t(e,3,0,!n.room.isFlip),t(e,5,0,!n.room.isFlip)},null)}class Jm{constructor(t,e){this.firestore=t,this.router=e,this.isFlip=!1}ngOnInit(){this.roomDoc=this.firestore.doc("rooms/"+this.room.id)}hasVotes(){return!(!this.room||!this.room.votes)&&this.room.votes.length>0}getCurrentTask(t){if(t=t||0,this.room&&this.room.tasks&&this.room.tasks.length>0)return this.room.tasks[t]}resetVotesAndGoBack(){this.resetVotes(),this.prevTask()}resetVotes(){this.room.average="-",this.room.isFlip=!1,this.room.votes=[],this.roomDoc.update(this.room)}flipCard(){this.room.isFlip=!0,this.averageCalc()}resetVotesAndNext(){this.resetVotes(),this.nextTask()}prevTask(){var t=this.room.currentTask-1;this.setCurrentTask(t<=-1?this.room.tasks.length-1:t)}averageCalc(){var t=this.room.votes.filter(t=>-1!=t.value.value&&99!=t.value.value).map(t=>t.value.value);this.room.average=Math.ceil(0==t.length?0:t.reduce((t,e)=>t+e)/t.length).toString(),this.roomDoc.update(this.room)}nextTask(){var t=this.room.currentTask+1;this.setCurrentTask(t>this.room.tasks.length-1?0:t)}setCurrentTask(t){this.room.currentTask=t,this.roomDoc.update(this.room)}firstTask(){this.setCurrentTask(0)}goTask(){this.router.navigateByUrl(`/tasks/${this.room.id}`)}lastTask(){this.setCurrentTask(this.room.tasks.length-1)}}var Zm=Wn({encapsulation:0,styles:[['.btn-group[_ngcontent-%COMP%]{width:100%}.btn-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-family:monospace}.btn-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-child(3){font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-weight:initial;width:100%}.btn-command[_ngcontent-%COMP%]{padding-bottom:16px}.btn-command[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 4px}.btn-command[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.btn-command[_ngcontent-%COMP%]   button.float-left[_ngcontent-%COMP%], .btn-command[_ngcontent-%COMP%]   button.float-right[_ngcontent-%COMP%]{margin:0}.btn-group-toggle[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.btn-group-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-child(3){display:inline-block;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.opacity-0[_ngcontent-%COMP%]{opacity:0}.btn-command[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.125);border-radius:.25rem}@media only screen and (max-width:360px){.btn-command[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;width:100%}}']],data:{}});function tv(t){return ts(0,[(t()(),Lo(0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,11,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Lo(2,0,null,null,10,"div",[["class","btn-group btn-group-toggle"],["data-toggle","buttons"]],null,null,null,null,null)),(t()(),Lo(3,0,null,null,1,"label",[["class","btn btn-light"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.firstTask()&&r),r},null,null)),(t()(),Yo(-1,null,[" << "])),(t()(),Lo(5,0,null,null,1,"label",[["class","btn btn-light"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.prevTask()&&r),r},null,null)),(t()(),Yo(-1,null,[" < "])),(t()(),Lo(7,0,null,null,1,"label",[["class","btn btn-light"]],[[8,"title",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.goTask()&&r),r},null,null)),(t()(),Yo(8,null,[" "," "])),(t()(),Lo(9,0,null,null,1,"label",[["class","btn btn-light"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.nextTask()&&r),r},null,null)),(t()(),Yo(-1,null,[" > "])),(t()(),Lo(11,0,null,null,1,"label",[["class","btn btn-light"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.lastTask()&&r),r},null,null)),(t()(),Yo(-1,null,[" >> "]))],null,function(t,e){var n=e.component;t(e,7,0,n.getCurrentTask(null==n.room?null:n.room.currentTask)),t(e,8,0,n.getCurrentTask(null==n.room?null:n.room.currentTask))})}function ev(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"button",[["class","btn btn-light float-left"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.resetVotesAndGoBack()&&r),r},null,null)),(t()(),Yo(-1,null,["Voltar"]))],null,null)}function nv(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.flipCard()&&r),r},null,null)),(t()(),Yo(-1,null,["Virar"]))],null,null)}function rv(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.resetVotesAndNext()&&r),r},null,null)),(t()(),Yo(-1,null,["Seguir"]))],null,null)}function iv(t){return ts(0,[(t()(),Lo(0,0,null,null,4,"button",[["class","btn btn-light float-right"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.resetVotesAndNext()&&r),r},null,null)),ai(512,null,Ia,Ta,[bn,wn,Ze,on]),oi(2,278528,null,0,Sa,[Ia],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(3,{"opacity-0":0}),(t()(),Yo(-1,null,["Seguir"]))],function(t,e){var n=t(e,3,0,e.component.isFlip);t(e,2,0,"btn btn-light float-right",n)},null)}function ov(t){return ts(0,[(t()(),Lo(0,0,null,null,10,"div",[["class","col-12 btn-command text-center"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,ev)),oi(2,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Lo(3,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.resetVotes()&&r),r},null,null)),(t()(),Yo(-1,null,["Revotar"])),(t()(),Mo(16777216,null,null,1,null,nv)),oi(6,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,rv)),oi(8,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,iv)),oi(10,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.getCurrentTask(null==n.room?null:n.room.currentTask)),t(e,6,0,!n.isFlip),t(e,8,0,n.isFlip),t(e,10,0,n.getCurrentTask(null==n.room?null:n.room.currentTask))},null)}function sv(t){return ts(0,[(t()(),Mo(16777216,null,null,1,null,tv)),oi(1,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Lo(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Lo(3,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Mo(16777216,null,null,1,null,ov)),oi(5,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.getCurrentTask(null==n.room?null:n.room.currentTask)),t(e,5,0,n.hasVotes())},null)}class av{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new uv(t,this.dueTime,this.scheduler))}}class uv extends g{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(lv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function lv(t){t.debouncedNext()}class cv{constructor(t,e,n){this.activatedRoute=t,this.firestore=e,this.userService=n,this.isFlip=!1,this.flipEvent=new S}ngOnInit(){this.loadRoom(),this.waitAndFlip()}waitAndFlip(){this.flipEvent.pipe(function(t,e=rd){return t=>t.lift(new av(50,e))}()).subscribe(t=>this.isFlip=t)}getRoomId(){return this.activatedRoute.snapshot.paramMap.get("id")}loadRoom(){var t=this.getRoomId();this.firestore.doc("rooms/"+t).valueChanges().subscribe(e=>{this.room=e,this.room.id=t,this.room.currentTask=this.room.currentTask?this.room.currentTask:0,this.flipEvent.next(this.room.isFlip),this.getUserAndAddUserToRoomIfNotExist(e)})}getUserAndAddUserToRoomIfNotExist(t){this.userService.getUserAndAddUserToRoomIfNotExist(t)}}var hv=Wn({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.pricing-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700}"]],data:{}});function fv(t){return ts(0,[(t()(),Lo(0,0,null,null,2,"div",[["class","pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,1,"h1",[["class","display-4"]],null,null,null,null,null)),(t()(),Yo(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component.room.name)})}function dv(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-votos-risk-report",[],null,null,null,Xg,Ug)),oi(1,114688,null,0,Lg,[],{room:[0,"room"]},null)],function(t,e){t(e,1,0,e.component.room)},null)}function pv(t){return ts(0,[(t()(),Lo(0,0,null,null,8,"section",[],null,null,null,null,null)),(t()(),Lo(1,0,null,null,1,"app-votes-average",[],null,null,null,nm,Yg)),oi(2,114688,null,0,Qg,[],{room:[0,"room"]},null),(t()(),Lo(3,0,null,null,1,"app-votes-cards",[],null,null,null,vm,im)),oi(4,114688,null,0,rm,[],{isFlip:[0,"isFlip"],room:[1,"room"]},null),(t()(),Lo(5,0,null,null,1,"app-votes-deck",[],null,null,null,Ym,Wm)),oi(6,114688,null,0,$m,[Um],{room:[0,"room"]},null),(t()(),Mo(16777216,null,null,1,null,dv)),oi(8,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.room),t(e,4,0,n.isFlip,n.room),t(e,6,0,n.room),t(e,8,0,n.isFlip)},null)}function gv(t){return ts(0,[(t()(),Lo(0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),Lo(1,0,null,null,1,"app-votes-controls",[],null,null,null,sv,Zm)),oi(2,114688,null,0,Jm,[pg,mf],{room:[0,"room"],isFlip:[1,"isFlip"]},null),(t()(),Mo(16777216,null,null,1,null,pv)),oi(4,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.room,n.isFlip),t(e,4,0,n.room)},null)}function mv(t){return ts(0,[(t()(),Mo(16777216,null,null,1,null,fv)),oi(1,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16777216,null,null,1,null,gv)),oi(3,16384,null,0,Na,[kn,xn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.room),t(e,3,0,n.room)},null)}function vv(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-votes",[],null,null,null,mv,hv)),oi(1,114688,null,0,cv,[ih,pg,Lm],null,null)],function(t,e){t(e,1,0)},null)}var yv=Mr("app-votes",cv,vv,{},{},[]),bv=Wn({encapsulation:0,styles:[[""]],data:{}});function wv(t){return ts(0,[(t()(),Lo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),oi(1,212992,null,0,_f,[wf,kn,We,[8,null],_n],null,null)],function(t,e){t(e,1,0)},null)}function _v(t){return ts(0,[(t()(),Lo(0,0,null,null,1,"app-root",[],null,null,null,wv,bv)),oi(1,49152,null,0,ua,[],null,null)],null,null)}var Ev,Cv=Mr("app-root",ua,_v,{},{},[]);n("6Joi");const Iv=(()=>Ev=class{static enablePersistence(t){return{ngModule:Ev,providers:[{provide:ug,useValue:!0},{provide:lg,useValue:t}]}}})();n("LOEa");const Tv=(()=>(class{}))();function xv(t){const e=function(t){return new _(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(B(t=>t.bytesTransferred/t.totalBytes*100))}}function Sv(t,e,n){return{getDownloadURL:()=>$(t.getDownloadURL(),e.outsideAngular).pipe(n),getMetadata:()=>$(t.getMetadata()).pipe(n),delete:()=>$(t.delete()),child:r=>Sv(t.child(r),e,n),updateMetatdata:e=>$(t.updateMetadata(e)),updateMetadata:e=>$(t.updateMetadata(e)),put:(e,n)=>xv(t.put(e,n)),putString:(e,n,r)=>xv(t.putString(e,n,r))}}const kv=new xt("angularfire2.storageBucket"),Av=(()=>(class{constructor(t,e,n,r,i){this.schedulers=new wd(i),this.keepUnstableUntilFirst=_d(this.schedulers,r),this.storage=i.runOutsideAngular(()=>Ad(t,i,e).storage(n||void 0))}ref(t){return Sv(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return Sv(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}))();var Ov=n("wj3C"),Nv=n.n(Ov),Pv=n("mrSG"),Rv=n("S+S0"),Dv="firebasestorage.googleapis.com",Mv=12e4,Lv=6e5,Uv=function(){function t(t,e){this.code_=jv(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return jv(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),Vv={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function jv(t){return"storage/"+t}function Fv(){return new Uv(Vv.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qv(){return new Uv(Vv.CANCELED,"User canceled the upload/download.")}function Bv(){return new Uv(Vv.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zv(t,e,n){return new Uv(Vv.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function Gv(){return new Uv(Vv.APP_DELETED,"The Firebase app was deleted.")}function Hv(t,e){return new Uv(Vv.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $v(t){throw new Uv(Vv.INTERNAL_ERROR,"Internal error: "+t)}var Wv={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Kv(t){switch(t){case Wv.RAW:case Wv.BASE64:case Wv.BASE64URL:case Wv.DATA_URL:return;default:throw"Expected one of the event types: ["+Wv.RAW+", "+Wv.BASE64+", "+Wv.BASE64URL+", "+Wv.DATA_URL+"]."}}var Xv=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Qv(t,e){switch(t){case Wv.RAW:return new Xv(Yv(e));case Wv.BASE64:case Wv.BASE64URL:return new Xv(Jv(t,e));case Wv.DATA_URL:return new Xv((n=new Zv(e)).base64?Jv(Wv.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Hv(Wv.DATA_URL,"Malformed data URL.")}return Yv(e)}(n.rest),new Zv(e).contentType)}var n;throw Fv()}function Yv(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Jv(t,e){switch(t){case Wv.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Hv(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Wv.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Hv(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(l){throw Hv(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Zv=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Hv(Wv.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),ty={STATE_CHANGED:"state_changed"},ey={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},ny={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ry(t){switch(t){case ey.RUNNING:case ey.PAUSING:case ey.CANCELING:return ny.RUNNING;case ey.PAUSED:return ny.PAUSED;case ey.SUCCESS:return ny.SUCCESS;case ey.CANCELED:return ny.CANCELED;case ey.ERROR:default:return ny.ERROR}}function iy(t){return null!=t}function oy(t){return void 0!==t}function sy(t){return"function"==typeof t}function ay(t){return"object"==typeof t}function uy(t){return ay(t)&&null!==t}function ly(t){return"string"==typeof t||t instanceof String}function cy(t){return hy(t)&&Number.isInteger(t)}function hy(t){return"number"==typeof t||t instanceof Number}function fy(t){return dy()&&t instanceof Blob}function dy(){return"undefined"!=typeof Blob}var py=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),gy=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=py.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=py.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=py.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw $v("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),iy(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return iy(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw $v("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw $v("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw $v("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){iy(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){iy(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),my=function(){function t(){}return t.prototype.createXhrIo=function(){return new gy},t}();function vy(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var yy=function(){function t(t,e){var n=0,r="";fy(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(fy(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(dy()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=vy();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(dy())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}).apply(null,r))}var i=e.map(function(t){return ly(t)?Qv(Wv.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),by=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Uv(Vv.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o=Dv.replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],l=u.regex.exec(e);if(l){var c=l[u.indices.path];c||(c=""),n=new t(l[u.indices.bucket],c),u.postModify(n);break}}if(null==n)throw function(t){return new Uv(Vv.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function wy(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return ay(n=e)&&!Array.isArray(n)?e:null}function _y(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Ey(t){return"https://"+Dv+"/v0"+t}function Cy(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Iy(t,e){return e}var Ty=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Iy}}(),xy=null;function Sy(t,e,n){var r=wy(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new by(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function ky(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function Ay(t){if(!ay(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!ay(n))throw"Expected object for 'customMetadata' mapping."}else if(uy(n))throw"Mapping for '"+e+"' cannot be an object."}}var Oy="maxResults",Ny=1e3,Py="pageToken",Ry="prefixes",Dy="items";function My(t){if(!ay(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===Oy){if(!cy(t[Oy])||t[Oy]<=0)throw"Expected maxResults to be a positive number.";if(t[Oy]>1e3)throw"Expected maxResults to be less than or equal to "+Ny+"."}else{if(e!==Py)throw"Unknown option: "+e;if(t[Py]&&!ly(t[Py]))throw"Expected pageToken to be string."}}var Ly=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Uy(t){if(!t)throw Fv()}function Vy(t,e){return function(n,r){var i=Sy(t,r,e);return Uy(null!==i),i}}function jy(t){return function(e,n){var r;return(r=401===e.getStatus()?new Uv(Vv.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Uv(Vv.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Uv(Vv.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function Fy(t){var e=jy(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Uv(Vv.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function qy(t,e,n){var r=Ey(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Ly(r,"GET",Vy(t,n),i);return o.errorHandler=Fy(e),o}function By(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var zy=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Gy(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Uy(!1)}return Uy(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Hy=function(){return function(t,e,n){if(sy(t)||iy(e)||iy(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),$y=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Wy(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var s,a,u,l;if(!(r<=n.length&&n.length<=i))throw(s=r)===(a=i)?(u=s,l=1===s?"argument":"arguments"):(u="between "+s+" and "+a,l="arguments"),new Uv(Vv.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+u+" "+l+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(c){throw c instanceof Error?zv(o,t,c.message):zv(o,t,c)}}var Ky=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!oy(e)||t(e)},this.optional=!!e}}();function Xy(t,e){function n(t){if(!ly(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new Ky(r,e)}function Qy(t){return new Ky(Ay,t)}function Yy(){return new Ky(function(t){if(!(hy(t)&&t>=0))throw"Expected a number 0 or greater."})}function Jy(t,e){return new Ky(function(e){if(!(null===e||iy(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)},e)}function Zy(t){return new Ky(function(t){if(null!==t&&!sy(t))throw"Expected a Function."},t)}function tb(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var eb,nb,rb=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ey.RUNNING,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(Vv.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(ey.ERROR))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(Vv.CANCELED)?s.completeTransitions_():(s.error_=t,s.transition_(ey.ERROR))},this.promise_=new Promise(function(t,e){s.resolve_=t,s.reject_=e,s.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===ey.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then(function(n){switch(e.state_){case ey.RUNNING:t(n);break;case ey.CANCELING:e.transition_(ey.CANCELED);break;case ey.PAUSING:e.transition_(ey.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=By(e,r,i),a={name:s.fullPath},u=Ey(o),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=ky(s,n),h=new Ly(u,"POST",function(t){var e;Gy(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Uy(!1)}return Uy(ly(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=l,h.body=c,h.errorHandler=jy(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(e,n,r,i){var o=new Ly(r,"POST",function(t){var e=Gy(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Uy(!1)}n||Uy(!1);var r=Number(n);return Uy(!isNaN(r)),new zy(r,i.size(),"final"===e)},t.service_.maxUploadRetryTime);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=jy(n),o}(0,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new zy(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new zy(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Uv(Vv.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,f={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+c);if(null===d)throw Bv();var p=new Ly(n,"POST",function(t,n){var i,s=Gy(t,["active","final"]),a=u.current+c,l=r.size();return i="final"===s?Vy(e,o)(t,n):null,new zy(a,l,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=jy(t),p}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(ey.ERROR)}var s=t.service_.makeRequest(o,i);t.request_=s,s.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(ey.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=qy(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(ey.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=By(e,r,i),l=ky(u,n),c=yy.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===c)throw Bv();var h={name:u.fullPath},f=Ey(o),d=t.maxUploadRetryTime,p=new Ly(f,"POST",Vy(t,n),d);return p.urlParams=h,p.headers=s,p.body=c.uploadData(),p.errorHandler=jy(e),p}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(ey.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case ey.CANCELING:case ey.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case ey.RUNNING:var e=this.state_===ey.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case ey.PAUSED:this.state_=t,this.notifyObservers_();break;case ey.CANCELED:this.error_=qv(),this.state_=t,this.notifyObservers_();break;case ey.ERROR:case ey.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case ey.PAUSING:this.transition_(ey.PAUSED);break;case ey.CANCELING:this.transition_(ey.CANCELED);break;case ey.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=ry(this.state_);return new $y(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=Zy(!0).validator,s=Jy(null,!0).validator;function a(t){try{return void o(t)}catch(e){}try{if(s(t),!(oy(t.next)||oy(t.error)||oy(t.complete)))throw"";return}catch(e){throw i}}Wy("on",[Xy(function(){if(t!==ty.STATE_CHANGED)throw"Expected one of the event types: ["+ty.STATE_CHANGED+"]."}),Jy(a,!0),Zy(!0),Zy(!0)],arguments);var u=this;function l(t){return function(e,n,i){null!==t&&Wy("on",t,arguments);var o=new Hy(e,n,r);return u.addObserver_(o),function(){u.removeObserver_(o)}}}var c=[Jy(function(t){if(null===t)throw i;a(t)}),Zy(!0),Zy(!0)];return oy(e)||oy(n)||oy(r)?l(null)(e,n,r):l(c)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(ry(this.state_)){case ny.SUCCESS:tb(this.resolve_.bind(null,this.snapshot))();break;case ny.CANCELED:case ny.ERROR:tb(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(ry(this.state_)){case ny.RUNNING:case ny.PAUSED:t.next&&tb(t.next.bind(t,this.snapshot))();break;case ny.SUCCESS:t.complete&&tb(t.complete.bind(t))();break;case ny.CANCELED:case ny.ERROR:t.error&&tb(t.error.bind(t,this.error_))();break;default:t.error&&tb(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){Wy("resume",[],arguments);var t=this.state_===ey.PAUSED||this.state_===ey.PAUSING;return t&&this.transition_(ey.RUNNING),t},t.prototype.pause=function(){Wy("pause",[],arguments);var t=this.state_===ey.RUNNING;return t&&this.transition_(ey.PAUSING),t},t.prototype.cancel=function(){Wy("cancel",[],arguments);var t=this.state_===ey.RUNNING||this.state_===ey.PAUSING;return t&&this.transition_(ey.CANCELING),t},t}(),ib=function(){function t(t,e){this.service=t,this.location=e instanceof by?e:by.makeFromUrl(e)}return t.prototype.toString=function(){return Wy("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(xy)return xy;var t=[];t.push(new Ty("bucket")),t.push(new Ty("generation")),t.push(new Ty("metageneration")),t.push(new Ty("name","fullPath",!0));var e=new Ty("name");e.xform=function(t,e){return function(t){return!ly(t)||t.length<2?t:_y(t)}(e)},t.push(e);var n=new Ty("size");return n.xform=function(t,e){return iy(e)?Number(e):e},t.push(n),t.push(new Ty("timeCreated")),t.push(new Ty("updated")),t.push(new Ty("md5Hash",null,!0)),t.push(new Ty("cacheControl",null,!0)),t.push(new Ty("contentDisposition",null,!0)),t.push(new Ty("contentEncoding",null,!0)),t.push(new Ty("contentLanguage",null,!0)),t.push(new Ty("contentType",null,!0)),t.push(new Ty("metadata","customMetadata",!0)),xy=t}()},t.prototype.child=function(t){Wy("child",[Xy()],arguments);var e=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new by(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new by(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new by(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return _y(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),Wy("put",[new Ky(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||dy()&&t instanceof Blob))throw"Expected Blob or File."}),Qy(!0)],arguments),this.throwIfRoot_("put"),new rb(this,this.service,this.location,this.mappings(),new yy(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Wv.RAW),Wy("putString",[Xy(),Xy(Kv,!0),Qy(!0)],arguments),this.throwIfRoot_("putString");var r=Qv(e,t),i=Object.assign({},n);return!iy(i.contentType)&&iy(r.contentType)&&(i.contentType=r.contentType),new rb(this,this.service,this.location,this.mappings(),new yy(r.data,!0),i)},t.prototype.delete=function(){var t=this;return Wy("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(e){var n=function(t,e){var n=Ey(e.fullServerUrl()),r=new Ly(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Fy(e),r}(t.service,t.location);return t.service.makeRequest(n,e).getPromise()})},t.prototype.listAll=function(){Wy("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then(function(){return t})},t.prototype.listAllHelper=function(t,e){return Object(Pv.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(Pv.__generator)(this,function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})},t.prototype.list=function(t){Wy("list",[new Ky(My,!0)],arguments);var e=this;return this.service.getAuthToken().then(function(n){var r=t||{},i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Ey(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Ly(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var i=wy(r);return null===i?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Ry])for(var i=0,o=n[Ry];i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new by(e,s));r.prefixes.push(a)}if(n[Dy])for(var u=0,l=n[Dy];u<l.length;u++)a=t.makeStorageReference(new by(e,l[u].name)),r.items.push(a);return r}(t,e,i)}(t,e);return Uy(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=jy(e),u}(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()})},t.prototype.getMetadata=function(){var t=this;return Wy("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(e){var n=qy(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){var e=this;return Wy("updateMetadata",[Qy()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(n){var r=function(t,e,n,r){var i=Ey(e.fullServerUrl()),o=ky(n,r),s=t.maxOperationRetryTime,a=new Ly(i,"PATCH",Vy(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Fy(e),a}(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){var t=this;return Wy("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(e){var n=function(t,e,n){var r=Ey(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Ly(r,"GET",function(t,e){return function(n,r){var i=Sy(t,r,e);return Uy(null!==i),function(t,e){var n=wy(r);if(null===n)return null;if(!ly(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var n=t.fullPath;return Ey("/b/"+o(t.bucket)+"/o/"+o(n))+Cy({alt:"media",token:e})})[0]}(i)}}(t,n),i);return o.errorHandler=Fy(e),o}(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Uv(Vv.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new Uv(Vv.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),ob=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),sb=function(){function t(t,e,n,r,i,o,s,a,u,l,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());oy(a)?i(a):i()}catch(u){o(u)}else null!==s?((r=Fv()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Gv():qv():new Uv(Vv.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new ab(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function c(e){i=setTimeout(function(){i=null,t(h,a())},e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?l.call.apply(l,Object(Pv.__spreadArrays)([null,t],n)):a()||o?l.call.apply(l,Object(Pv.__spreadArrays)([null,t],n)):(r<64&&(r*=2),1===s?(s=2,e=0):e=1e3*(r+Math.random()),c(e)))}var f=!1;function d(t){f||(f=!0,u||(null!==i?(t||(s=2),clearTimeout(i),c(0)):t||(s=1)))}return c(0),setTimeout(function(){o=!0,d(!0)},n),d}(function(e,n){if(n)e(!1,new ab(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===py.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new ab(s,n))}else{var a=n.getErrorCode()===py.ABORT;e(!1,new ab(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),ab=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}(),ub=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=Mv,this.maxUploadRetryTime_=Lv,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?by.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new lb(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:by.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(Pv.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Pv.__generator)(this,function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(t){return t.cancel()}),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new ib(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new ob(Gv());var r=function(t,e,n,r){var i=Cy(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Nv.a?Nv.a.SDK_VERSION:"AppManager")}(s),new sb(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then(function(){return n.requests_.delete(r)},function(){return n.requests_.delete(r)}),r},t.prototype.ref=function(t){if(Wy("ref",[Xy(function(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new ib(this,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return Wy("refFromURL",[Xy(function(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{by.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new ib(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){Wy("setMaxUploadRetryTime",[Yy()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){Wy("setMaxOperationRetryTime",[Yy()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),lb=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();nb={TaskState:ny,TaskEvent:ty,StringFormat:Wv,Storage:ub,Reference:ib},(eb=Nv.a).INTERNAL.registerComponent(new Rv.Component("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new ub(n,r,new my,e)},"PUBLIC").setServiceProps(nb).setMultipleInstances(!0)),eb.registerVersion("@firebase/storage","0.3.43");const cb=(()=>(class{}))(),hb=(()=>{class t{constructor(t,e){this.fireAuth=t,this.router=e}canActivate(t,e){return this.fireAuth.user.pipe(B(t=>null!=t||this.router.parseUrl("/login")))}}return t.ngInjectableDef=dt({factory:function(){return new t(Tt(Nd),Tt(mf))},token:t,providedIn:"root"}),t})();class fb{}var db=oa(aa,[ua],function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===qe&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[zn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([xr(512,We,Ke,[[8,[$f,Md,Gd,Tg,Pg,yv,Hm,Cv]],[3,We],Qe]),xr(5120,Ao,Po,[[3,Ao]]),xr(4608,Ea,Ca,[Ao,[2,_a]]),xr(5120,Ei,Ro,[Qi]),xr(5120,ki,Ai,[]),xr(5120,bn,Oo,[]),xr(5120,wn,No,[]),xr(4608,jl,Fl,[Ba]),xr(6144,xe,null,[jl]),xr(4608,Pl,Dl,[]),xr(5120,ol,function(t,e,n,r,i,o,s,a){return[new Ol(t,e,n),new Vl(r),new Ml(i,o,s,a)]},[Ba,Qi,Pi,Ba,Ba,Pl,Di,[2,Rl]]),xr(4608,sl,sl,[ol,Qi]),xr(135680,ll,ll,[Ba]),xr(4608,ml,ml,[sl,ll,ki]),xr(6144,nn,null,[ml]),xr(6144,ul,null,[ll]),xr(4608,ro,ro,[Qi]),xr(5120,ih,Vf,[mf]),xr(4608,Tf,Tf,[]),xr(6144,Cf,null,[Tf]),xr(135680,xf,xf,[mf,Ti,Fi,Nt,Cf]),xr(4608,If,If,[]),xr(5120,Sf,Rf,[mf,Ha,kf]),xr(5120,Bf,qf,[jf]),xr(5120,Ri,function(t){return[t]},[Bf]),xr(5120,Sd,Ad,[Cd,Qi,[2,Id]]),xr(4608,pg,pg,[Cd,[2,Id],[2,ug],[2,cg],Pi,Qi,[2,lg]]),xr(4608,Nd,Nd,[Cd,[2,Id],Pi,Qi]),xr(4608,Av,Av,[Cd,[2,Id],[2,kv],Pi,Qi]),xr(4608,Qp,Qp,[]),xr(4608,mp,mp,[]),xr(1073742336,qa,qa,[]),xr(1024,te,Kl,[]),xr(1024,co,function(){return[Nf()]},[]),xr(512,jf,jf,[Nt]),xr(1024,xi,function(t,e){return[(n=t,nl("probe",il),nl("coreTokens",Object.assign({},rl,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>il),Ff(e)];var n},[[2,co],jf]),xr(512,Si,Si,[[2,xi]]),xr(131584,mo,mo,[Qi,Di,Nt,te,We,Si]),xr(1073742336,Do,Do,[mo]),xr(1073742336,Xl,Xl,[[3,Xl]]),xr(1024,Af,Mf,[[3,mf]]),xr(512,Lc,Uc,[]),xr(512,wf,wf,[]),xr(256,kf,{useHash:!0},[]),xr(1024,ha,Df,[la,[2,fa],kf]),xr(512,da,da,[ha,la]),xr(512,Fi,Fi,[]),xr(512,Ti,wo,[Fi,[2,yo]]),xr(1024,lf,function(){return[[{path:"",redirectTo:"/rooms",pathMatch:"full"},{path:"login",component:Xf},{path:"",component:Fd,canActivate:[hb],children:[{path:"rooms",component:_g},{path:"tasks/:id",component:Sg},{path:"votes/:id",component:cv},{path:"risk",component:qm}]}]]},[]),xr(1024,mf,Uf,[mo,Lc,wf,da,Nt,Ti,Fi,lf,kf,[2,hf],[2,af]]),xr(1073742336,Pf,Pf,[[2,Af],[2,mf]]),xr(1073742336,fb,fb,[]),xr(1073742336,Od,Od,[Pi]),xr(1073742336,Iv,Iv,[]),xr(1073742336,Tv,Tv,[]),xr(1073742336,cb,cb,[]),xr(1073742336,Xp,Xp,[]),xr(1073742336,Yp,Yp,[]),xr(1073742336,aa,aa,[]),xr(256,qe,!0,[]),xr(256,Cd,{apiKey:"AIzaSyDEMf3XzmfjVr8jt7XgUikz3w9Xwgt15XM",authDomain:"planningpoker-ed055.firebaseapp.com",projectId:"planningpoker-ed055",storageBucket:"planningpoker-ed055.appspot.com",messagingSenderId:"1082193721806",appId:"1:1082193721806:web:2e7ec1a52c7708783b539f",measurementId:"G-1EDZYEV0EL"},[]),xr(256,Id,void 0,[])])});(function(){if(ne)throw new Error("Cannot enable prod mode after platform setup.");ee=!1})(),Wl().bootstrapModuleFactory(db).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&a)<<2|l>>6,h=63&l;u||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p="FirebaseError",g=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?function(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}(o,r):"Error",a=new g(i,this.serviceName+": "+s+" ("+i+")."),u=0,l=Object.keys(r);u<l.length;u++){var c=l[u];"_"!==c.slice(-1)&&(c in a&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),a[c]=r[c])}return a},t}(),v=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(l(o[0])||""),n=y(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^a&(u^l),o=1518500249):(i=a^u^l,o=1859775393):r<60?(i=a&u|l&(a|u),o=2400959708):(i=a^u^l,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),_=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=g,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=w,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=C,e.getUA=f,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);